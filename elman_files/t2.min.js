//v - "0.0.155" README.md build node_modules package-lock.json package.json scripts Build time: 09-27-2023 18:21:35n README.md build node_modules package-lock.json package.json scripts 
 window._event_collector=window._event_collector||[],_event_collector.apiPost="https://pdp-service.prd-00.retargetly.com/event_collector";const UACH_FIELDS=["architecture","bitness","uafullversion","model","platform","platformVersion","fullVersionList"];let _ec_byteToHex=[];for(let e=0;e<256;++e)_ec_byteToHex[e]=(e+256).toString(16).substr(1);_event_collector.sha256=function(e){function h(e,t){return e>>>t|e<<32-t}var m=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998];function w(e,t){var o=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(o>>16)<<16|65535&o}for(var t,o=function(e){for(var t="",o=0;o<32*e.length;o+=8)t+=String.fromCharCode(e[o>>5]>>>24-o%32&255);return t}(function(e,t){var o,r,n,c,l,a,_,i,v,s,u,d,g,f=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],p=new Array(64);for(e[t>>5]|=128<<24-t%32,e[15+(64+t>>9<<4)]=t,v=0;v<e.length;v+=16){for(o=f[0],r=f[1],n=f[2],c=f[3],l=f[4],a=f[5],_=f[6],i=f[7],s=0;s<64;s++)p[s]=s<16?e[s+v]:w(w(w(h(g=p[s-2],17)^h(g,19)^g>>>10,p[s-7]),h(g=p[s-15],7)^h(g,18)^g>>>3),p[s-16]),u=w(w(w(w(i,h(g=l,6)^h(g,11)^h(g,25)),l&a^~l&_),m[s]),p[s]),d=w(h(d=o,2)^h(d,13)^h(d,22),o&r^o&n^r&n),i=_,_=a,a=l,l=w(c,u),c=n,n=r,r=o,o=w(u,d);f[0]=w(o,f[0]),f[1]=w(r,f[1]),f[2]=w(n,f[2]),f[3]=w(c,f[3]),f[4]=w(l,f[4]),f[5]=w(a,f[5]),f[6]=w(_,f[6]),f[7]=w(i,f[7])}return f}(function(e){for(var t=Array(e.length>>2),o=0;o<t.length;o++)t[o]=0;for(o=0;o<8*e.length;o+=8)t[o>>5]|=(255&e.charCodeAt(o/8))<<24-o%32;return t}(e=function(e){for(var t,o,r="",n=-1;++n<e.length;)t=e.charCodeAt(n),o=n+1<e.length?e.charCodeAt(n+1):0,55296<=t&&t<=56319&&56320<=o&&o<=57343&&(t=65536+((1023&t)<<10)+(1023&o),n++),t<=127?r+=String.fromCharCode(t):t<=2047?r+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?r+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(r+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return r}(e)),8*e.length)),r="0123456789abcdef",n="",c=0;c<o.length;c++)t=o.charCodeAt(c),n+=r.charAt(t>>>4&15)+r.charAt(15&t);return n},_event_collector.options=_event_collector.options||{},_event_collector.range=function(o,e=o){return Array(e-o+1).fill().map((e,t)=>o+t)},_event_collector.extract=function(e,t,o){t=e.match(t);return t?t[o]:e};var _ec_window=window,_ec_document=document;_event_collector.getUrl=function(e){if(void 0!==_event_collector.options&&void 0!==_event_collector.options.url&&""!==_event_collector.options.url){if(/^(((H|h)(T|t)(T|t)(P|p)(S|s)?):\/\/)?[-a-zA-Z0-9@:%._\+~#=]{2,100}\.[a-zA-Z]{2,10}(\/([-a-zA-Z0-9@:%_\+.~#?&//=]*))?/.test(_event_collector.options.url))return _event_collector.browserUrl=_d.location.href,_event_collector.options.url;console.error("Invalid URL on option. It will be ignored.")}return e},_event_collector.getDataFromArray=function(e){var t,o={};for(t of e)for(var r in t)if(t.hasOwnProperty(r)){if(void 0===o[r]&&(o[r]=[]),Array.isArray(t[r]))for(var n of t[r])o[r].includes(n)||o[r].push(n);"string"!=typeof t[r]||o[r].includes(t[r])||o[r].push(t[r])}return o},_event_collector.getTimeDiffHours=function(e,t){e=Math.abs(e-t);return Math.ceil(e/144e4)},_event_collector.isEmptyData=function(e){for(var t in e.data)if(e.data.hasOwnProperty(t)&&Array.isArray(e.data[t])&&0<e.data[t].length)return!1;return!e.env},_event_collector.getPlainEnv=function(){try{var t=document.querySelector("ins.adsbygoogle"),o=t&&0===t.innerHTML.replace(/\s/g,"").length;let e;var r,n=document.createElement("canvas").getContext("webgl"),c=(n&&(r=n.getExtension("WEBGL_ec_documentebug_renderer_info"))&&(e={vendor:n.getParameter(r.UNMASKED_VENDOR_ec_windowEBGL),renderer:n.getParameter(r.UNMASKED_RENDERER_ec_windowEBGL)}),parseInt(navigator.hardwareConcurrency));return{tz:(new Date).getTimezoneOffset(),h:window.screen.height,w:window.screen.width,cd:window.screen.colorDepth,ua:navigator.userAgent,lse:_event_collector.isStorageAvailable("localStorage"),cke:_event_collector.isCookieAvailable(),adb:o,glv:e?e.vendor:null,glr:e?e.renderer:null,cpu:isNaN(c)?1:c}}catch(e){return{}}},_event_collector.getFlocId=async function(){try{var e=(await document.interestCohort())["id"];return e}catch(e){return""}},_event_collector.getTimeoutController=function(){try{const e=new AbortController;return e?(setTimeout(()=>e.abort(),12e3),e):!1}catch(e){return!1}},_event_collector.setDataToSend=function(e){let t={};try{t={...e.pv,...e.env.uach,...e.env.plain,pid:_event_collector.pid,fp_id:e.fp_id,tp_id:e.tp_id,dt:"web"}}catch(e){return!1}return t},_event_collector.send=async function(){var e=_event_collector.apiPost,t=_event_collector.getSavedEventCollector();_event_collector.tp_id=_event_collector.getRlId();let o=null;t.fp_id?(o=t.fp_id,_event_collector.saveFirstPartyCookie("_event_collector",t.fp_id)):(o=_event_collector.uuiV4(),_event_collector.saveFirstPartyCookie("_event_collector",o));t={data:{},pv:{},fp_id:o,tp_id:_event_collector.tp_id};if(0<_event_collector.length&&(t.data=_event_collector.getDataFromArray(_event_collector)),t.env={},_event_collector.page_view=_event_collector.pageViewObject(),t.env.uach=await _event_collector.getUACH(),t.env.plain=_event_collector.getPlainEnv(),_event_collector.page_view&&(t.pv={..._event_collector.page_view}),!_event_collector.isEmptyData(t)){var t=_event_collector.setDataToSend(t),r=_event_collector.getTimeoutController(),t={method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},referrerPolicy:"no-referrer-when-downgrade",body:JSON.stringify(t)};r&&(t.signal=r.signal);try{var n=await fetch(e,t);_event_collector.sending=!1,_event_collector.length=0,_event_collector.storageAudiences(await n.json())}catch(e){console.error("Error:",e)}r&&clearTimeout(r)}},_event_collector.storageAudiences=function(e){e.dtk&&e.device.audiences&&(e=e.device.audiences.join(","),_event_collector.saveFirstPartyCookie("_rl_aud",e))},_event_collector.getUACH=async function(){var e,t={};return t=navigator.userAgentData&&navigator.userAgentData.brands?{arch:(e=await navigator.userAgentData.getHighEntropyValues(UACH_FIELDS)).architecture||"",btns:e.bitness||"",mdl:e.model||"",plat:e.platform||"",pvs:e.platformVersion||"",ufv:_event_collector.convertUACHFulLVersionListToString(e.fullVersionList||[])}:t},_event_collector.getRlId=function(){try{var e="undefined"!=typeof Storage?window.localStorage.getItem("_rlid"):document.cookie._rlid;return e||null}catch(e){}},_event_collector.convertUACHFulLVersionListToString=function(e){if(!e||0===e.length)return"";let t="";for(var o of e){""!==t&&(t+=", ");o=o.brand+";v="+o.version;t+=o}return t},_event_collector.pageViewObject=function(){var e={},t=_ec_window.parent!==_ec_window.self?_ec_window.parent===_ec_window.top?1:2:0,o={ilvl:t,url:0==t?_ec_document.location.href:1==t?_ec_document.referrer:"",rf:0==t?_ec_document.referrer:"",tl:0==t?_ec_document.title:"",desc:"",kw:"",ogt:"",ogs:""};o.url=_event_collector.getUrl(o.url),o.browserUrl=_event_collector.browserUrl;try{e=_ec_window.top.document,o.url=_ec_document.top.location.href,o.referrer=e.referrer,o.title=e.title||""}catch(e){}this.referer&&(o.referrer=this.referer);var r=e.getElementsByTagName?e.getElementsByTagName("meta"):[];for(let e=0;e<r.length;e++)r[e].name&&"keywords"===r[e].name.toLowerCase()&&r[e].content?o.kw=r[e].content.replace(/^\s+|\s+$/g,"").substr(0,100):r[e].name&&"description"===r[e].name.toLowerCase()&&r[e].content?o.desc=r[e].content.replace(/^\s+|\s+$/g,"").substr(0,300):r[e].getAttribute("property")&&"og:title"===r[e].getAttribute("property").toLowerCase()&&r[e].content?o.ogt=r[e].content.replace(/^\s+|\s+$/g,"").substr(0,300):r[e].getAttribute("property")&&"og:subject"===r[e].getAttribute("property").toLowerCase()&&r[e].content&&(o.ogs=r[e].content.replace(/^\s+|\s+$/g,"").substr(0,300));return _ec_document.cookie&&(t=_ec_document.cookie.match(/.*__utmz=([^;]*)/))?o.utmz=t[1]:o.utmz="",o},_event_collector.saveFirstPartyCookie=function(e,t){var o;_event_collector.isStorageAvailable("localStorage")&&window.localStorage.setItem(e,t),_event_collector.isCookieAvailable()&&((o={})[e]=t,o.path="/",o.expires=new Date((new Date).getTime()+7776e6).toUTCString(),document.cookie=_event_collector.cookieStringify(o))},_event_collector.cookieStringify=t=>Object.keys(t).map(e=>e+"="+t[e]).join(";"),_event_collector.uuiV4=function(e,t,o){var r=t&&o||0,n=("string"==typeof e&&(t="binary"===e?new Array(16):null,e=null),e=e||{},_event_collector.getRandomBytes(16));if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t)for(let e=0;e<16;++e)t[r+e]=n[e];return t||_event_collector.bytesToUuid(n)},_event_collector.getRandomBytes=function(t){var o=self.crypto||self.msCrypto,r=new Uint8Array(t);for(let e=0;e<t;e+=65536)o.getRandomValues(r.subarray(e,e+Math.min(t-e,65536)));return r},_event_collector.bytesToUuid=function(e,t){var t=t||0,o=_ec_byteToHex;return[o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],"-",o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],o[e[t++]],o[e[+t]]].join("")},_event_collector.sendAfterLoad=function(){_event_collector.sending||(_event_collector.sending=!0,_event_collector.send())},_event_collector.timeToDetectChangeUrl=200,_event_collector.urlChangeHook=function(){_event_collector.udact=!0;var e=_event_collector.getUrl(_ec_document.location.href);_event_collector.oldURL!=e&&(_event_collector.referer=_event_collector.oldURL,_event_collector.oldURL=e,_event_collector.sendAfterLoad()),setTimeout(_event_collector.urlChangeHook,_event_collector.timeToDetectChangeUrl)},_event_collector.urlChangeHook();
