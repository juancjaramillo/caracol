(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function i(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return t(...i)}function n(t){return void 0===t}function r(t){return n(t)||null===t}t.r(e),t.d(e,{device:()=>ie,isAndroid:()=>jt,isAndroidPhone:()=>_t,isAndroidTablet:()=>qt,isDesktop:()=>ee,isFacebookApp:()=>ne,isIOs:()=>ae,isIPad:()=>Kt,isIPhone:()=>Jt,isInstagramApp:()=>re,isMobile:()=>te,isPinterestApp:()=>se,isTablet:()=>Xt,isWindows:()=>Ht,isWindowsPhone:()=>$t,isWindowsTablet:()=>Zt});let{toString:s}=Object.prototype;function a(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s.call(t)}function o(t){return"[object Array]"===a(t)}function d(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(let i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function c(t){let{defineSlots:e}=t;return Object.freeze({_loaded_:!0,defineSlots:e,cmd:{push:i}})}const l="__sm__",u={TAGS:["smsh","smtag","smtags","smt"],DEBUG:["smdebug","sm-debug"]},h={SUNMEDIA:"sm",CLIENT:"client"},A={DEFAULT:"d",INTEGRATION:"s"},m={VAST:"v",BANNER:"b"},p={TYPES:{VIDEO:"Video",SOCIAL:"SocialAd",SCROLLER:"Scroller",IMAGE:"AdImage",DISPLAY:"Display",PROGRAMMATIC_DISPLAY:"SSP",SURVEY:"Survey",NO_VIDEO_REMINDER:"NoVideoReminder"},TAG_PARAMS:{SIZE:"s"}},g={TYPES:{BRANDLIFT:"Brandlift",DISPLAY:"Display",HEADER_BIDDING:"HeaderBidding",INDISPLAY:"InDisplay",INSTORIES:"InStories",SCROLLER:"Scroller",VIDEO:"Video"}},f={INITIAL:"format-init",PROGRAMMATIC_DISPLAY_AD_SIZE:"format-programmatic-display-ad-size"},v=1,E=1,b=0,I={NOT_FOUND:"notFound",SEARCHING:"searching",FOUND:"found"},y="sm",T="cmpValues",C={DEBUG:`${y}-debug`,CONFIG:`${y}-config`,INTEGRATION:`${y}-integration`},S={TYPE:`${y}-log`,NEW_INTEGRATION:"new-integration",REGISTER_INSTANCE:"register-instance",UNREGISTER_INSTANCE:"unregister-instance"},w=1,R=2,k=3,P=4,D=7,M=18,N=41,O=51,x=85,L=201,U=202,V=203,F=204,B=205,G=206,z=207,W=208,Y=209,Q=1,H=2,j=3,_=0,q=1,K=2,$=3,Z=5;function X(t){window.top.postMessage({type:S.TYPE,message:t},"*")}function J(t){return"function"==typeof t}function tt(t){return J(t)?function(){return!t(...arguments)}:!t}function et(t){const e=typeof t;return"string"===e||"object"===e&&null!=t&&!Array.isArray(t)&&"[object String]"===a(t)}function it(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(tt(et(t)))throw new Error(`${e||t} should be a string!`)}class nt{constructor(){this.debug=!1}setMode(t){this.debug=Boolean(t)}log(){let{type:t="log",style:e="font-weight: bold",args:i=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.debug){const n=`${y}-${t}:`.toUpperCase();(console[t]||console.log)?.apply(console,[`%c${n}`,e,...i])}}info(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.log({type:"info",style:"color: blue; font-weight: bold",args:e})}warning(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.log({type:"warn",args:e})}warnDeprecation(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.log({type:"warn",style:"font-weight: bold; color: #ff0000;",args:["Calling deprecated function \n*\n",...e,"\n*\n"]})}error(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.log({type:"error",args:e})}}const rt=new nt;rt.wrapWithName=t=>{it(t,"loggerName");const e=t.toUpperCase();return{info:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return rt.info(`[${e}]`,...i)},error:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return rt.error(`[${e}]`,...i)},warning:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return rt.warning(`[${e}]`,...i)},warnDeprecation:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return rt.warnDeprecation(`[${e}]`,...i)}}};const st=rt;function at(t,e){return function i(n){return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];const o=[...n,...s];return o.length>=t?e(...o):i(o)}}([])}const ot=at(3,((t,e,i)=>t(i)?e(i):i));function dt(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>null;return function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];try{return t(...n)}catch(t){return e(t,...n)}}}function ct(t){if(!J(t))throw new Error("reverseArgs argument must be a function");return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return t(...i.reverse())}}function lt(t){return t}const ut={get(t){const e=dt(JSON.parse,ct(lt));try{return e(localStorage.getItem(t))}catch{return null}},save(t,e){if(!r(t))try{localStorage.setItem(t,JSON.stringify(e))}catch{}},remove(t){try{localStorage.removeItem(t)}catch{}}};function ht(t){return at(t.length,t)}function At(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!J(t))throw new Error("pipe requires at least one function argument");return function(){const e=t(...arguments);return i.reduce(((t,e)=>e(t)),e)}}function mt(){if(!arguments.length)throw new Error("compose requires at least one argument");return ct(At)(...arguments)}const pt=t=>et(t)?window.btoa(t):t,gt=t=>et(t)?window.atob(t):t,ft="expirationTime";function vt(){return Math.floor(Date.now()/1e3)}const Et=ht(((t,e)=>{mt(t.remove,pt)(e)})),bt=ht(((t,e,i,n)=>{if(tt(e&&i&&n))throw new Error("Missing arguments to cache a value",{key:e,value:i,timeToExpire:n});const r=ht(((e,i)=>t.save(i,e))),s=mt(pt,JSON.stringify),a=function(t){return vt()+t}(n);mt(r(s({...i,[ft]:a})),pt)(e)})),It=ht(((t,e)=>{const i=mt(dt(JSON.parse,ct(lt)),gt,t.get,pt)(e);return r(i)?null:vt()>=i[ft]?(Et(t)(e),null):(delete i[ft],i)}));function yt(t){return null!==t&&("object"==typeof t||J(t))}function Tt(t){return yt(t)&&!J(t)&&!o(t)}function Ct(){const t={};function e(e,i){Tt(e)?"object"==typeof t[i]&&"object"==typeof e?t[i]=Ct(t[i],e):"object"==typeof e&&(t[i]=Ct({},e)):t[i]=e}for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return n.forEach((t=>{d(t,e)})),t}function St(t){let e,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{e=new URL(t)}catch{return!1}return i?"https:"===e.protocol:"https:"===e.protocol||"http:"===e.protocol}function wt(t,e){if(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(tt(St(t)))throw new Error(`${e||t} should be a valid HTTP(s) URL!`)}(t,"url"),r(e))return t;return`${t}?${new URLSearchParams(e).toString()}`}function Rt(){}function kt(t){return"number"==typeof t}function Pt(t){return kt(t)&&!Number.isNaN(t)}function Dt(t){return Pt(t)&&t>0}const Mt={adapter:async function(t){const{url:e,method:i,timeout:n,withCredentials:r,headers:s}=t,a=new AbortController;let o=!1;const d=Dt(n)&&setTimeout((()=>{a.abort(),o=!0}),n);let c;try{c=await fetch(e,{method:i.toUpperCase(),signal:a.signal,headers:{...s},...r&&{credentials:"include"},...t.data&&{body:JSON.stringify(t.data)}})}catch(t){if(o)throw new Error(`timeout of ${n}ms exceeded`);if("AbortError"===t.name)throw new Error("The operation was aborted.");if("TypeError"===t.name)throw t;throw new Error("Network Error")}if(ot(Pt,clearTimeout)(d),tt(dt(t.validateStatus)(c.status)??!0))throw new Error(`Request failed with status code ${c.status}`);return{data:await c.text(),status:c.status,statusText:c.statusText,headers:c.headers,config:t}},transformRequest:Rt,transformResponse:t=>({...t,data:JSON.parse(t.data)}),timeout:0,maxContentLength:-1,validateStatus:t=>t>=200&&t<300},Nt=Mt;function Ot(t,e){return dt(t,ct(lt))(e)??e}function xt(t){const e=Ct(Nt,t),i=wt(new URL(e.url,e.baseURL).toString(),e.params),n=e.method||"GET",{data:r,headers:s}=Ot(e.transformRequest,e);return e.adapter({...e,url:i,method:n,headers:s,data:r}).then((t=>Ot(e.transformResponse,t)),(t=>{if(tt(t?.response))return Promise.reject(t);const i=Object.assign(t,{response:Ot(e.transformResponse,t.response)});return Promise.reject(i)}))}function Lt(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{dispatch:(e,i,n)=>xt({...Ct(t,n),method:i,url:e}),get(t,e){return this.dispatch(t,"GET",e)},post(t,e){return this.dispatch(t,"POST",e)}}}const Ut="geoTarget",Vt={set:bt(Ft=ut),get:It(Ft),remove:Et(Ft)};var Ft;const Bt=Lt({baseURL:"https://services.sunmedia.tv"}),Gt={id:Ut,async fetchGeolocation(){const t=Vt.get(Ut);return ot(r,(async()=>{const{data:t}=await Bt.get("/geotarget/geocity.php?dnt=1"),{country:e,EU:i}=t?.city||{},n={...t,country:e,eu_country:i};return Vt.set(Ut,n,3600),n}))(t)}},zt=at(2,((t,e)=>{if(o(e))return e.filter(t);if(Tt(e))return Object.entries(e).reduce(((e,i)=>{let[n,r]=i;return{...e,...t(r,n)&&{[n]:r}}}),{});throw new Error(`Cannot apply filter to ${e}`)})),Wt=at(2,((t,e)=>zt(tt(t),e))),Yt=at(2,((t,e)=>{if(o(e))return e.map(t);if(Tt(e))return Object.entries(e).reduce(((e,i)=>{let[n,r]=i;return Object.assign(e,{[n]:t(r,n)})}),{});throw new Error(`Cannot apply map to ${e}`)})),Qt=t=>window.navigator.userAgent.toLowerCase().includes(t);function Ht(){return Qt("windows")}function jt(){return tt(Ht())&&Qt("android")}function _t(){return jt()&&Qt("mobile")}function qt(){return jt()&&tt(Qt("mobile"))}function Kt(){return Qt("ipad")}function $t(){return Ht()&&Qt("phone")}function Zt(){return Ht()&&(Qt("touch")||Qt("tablet"))&&tt($t())}function Xt(){return qt()||Kt()||Zt()}function Jt(){return tt(Ht())&&Qt("iphone")}function te(){return _t()||Jt()||$t()}function ee(){return tt(te())&&tt(Xt())}const ie=ee()?"desktop":"mobile";function ne(){return Qt("fbav")||Qt("fban")}function re(){return Qt("instagram")}function se(){return Qt("pinterest")||window.document.referrer.includes("app://com.pinterest")}function ae(){return Jt()||Kt()}function oe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";if(!et(t))return!1;const i={3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i},n=i[e];return n&&n.test(t)}function de(){let t=window;try{for(;t.parent&&t!==t.parent&&t.parent.location.href;)t=t.parent}catch{}return t}function ce(t){return et(t)&&""!==t}const le=t=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(tt(oe(t)))throw new Error(`${e||t} should be a valid UUID!`)}(t,"uuid"),ue=t=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(tt(kt(t)))throw new Error(`${e||t} should be a number!`)}(t,"instanceIndex"),he=t=>function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(r(t))throw new Error(`${e||t} is required!`)}(t,"instance"),Ae=t=>{if(!Pt(t)&&!ce(t))throw new Error('"api" should be a valid number or string!')};class me{constructor(){this.wind=de(),this.wind[l]=this.wind[l]||{},this.wind[l].instances=this.wind[l].instances||[],this.wind[l].exteInstances=this.wind[l].exteInstances||[],this.wind[l].store=this.wind[l].store||{}}register(t){he(t);const{instanceIndex:e,config:{it:i}}=t;le(i),ue(e);if(this.wind[l].instances.some((t=>t.instanceIndex===e&&t.config.it===i)))throw new Error("Integration already exists");this.wind[l].instances.push(t)}registerExteInstance(t){he(t),this.wind[l].exteInstances.push(t)}removeByApi(t){Ae(t);const e=e=>e.api===t;this.wind[l].instances=Wt(e,this.wind[l].instances),this.wind[l].exteInstances=Wt(e,this.wind[l].exteInstances)}fetchInstancesOfPlugin(t){return(t=>{it(t,"sdkType")})(t),this.wind[l].instances.filter((e=>{let{config:i}=e;return i?.sdkType===t}))}fetchInstancesOfIntegration(t){return le(t),this.wind[l].instances.filter((e=>e.config.it===t))}fetchAllInstances(){const{instances:t,exteInstances:e}=this.wind[l];return[...t,...e]}fetchInstance(t,e){return le(t),ue(e),this.wind[l].instances.find((i=>i.config.it===t&&i.instanceIndex===e))}fetchInstanceByApi(t){return Ae(t),this.wind[l].instances.find((e=>e.api===t))}nextInstanceIndex(t){const e=this.fetchInstancesOfIntegration(t);let i=0;return e.forEach((t=>{i=Math.max(t.instanceIndex+1,i)})),i}getState(t){const{store:e}=this.wind[l];return e[t]?{...e[t]}:void 0}setState(t,e){const{store:i}=this.wind[l];i[t]={...e}}}const pe=new me,ge=at(2,((t,e)=>{if(r(t))throw new Error("object argument");if(!J(e))throw new Error("function argument");return e.bind(t)})),fe=at(2,((t,e)=>{if(!J(t))throw new Error("flatMap argument must be a function");return e.flatMap(t)}));function ve(t){return yt(t)?Object.entries(t).map((t=>{let[e,i]=t;return{[e]:i}})):[]}function Ee(t,e){const i=r(e)?lt:function(t){return Yt(ge(t))}(e);return mt(Yt(i),fe(ve),Yt((t=>{let{hooks:e}=t;return e})),zt(Tt))(t)}function be(){return(new Date).getTime().toString()}function Ie(t){if(!yt(t))return t;let e;return e=o(t)?t.map((t=>Ie(t))):J(t)?function(t){const e=t.__isClone?t.__clonedFrom:t,i=e.bind({});return d(e,((t,e)=>{i[e]=t})),i.__isClone=!0,i.__clonedFrom=e,i}(t):yt(t)?function(t){const e=t.constructor?new t.constructor:{};return d(t,((t,i)=>{e[i]=Ie(t)})),e}(t):JSON.parse(JSON.stringify(t)),e}function ye(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(tt(J(t)))throw new Error(`${e||t} should be a function!`)}const Te=t=>{it(t,"Event name")},Ce=t=>{ye(t,"Handler")};class Se{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt;this.debugLog=dt(t),this.listeners={}}on(t,e){Te(t),Ce(e),this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)}once(t,e){Ce(e);const i=n=>{this.off(t,i),e.call(this,n)};this.on(t,i)}off(t,e){Te(t),Ce(e);const i=this.listeners[t];if(n(i))return;const r=i.indexOf(e);i.splice(r,1),0===i.length&&delete this.listeners[t]}offAll(t){n(t)?this.listeners={}:(Te(t),this.listeners[t]=[],delete this.listeners[t])}emit(t,e){Te(t);const i=this.listeners[t];n(i)||i.forEach((t=>{try{t.call(this,e)}catch(t){this.debugLog({message:"Calling event listener",error:t})}}))}hasListeners(t){return Te(t),Boolean(this.listeners[t]?.length)}}const we={get:(t,e,i)=>Reflect.has(t,e)?Reflect.get(t,e,i):function(){for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t.emit(e,...n)}};class Re extends Se{constructor(t,e){if(!t)throw new Error("A hookable instance is required!");const{debugLog:i,hooks:n,modules:r}=e||{};return super(i),this.modules=r||{},this.hookableInstance=t,this.addMany(n),new Proxy(this,we)}addMany(t){o(t)?t.forEach((t=>{const[e,i]=Object.entries(t)[0];this.add(e,i)})):d(t,((t,e)=>{this.add(e,t)}))}add(t,e){this.on(t,e)}emit(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];const r=this.listeners[t];r&&(this.debugLog(`Hook "${t}" was called`),r.forEach((t=>{t.call(null,this.hookableInstance,this.modules,...i)})))}static async beforeCreate(t,e,i){const n=t=>J(t.beforeCreate),r=(t||[]).filter(n);for(const{beforeCreate:t}of r)await t(e,i);return Wt(n,t)}}const ke=at(3,((t,e,i)=>{if(o(i))return i.reduce(t,e);if(Tt(i))return Object.entries(i).reduce(((e,i)=>{let[n,r]=i;return t(e,r,n)}),e);throw new Error(`Cannot apply reduce to ${i}`)}));function Pe(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(tt(St(t,!0)))throw new Error(`${e||t} should be a secure URL!`)}function De(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;const n=new Promise(((t,n)=>{e=setTimeout((()=>{n(new Error(`Promise timed out in ${i} ms`))}),i)}));return Promise.race([t,n]).then((t=>(clearTimeout(e),t))).catch((t=>{throw clearTimeout(e),t}))}const Me={};function Ne(t){const e=function(t){const e=[];let i=t;return 0!==i.indexOf('"use strict"')&&(i=`'use strict';${i}`),i=i.replace(/export default/,"exports.default =").replace(/export\s*\{([\s\S]*?)\}/gi,((t,e)=>{let i="";return e.split(",").forEach((t=>{const e=t.trim().split(" as ");i+=`exports.${e[1]||e[0]} = ${e[0]};`})),i})).replace(/export\s+(const|function|class|let|var)\s+(.+?)(?=(\(|\s|=))/gi,((t,i,n)=>e.push(n)&&`${i} ${n}`)),e.forEach((t=>{i+=`exports.${t} = ${t};`})),i}(t),i={};return new Function("exports",e)(i),i}const Oe=Lt({transformResponse:t=>({...t,data:Ne(t.data)})});function xe(t,e){return dt(Pe,Promise.reject)(t),De(function(t){return Me[t]?Promise.resolve(Me[t]):Oe.get(t).then((e=>{let{data:i}=e;return Me[t]=i,i}))}(t),e)}function Le(t){return!0===t||!1===t||"[object Boolean]"===a(t)}function Ue(t){if(r(t)||kt(t)||Le(t))return!1;try{return 0===Object.keys(t).length}catch{return!0}}function Ve(t){return t.filter(((t,e,i)=>i.indexOf(t)===e))}const Fe={ADV_DOMAIN:"advDomain",APP_BUNDLE:"appBundle",APP_NAME:"appName",APP_STORE_URL:"appStoreUrl",AUCTION_ID:"auctionId",BIDDER_NAME:"bidderName",CAMPAIGN_TYPE:"campaignType",CATEGORY:"category",CATEGORY_ENCODE:"categoryEncode",CHANNEL_NAME:"channelName",CONSENT_STRING:"consentString",CONTENT_GENRE:"contentGenre",CONTENT_TITLE:"contentTitle",CREATIVE_ID:"creativeId",CURRENCY:"currency",DEAL_ID:"dealId",DEMAND_INTEGRATION:"demandIntegration",DEMAND_TYPE:"demandType",DID:"did",DOMAIN:"domain",ERROR_CODE:"errorCode",EXTERNAL_CLICK:"xclk",GDPR_APPLIES:"gdprApplies",GFK_CATEGORY:"gfkCategory",HEIGHT:"height",IC:"ic",IP:"ip",REVENUE:"revenue",ROUND:"round",SUBTYPE_ID:"subtypeId",RANDOM:"random",REFERRER_URL:"referrerUrl",POD_MAX_DUR:"podMaxDur",POD_AD_SLOTS:"podAdSlots",SUPPLY_CHAIN:"supplyChain",TARGETING:"targeting",UA:"ua",WIDTH:"width"},Be=(Fe.APP_BUNDLE,Fe.APP_NAME,Fe.APP_STORE_URL,Fe.CATEGORY,Fe.CATEGORY_ENCODE,Fe.CHANNEL_NAME,Fe.CONTENT_GENRE,Fe.CONTENT_TITLE,Fe.DID,Fe.DOMAIN,Fe.GDPR_APPLIES,Fe.CONSENT_STRING,Fe.GFK_CATEGORY,Fe.IC,Fe.IP,Fe.POD_AD_SLOTS,Fe.POD_MAX_DUR,Fe.REFERRER_URL,Fe.HEIGHT,Fe.RANDOM,Fe.WIDTH,Fe.SUPPLY_CHAIN,Fe.TARGETING,Fe.UA,Fe.EXTERNAL_CLICK,{[Fe.APP_BUNDLE]:/\${APP_BUNDLE}/g,[Fe.APP_NAME]:/\${APP_NAME}/g,[Fe.APP_STORE_URL]:/\${APP_STORE_URL}/g,[Fe.CATEGORY]:/\${page_category}/g,[Fe.CATEGORY_ENCODE]:/\${page_category.encode}/g,[Fe.CHANNEL_NAME]:/\${CHANNEL_NAME}/g,[Fe.CONSENT_STRING]:/\${gdpr_consent}/g,[Fe.CONTENT_GENRE]:/\${CONTENT_GENRE}/g,[Fe.CONTENT_TITLE]:/\${CONTENT_TITLE}/g,[Fe.DID]:/\${DID}/g,[Fe.DOMAIN]:/\${domain}/g,[Fe.EXTERNAL_CLICK]:/\${xclk}/g,[Fe.GDPR_APPLIES]:/\${gdpr}/g,[Fe.GFK_CATEGORY]:/\${gfk_category}/g,[Fe.HEIGHT]:/\${request.height}/g,[Fe.IC]:/\${IC}/g,[Fe.IP]:/\${IP}/g,[Fe.POD_AD_SLOTS]:/\${POD_AD_SLOTS}/g,[Fe.POD_MAX_DUR]:/\${POD_MAX_DUR}/g,[Fe.RANDOM]:/\${random}/g,[Fe.REFERRER_URL]:/\${request.referrerurl}/g,[Fe.SUPPLY_CHAIN]:/\${supply_chain}/g,[Fe.TARGETING]:/\${VALUE}/g,[Fe.UA]:/\${UA}/g,[Fe.WIDTH]:/\${request.width}/g}),Ge={[Fe.ADV_DOMAIN]:/\[ADV_DOMAIN\]/g,[Fe.AUCTION_ID]:/\[AUCTION_ID\]/g,[Fe.BIDDER_NAME]:/\[BIDDER_NAME\]/g,[Fe.CAMPAIGN_TYPE]:/\[CAMPAIGN_TYPE\]/g,[Fe.CREATIVE_ID]:/\[CREATIVE_ID\]/g,[Fe.CURRENCY]:/\[CURRENCY\]/g,[Fe.DEAL_ID]:/\[DEAL_ID\]/g,[Fe.DEMAND_INTEGRATION]:/\[DEMAND_INTEGRATION\]/g,[Fe.DEMAND_TYPE]:/\[DEMAND_TYPE\]/g,[Fe.ERROR_CODE]:/\[ERROR_CODE\]/g,[Fe.GDPR_APPLIES]:/\[GDPR\]/g,[Fe.CONSENT_STRING]:/\[GDPR_CONSENT\]/g,[Fe.REVENUE]:/\[REVENUE\]/g,[Fe.ROUND]:/\[ROUND\]/g,[Fe.SUBTYPE_ID]:/\[SUBTYPE_ID\]/g,[Fe.RANDOM]:/\[RANDOM\]/g},ze=/(\${)([\w.]+)(})/g;function We(t){return Array.from(new URL(t).searchParams.entries()).reduce(((t,e)=>({...t,[e[0]]:e[1]})),{})}function Ye(t,e){const i=e.document.getElementsByTagName("script");return Array.from(i).find((e=>e.src.includes(`${t}.js`)))}function Qe(t){const e=Object.assign({},t?.dataset);if(tt(Ue(e)))return e;const{gdpr_consent:i,referrerurl:n,gdpr:r,rh:s,rw:a}=We(t?.src);return{...i&&{[Fe.CONSENT_STRING]:i},...n&&{[Fe.REFERRER_URL]:n},...r&&{[Fe.GDPR_APPLIES]:r},...s&&{[Fe.HEIGHT]:s},...a&&{[Fe.WIDTH]:a}}}const He=["true","1","yes"],je=["false","0","no"];function _e(t){if(!et(t))throw new Error("stringToBoolean expects one argument of type string");const e=t.toLowerCase().trim();return!!He.includes(e)||!je.includes(e)&&null}function qe(t,e){if(tt(Be[t]))return!1;const i=ce(e)&&tt(e.match(ze)||"undefined"===e||"null"===e);if(tt(i))return!1;if(t===Fe.GDPR_APPLIES){if(tt(Le(_e(e))))return!1}return!0}const Ke=t=>{try{return decodeURIComponent(t)}catch{return t}},$e=t=>"string"==typeof t&&Ke(t)!==t;const Ze={encode:function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return tt(e)&&$e(t)?t:encodeURIComponent(t)},decode:Ke},Xe="1.0,1",Je=t=>`!sunmedia.tv,${t},1,,,`;function ti(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xe;it(t,"publisherId"),it(e,"prefix");const i=Je(t);return`${e}${i}`}const ei=at(3,((t,e,i)=>(i-t)*(i-e)<=0)),ii="T1,SM";function ni(t){return tt(t)?t:Math.round(t-273.15)}function ri(){return ne()||re()||se()}function si(t,e){try{const{clusters:i=[],weather:n={}}=t||{};return r(e)?i:Wt((t=>n[t]&&tt(ei(n[t].temp_min,n[t].temp_max,e))))(i)}catch{return[]}}function ai(){let{geoTarget:t,contextual:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=ni(t?.main?.temp),n=[...ri()?["FB"]:[],...Pt(i)?[`T${i}`]:[],...si(e,i)];return n.length>0?n.join(","):ii}const{GDPR_APPLIES:oi,GFK_CATEGORY:di,CATEGORY:ci,CATEGORY_ENCODE:li,SUPPLY_CHAIN:ui,TARGETING:hi,DOMAIN:Ai,REFERRER_URL:mi,HEIGHT:pi,WIDTH:gi}=Fe;function fi(t){return t.replace(/^www\./,"")}function vi(t){try{return new URL(t)}catch{return window.location}}function Ei(t){const e=Number(t);if(!tt(Dt(e)))return e}function bi(t,e){const{callback:i}=t||{};if(ce(i)&&J(window[i]))try{st.info("Fire options callback",{callback:i,payload:e}),window[i](e)}catch(t){st.error("Fire options callback",{err:t})}}class Ii{constructor(t){let{components:e=[],config:i={},currentScript:n,extraPackageName:r,genericExtras:s={},locationUrl:a,pluginFactory:o,services:d=[],validateIntegration:c=Rt}=t;this.components=e,this.config=i,this.currentScript=n,this.extraPackageName=r,this.genericExtraDefinitions=s,this.locationUrl=a,this.pluginFactory=o,this.services=d,this.validateIntegration=c,this.hooks=[],this.macroValues=null,this.integrationScript=null}async setup(){const t=await async function(t){const e=Yt((t=>{let{id:e,service:i}=t;return i().then((t=>({id:e,data:t})),Rt)}),t),i=await Promise.all(e);return mt(ke(((t,e)=>{let{id:i,data:n}=e;return{...t,[i]:n}}),{}),Wt(n))(i)}(this.services);Object.assign(this.config,t);const i=await function(t,e){const i=et(t)?t.trim():null,n=t=>mt(tt,ce)(t);return n(i)||n(e)?Promise.resolve(null):xe(`https://static.sunmedia.tv/sdks/${e}/${i}/extra.js`,7e3).then((t=>t.default||t)).catch((t=>(st.error("Importing the extra",t),null)))}(this.config.options.extra,this.extraPackageName),s=function(t){const e=e=>t?.[e]||{};for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return mt(Wt(Ue),Yt(e),Ve)(n)}(this.genericExtraDefinitions,...this.config.options.genericExtras||[])||[],a=Ee([...this.components,...s,i]);this.hooks=await Re.beforeCreate(a,this.config,{deviceDetector:e,globalObject:pe}),this.validateIntegration(this.config),this.integrationScript=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;if(r(t?.it))throw new Error("Wrong arguments passed in");const n=e?.parentElement?e:Ye(t.it,i);return n?{$element:n,$container:n.parentElement,macros:Qe(n)}:null}(this.config,this.currentScript);const o=this.integrationScript?.$element.getAttribute("data-publisher");o&&(this.config.publisher=o),this.macroValues=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=vi(e),r={[hi]:ai(t),[Ai]:fi(n.hostname),[mi]:Ze.encode(n.href,!0),...t.publisher&&{[ui]:ti(t.publisher)},...t.gfkCategory&&{[di]:t.gfkCategory},...t.category&&{[ci]:t.category,[li]:Ze.encode(t.category)},...t.geoTarget},s=zt(ct(qe))(i),a={...s,...s[oi]&&{[oi]:_e(s[oi])?E:b},...s[ci]&&{[ci]:Ze.decode(s[ci])},...s[gi]&&{[gi]:Ei(s[gi])},...s[pi]&&{[pi]:Ei(s[pi])}};return Ie({...r,...a})}(this.config,this.locationUrl,this.integrationScript?.macros)}createPluginInstances(){const t=this.config.integrationInstances||[{}];return mt(Wt(r),Yt((t=>{let{index:e}=t;return this.createInstance(e)})))(t)}createInstance(t){let e;try{const{macroValues:i,integrationScript:n}=this,r=be(),s=Ie(this.config);e=this.pluginFactory.create({api:r,instanceIndex:t,config:s,macroValues:i,integrationScript:n}),e.hooksManager.addMany(this.hooks)}catch(t){st.error("Creating or Initializing the plugin instance",t),e?.close({err:t}),e=null}return e}}function yi(t){return kt(t?.nodeType)&&et(t.nodeName)}function Ti(t){return 1===t?.nodeType&&et(t.nodeName)}function Ci(t){tt(Ti(t))||t.parentNode?.removeChild(t)}function Si(t){return Yt(((t,e)=>(t=>["line-height"].every((e=>tt(t.includes(e)))))(e)&&(t=>["top","left","right","bottom","width","height","margin","padding","border"].some((e=>t.includes(e))))(e)&&Pt(t)?`${t}px`:t),t)}function wi(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(tt(Ti(t)))return;i&&t.removeAttribute("style");const n=Si(e);Object.assign(t.style,n)}function Ri(t){return t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\r?\n|\r/g,"").replace(/\s\s+/g," ").trim()}let ki=window;const Pi=mt(tt,ce);function Di(t){ki=t}function Mi(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(yi(t)){const i=t.ownerDocument,n=i.defaultView||i.parentWindow;return e&&Di(n),n}return null}function Ni(t,e){t.addEventListener("click",e)}function Oi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{type:e="div",name:i=null,prefix:n=y,id:r=null,style:s=null,content:a=null,isHtmlContent:o=!0,events:c=null,children:l}=t;let u={...t.attributes};const h=ki.document.createElement(e),A=n?`${n}-`:"";if(i){const t=`${A}${i}${u.class?` ${u.class}`:""}`;delete u.class,u={class:t,...u}}return r&&(u={id:`${A}${i?`${i}-`:""}${r}`,...u}),d(u,((t,e)=>{"data"===e&&yt(t)?d(t,((t,e)=>{h.setAttribute(`data-${e}`,t)})):h.setAttribute(e,t)})),a&&(o?h.innerHTML=a:h.textContent=a),s&&wi(h,s),c&&d(c,((t,e)=>{"click"===e?Ni(h,t):h.addEventListener(e,t)})),l&&xi(h,l),h}function xi(t,e){if(tt(yi(t))||tt(e))return;mt((e=>d(e,(e=>{Ti(e)?t.appendChild(e):yt(e)&&t.appendChild(Oi(e))}))),(t=>o(t)?t:[t]))(e)}function Li(t,e){let{overwrite:i=!1,concat:n=!1,$container:r,wind:s=ki}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Pi(t)||Pi(e))return;const a=r?Mi(r).document:s.document,o=`${y}-${t}`,d=a.getElementById(o),c=Ri(e),l=t=>{if(t.styleSheet)t.styleSheet.cssText+=c;else{const e=a.createTextNode(c);t.appendChild(e)}return t},u=()=>Ri(d.textContent).includes(c);if(d&&tt(i))return void(n&&tt(u())&&l(d));i&&Ci(d);const h=r||a.head,A=ht(xi)(h),m={type:"style",attributes:{id:o,type:"text/css"}};mt(A,l,Oi)(m)}function Ui(t){if(Ti(t)){const e=ki.getComputedStyle(t);let i=t.clientWidth,n=t.clientHeight;return n-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),i-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),{height:n,width:i}}return null}function Vi(t,e){const i=`inner${e}`,n=`client${e}`;let r;return t[i]?r=t[i]:t.document&&t.document.documentElement&&t.document.documentElement[n]&&(r=t.document.documentElement[n]),r}function Fi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki;return Vi(t,"Width")}function Bi(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ki;return Vi(t,"Height")}const Gi={ADD:"add",REMOVE:"remove",REPLACE:"replace",TOGGLE:"toggle"},zi=t=>Object.values(Gi).includes(t);function Wi(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(tt(Ti(t)&&zi(e)&&(i||n)))return;if(n&&(e===Gi.ADD||e===Gi.REMOVE)&&(t.removeAttribute("class"),e===Gi.REMOVE))return;const r=o(i)?i:[i];t.classList[e](...r)}const Yi="SMAdPreload",Qi="SMAdFactory",Hi="SMAdFactorySSPVpaidSize",ji="SMResizeProgrammaticDisplay",_i="SMNoMoreTags",qi="SMRequest",Ki="SMRequestError",$i="SMMaxRequestsReached",Zi="SMUpdateOptions",Xi="SMAdMuted",Ji="SMAdUnmuted",tn="SMVastError",en="AdLoaded",nn="AdStarted",rn="AdStopped",sn="AdSkipped",an="AdSkippableStateChange",on="AdSizeChange",dn="AdLinearChange",cn="AdDurationChange",ln="AdExpandedChange",un="AdVolumeChange",hn="AdImpression",An="AdVideoStart",mn="AdVideoFirstQuartile",pn="AdVideoMidpoint",gn="AdVideoThirdQuartile",fn="AdVideoComplete",vn="AdClickThru",En="AdInteraction",bn="AdUserAcceptInvitation",In="AdUserMinimize",yn="AdUserClose",Tn="AdPaused",Cn="AdPlaying",Sn="AdLog",wn="AdError";function Rn(t,e){return Object.entries(t).every((t=>{let[i,n]=t;return e[i]===n}))}const kn=at(2,((t,e)=>Tt(t)&&Tt(e)&&Rn(t,e)&&Rn(e,t))),Pn={SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe"},Dn={SUBSCRIBE:"on",UNSUBSCRIBE:"off"},Mn=t=>J(t[Pn.SUBSCRIBE])&&J(t[Pn.UNSUBSCRIBE]),Nn=t=>{const{SUBSCRIBE:e,UNSUBSCRIBE:i}=Mn(t)?Pn:Dn;return{subscribeFn:t[e].bind(t),unsubscribeFn:t[i].bind(t)}};function On(t,e,i,n){const r=dt(e.debugLog);return function(s){return function(a,o){if(!yt(a))throw new Error("No listeners provided");const c=J(o),l=Mn(n);d(a,((n,a)=>{const d=function(){if(!l||!c||i[a]){c&&(l?delete i[a]:o(a));for(var s=arguments.length,d=new Array(s),u=0;u<s;u++)d[u]=arguments[u];r(a,...d),e.emitHooks&&t.hooksManager&&t.hooksManager.emit(`before${a}`,...d),n.apply(t,d),e.emitHooks&&t.hooksManager&&t.hooksManager.emit(`after${a}`,...d),e.propagate&&t.emit&&t.emit(a,...d)}};s(a,d,t),i[a]=d}))}}}function xn(t){if(!yt(t))throw new Error("The context needs to be provided");return function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!yt(e))throw new Error("No emitter provided");const n={},{subscribeFn:r,unsubscribeFn:s}=Nn(e),a=On(t,i,n,e),o=a(r),d=t=>{s(t,n[t]),delete n[t]},c=t=>o(t,d),l=()=>Object.keys(n).forEach(d),u=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return n[t]?n[t](...i):void 0};return{subscribe:o,subscribeOnce:c,unsubscribe:d,unsubscribeAll:l,emitEvent:u}}}async function Ln(t){return new Promise((e=>{setTimeout(e,t)}))}function Un(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>!0;ye(i,"listener"),it(e,"event");const r=()=>{n()&&(t.removeEventListener(e,r),i())};return t.addEventListener(e,r),r}function Vn(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=Math.pow(10,e);return Math.round(t*i)/i}function Fn(t){return Ti(t)&&"VIDEO"===t.nodeName}class Bn{constructor(t,e){this.target=t,this.options=e}getTarget(){return this.target}hasNativeSupport(){return!1}createObserver(){throw new Error("Not implemented!")}createInterval(t){return setInterval(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)}subscribe(t){let e;if(ye(t,"callback"),this.hasNativeSupport())e=this.createObserver(t);else{e=function(t){return{disconnect(){clearInterval(t)}}}(this.createInterval(t))}return i=e,{unsubscribe(){i.disconnect()}};var i}subscribeOnce(t){ye(t,"callback");const e=this.subscribe((()=>{e.unsubscribe(),t()}));return e}}const Gn="attributes";class zn extends Bn{hasNativeSupport(){return!0}createObserver(t){const e=this.getTarget(),i=new MutationObserver((e=>{e.some((e=>{let{attributeName:i,oldValue:n,type:r,target:s}=e;return r===Gn&&n!==s[i]&&(t(),!0)}))}));return i.observe(e,{attributes:!0,childList:!1,subtree:!1,attributeFilter:["src"],attributeOldValue:!0}),i}static createObservable(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new zn(...e)}}const Wn=at(2,((t,e)=>{if(tt(Tt(e)))throw new Error(`Cannot apply renameKeys to ${e}`);return ke(((e,i,n)=>({...e,[t(n)]:i})),{},e)})),Yn="UIPlayClicked",Qn="UISkipClicked",Hn="UIVolumeChanged",jn={FLASH:/\/x-shockwave-flash/i,IMAGE:/^image\/(gif|jpeg|jpg|png)$/i,HTTPS:/^https:?\/\//i,VPAID:/vpaid/i,JS:/javascript/i},_n="videoplaza.tv",qn=20,Kn=10,$n="Reached maximum number of requests allowed (5000)",Zn="sm-skip-cross",Xn={"200x200":{id:L,reduceAvaWidth:{mobile:.66,desktop:!1},overlapPlacement:{position:"center"}},"300x50":{id:U,reduceAvaWidth:{mobile:!0,desktop:!1}},"300x100":{id:V,reduceAvaWidth:{mobile:!0,desktop:!1}},"300x250":{id:w,reduceAvaWidth:{mobile:.66,desktop:!1},overlapPlacement:{position:"center"}},"300x600":{id:k,reduceAvaWidth:{mobile:.5,desktop:!0}},"320x50":{id:D,reduceAvaWidth:{mobile:!0,desktop:!1}},"320x100":{id:N,reduceAvaWidth:{mobile:!0,desktop:!1}},"320x480":{id:O,reduceAvaWidth:{mobile:.66,desktop:!0},overlapPlacement:{position:"center"}},"450x563":{id:F,reduceAvaWidth:{mobile:.66,desktop:!0},overlapPlacement:{position:"center"}},"450x800":{id:B,reduceAvaWidth:{mobile:.5,desktop:!0}},"640x360":{id:G,reduceAvaWidth:{mobile:.66,desktop:!1}},"720x720":{id:z,reduceAvaWidth:{mobile:.75,desktop:!0}},"728x90":{id:R},"800x600":{id:W,reduceAvaWidth:{mobile:.66,desktop:!1},overlapPlacement:{position:"center"}},"970x250":{id:P,reduceAvaWidth:{mobile:!0,desktop:!1}},"980x90":{id:x},"980x250":{id:Y,reduceAvaWidth:{mobile:!0,desktop:!1}}},Jn={MAIN:"main",AVA:"ava",REMEMBER:"remember"},tr={desktop:{width:600,height:450},mobile:{width:110,height:110}},er={AD_CONTAINER:`\n    .${y}-ad-container {\n      position: absolute;\n      visibility: hidden;\n    }`},ir={MOUNTED:"ReminderMounted",CLICK:"ReminderClick",ENDED:"ReminderEnded",ERROR:"ReminderError",SKIPPED:"ReminderSkipped"},nr={VIDEO_REMINDER:2e4,NO_VIDEO_REMINDER:3e4},rr="data:image/png;base64,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",sr=1,ar=2,or=3,dr=4,cr=5,lr=6,ur=7,hr=8,Ar=9,mr="initialPosition",pr="avaPosition",gr="expandedPosition",fr="styles",vr="__tcfapi implementation found",Er="__tcfapi implementation not found",br="waiting for __tcfapi to be found",Ir="user consent is given v√≠a macros/parameters",yr="user consent granted",Tr="user consent not granted",Cr="GDPR does not apply, keep going with the default consent value",Sr="waiting for the user to give consent",wr={TREMOR:"ads.tremorhub.com/ad/chnl"},Rr=0,kr=1,Pr={mediafile:{url:"https://static.sunmedia.tv/formats/header-bidding/1.6.33/header-bidding.js",type:"application/javascript",apiFramework:"VPAID"},adParameters:JSON.stringify({adDuration:21,pageUrl:!1,publisher:null,sizes:[[[300,250],[300,600],[640,360],[320,480],[720,720],[728,90],[980,250],[980,90],[320,50],[320,100]],[[300,250],[300,600],[640,360],[320,480],[720,720],[728,90],[980,250],[980,90],[320,50],[320,100]]],userIds:[{name:"criteo"},{name:"id5Id",params:{partner:673},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}},{name:"zeotapIdPlus"},{name:"idx"},{name:"lotamePanoramaId"},{name:"pubCommonId"},{name:"quantcastId"},{name:"uid2"}],bidders:[[{bidder:"pubmatic",params:{publisherId:"156136",adSlot:"2560598"}},{bidder:"appnexus",params:{placementId:18157679}},{bidder:"smartadserver",params:{siteId:281855,pageId:1039313,formatId:88200},macroParams:{target:"t"}},{bidder:"richaudience",params:{pid:"MP_06EhCbcfZK",supplyType:"site"}},{bidder:"rubicon",params:{accountId:"22328",siteId:"324792",zoneId:"1686040",position:"atf"}},{bidder:"adf",params:{mid:"817389"}},{bidder:"openx",params:{delDomain:"sun-d.openx.net",unit:"540942402"}},{bidder:"smilewanted",params:{zoneId:"sunmedia.tv_hb_display"}},{bidder:"ix",params:{siteId:"844716"}},{bidder:"improvedigital",params:{placementId:"22797009"}},{bidder:"amx",params:{tagId:"c3VubWVkaWEtcm9uLmNvbQ",floor:1.5}},{bidder:"adman",params:{placementId:"6897"}},{bidder:"adman",params:{placementId:"9016"},alias:"adman1"},{bidder:"sovrn",params:{tagid:"705162"}},{bidder:"sovrn",params:{tagid:"705164"},alias:"sovrn1"},{bidder:"onetag",params:{pubId:"7a4244b2979db22"}},{bidder:"adyoulike",params:{placement:"e2f81f6a1ec9f06b4c93495985b086d0"}},{bidder:"sharethrough",params:{pkey:"vEXXafiGJ8Q20TitzMHnvSDC",floor:1}},{bidder:"sharethrough",params:{pkey:"EEDlyi9dblhEgYPcQgqPP1Du",floor:.75},alias:"sharethrough1"},{bidder:"rtbhouse",params:{region:"prebid-eu",publisherId:"4AQDTcYG36vWV2fT5Eo3",bidfloor:1.5,channel:""}}],[{bidder:"pubmatic",params:{publisherId:"156136",adSlot:"3505199"}},{bidder:"appnexus",params:{placementId:18155751}},{bidder:"smartadserver",params:{siteId:281855,pageId:1039318,formatId:88200},macroParams:{target:"t"}},{bidder:"richaudience",params:{pid:"MP_06EhCbcfZK",supplyType:"site"}},{bidder:"rubicon",params:{accountId:"22328",siteId:"324792",zoneId:"1686042",position:"atf"}},{bidder:"adf",params:{mid:"817394"}},{bidder:"openx",params:{delDomain:"sun-d.openx.net",unit:"540942230"}},{bidder:"smilewanted",params:{zoneId:"sunmedia.tv_hb_display"}},{bidder:"improvedigital",params:{placementId:"22797010"}},{bidder:"amx",params:{tagId:"c3VubWVkaWEtcm9uLmNvbQ",floor:1}},{bidder:"adman",params:{placementId:"8791"}},{bidder:"ix",params:{siteId:"845593"}},{bidder:"sovrn",params:{tagid:"723817"}},{bidder:"sovrn",params:{tagid:"723818"},alias:"sovrn1"},{bidder:"onetag",params:{pubId:"7a4244b2979db22"}},{bidder:"adyoulike",params:{placement:"198c4e6cf56a247bb91891f748eff1b6"}},{bidder:"rtbhouse",params:{region:"prebid-eu",publisherId:"4AQDTcYG36vWV2fT5Eo3",bidfloor:1,channel:""}}]],config:{improvedigital:{usePrebidSizes:!0}}})},Dr={COLOMBIA:"CO",MEXICO:"MX",SPAIN:"ES",USA:"US"},Mr="MD",Nr={BARCELONA:"BARCELONA",MADRID:"MADRID",MIAMI:"MIAMI"},Or="sm-counter-number",xr=`\n@import url('https://fonts.googleapis.com/css?family=Lato');\n\n.sm-ui-container {\n    position: relative;\n    overflow: hidden;\n    min-height: 0;\n    height: 100%;\n    width: 100%;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    outline: none;\n    cursor: pointer;\n}\n\n.sm-ui-container .sm-media {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    z-index: 3;\n    display: none;\n}\n.sm-ui-container .sm-media.sm-visible {\n    display: block;\n}\n\n.sm-ui-container .sm-media .sm-video {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    margin: auto;\n    background-color: #000;\n    object-fit: contain;\n    visibility: hidden;\n}\n.sm-ui-container .sm-controls {\n    float: none;\n    cursor: pointer;\n    display: none;\n    z-index: 8;\n    position: absolute;\n    background-size: contain;\n    background-repeat: no-repeat;\n    box-sizing: border-box;\n}\n.sm-ad-container.sm-moving .sm-ui-container .sm-controls {\n    visibility: hidden;\n}\n.sm-ui-container .sm-controls.sm-visible {\n    display: block;\n}\n.sm-ui-container .sm-controls.sm-play {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAABCFBMVEUAAAD///////4AAAD+/v4yMjIAAAAAAAAAAAAAAAAAAAD5+fnw8PD+/fz9/fxoaGhbW1v7+/re3t7Q0NC8vLz8/Pz8+/v39/fy8vLt7e3s7Ozk5OTb29vJycmnp6eXl5d8fHxKSkoWFhb19fXh4eHW1tbAwMC6urqtra2fn5+MjIz4+Pj39/f19fXx8fHp6eno6Ojb29vU1NSvr6/0mDH//v7///7//////fz1oUL++PH97t73sGH0mzb96tX2pk31nTv//Pj+9u36zJj5w4X4vHn2q1X++vT+8eP848X73bv60aL5yZL3tWr1pEn+9Oj84cP727b72bL61Kn3uHD2rVr85sz85MlUJu7kAAAANHRSTlMm/f0A/C4kIRMKAuG9+PM6NumSe2bt7NTHuLKejnNXTEEyKdSZhGpjWlFH29XPwqynjYJcGlQq3QAAAipJREFUaN7t2mdu20AQhuHhiqpUtVpiy3Isl8ROT7apU122inty/5tk/WuQA3wEEvC9wANQs1pRGEokErlMmlClMzknOCWbImSp7KuSJXTZBOVShC6VowzBc0aa4DkjLi4uLu4fK5+nCDImXyJ4nhGfTwidp3qiXiNQrOympnhMmFiRy74SR6cEiRU5/q1EPkkcQnFtlHeGmgFWhrOJCN4Th1Bcz2vj8wygFLmc6sI5zwBIkfsbJd7yDIAUGT5Zr3lNLoTCzaz42CYOo8jnO+1XicCKHExNsZVEK7L7OgNllMLMgxXNEkrhtlYHH+CKXPREsQpX5KBvxAVckd2R8g9LKIWZWyW+lNGKHG5XptFGKdzc6splB6bwDCj/AK7I8UiLr2W0IoduBvLv0IoMNyvdOEEp3MLNQA2uyN1aFQ46aEUu3QwcwRX50jMBWhnOe+6RgZXwUZmgRiCFz794UwKfytnEPa0kQZX9vfL4bgYpu74Wh0mCKuHGisYPRiDKeKTE2RX4Flvc8YFHKd1HKyrHHazysnaH5JoIovBXivYv0L+Tb60IaoRVBlPt8yWMUcJZj1+TUMr4RolmmwiqLFa68K1EHEDpPk108ZI4hLL85Q4Jf+wYZW518bxMHEDZP0xMHf1vz2D094sxRNlaXf9+ShxAGd9bL/hJkFjpK753UXlGVKpohHzz6YrgtVoUFxcXF/e/FMluTzR7StHsXEWyPxbRLlw0e31/AII+8glq6EtVAAAAAElFTkSuQmCC');\n    transform: translateX(-50%);\n    z-index: 9;\n    left: 50%;\n    bottom: 1%;\n    height: 11%;\n    width: 0;\n    padding-right: 8%;\n    min-width: 30px;\n    min-height: 30px;\n    max-width: 45px;\n    max-height: 45px;\n\n}\n.sm-ui-container .sm-controls.sm-skip {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANYAAABlCAMAAAAGY+3HAAAAWlBMVEUAAADf39/9/f2cnJytra1NTU36+vqoqKgAAAD4+Pj09PTr6+v5+fnOzs5/f3+ysrKjo6P8/Pz7+/vv7+/BwcH+/v7m5ubY2Nh2dnYAAAAAAAAAAABOTk7///9dlaOYAAAAHXRSTlMmk/NPWTTlVwDZya7heUFcUu3nvGr6oYU+IhMKNDuKZ8kAAAO3SURBVHja7ZzrjqsgEIAHEF1vaNVetlve/zWPlVqkI243h81pOfP9aBpsjF9mGAabAB8j50+Ihs/z1WjU+oLI+Bq14rMavUYtiJAPOEOEnCGianEnTimCIAiCIAiCIAiCIAjCIOsy1Vd4wRREgmRcLygaWMLGIQYWdOlFEal+4BCBluAaUb69lrxNqrJuRtgtcuzdtdik0Uu4UZvgqXd49g34ZAWW2qThe2s1c2ws5TQkX0wrYcn2NZyDuVtDJq3hxbTYvspgnazaszWtAhymssFeTCupNM/Wrbiukie0ir/QqnM9wvsaQpNxnWdr47nxxVpcAgZr2ZnHxfKS/SpyPZMOEBj8/H7bwda9bS1shbUER71KQHC2+XPzYp6kV99oYSusdbBWv+RV6S5xrTq9XkmYNpTD91oyt1ZYy1DUTTOUeqKBUFiLXbb03BlPzMVMBzPPlU8LWXm0+AATavppCqFJdrpqYaat9A5b3UNgyZnwaWErrMWFe9dfqIeV3gswiL3NQIzs9ZL0qLAWtsJabtZJbpqy0LT7uW4ko2ELGzSFdmASP7uxyiVsaJVo0kJ4xJh57dVvzEcB26hD6kQMZZq12tAanFs64Qs7v3bJ7fN7xNFOMlQXBJ9sJWxq4b3BEUJj4pTWqYnZM6i6v3s5HXzPzajY0sI9mLkanuSaWmnyo3dQ6cO+n2lL/hpaUP+8ysrSKFwetPjUOLyEluB6b+fJs5hMHFyt0hSN5gW0kk7zmqP+Au9LXKTzlobNOSlM1fjnWqLTnTCfW1q4xylMvj2uSEcz7NVKcSWsITjZFCcTs8w/90Yk1nKj1S/GG3+BV+jdgYDQtNU8qwRf9ocr7y3qTS37XXGbhkjrcZU6oPiF2nNltj/0xStdyUKJSsasaNMQa7nGoLj9adAViy86eI5WL6cgHN0xVOCZE8fBp6XLh32BCm+VOvut1ON14SgNBV6OmRMDLn1auriJiNy1DNYNpsmDp6czPGpjoe4DRlQhLVtjeq+W5uXQNHWpbU6Go81HB2yar9aNQhvwfwtYa16rh1Utrh24CGy113mCI5ijXdc8CzAl+LTknIZYi5WezU2wfXHr2VdmvibQhYFXC4Y5DbHWsi0+BM7AU6er1reSdacndseFAKz1kIb1qhaokk93OCoIzGnfed/Bd9xoIdSx/5v/xLF8eE6nH13CvKbWM5AWaUF0kNY7QVrvRKRaBEEQBEEQBEEQBEEQ/w1RHmD1GesZapGeeBfr+YTxeX19fER69ucfzEOOkuTWtYUAAAAASUVORK5CYII=');\n    top: 2%;\n    left: 0.7%;\n    width: 16%;\n    height: 10%;\n    min-width: 56px;\n    min-height: 26px;\n    max-width: 85px;\n    max-height: 40px;\n}\n.sm-ui-container .sm-controls.sm-skip-cross {\n    background-image: url(${rr});\n    top: 10px;\n    left: inherit;\n    right: 10px;\n    background-color: rgba(0, 0, 0, 0.06);\n    background-repeat: no-repeat;\n    background-position: 50%;       \n    background-size: 10px 10px;\n    border-radius: 2px;\n    width: 20px;\n    height: 20px;\n    min-width: 20px;\n    min-height: 20px;\n}\n.sm-ad-container[data-device="desktop"] .sm-ui-container .sm-controls.sm-skip-cross:hover {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAQAAABpN6lAAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAACYktHRAD/h4/MvwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+cDHA0KAR/KWCIAAAMQSURBVHja7d1NThtBEIbhMetsQ4DsIjiAkSE5Akr2WSQnjJAQJ+AEIfxdgGUQ3OFjMQjZlqd/Zrqr6it3eWXZY/l9JGus6bbcdW3atGmzxTMbfgjxp5ifeMMsdigzQUrDTvDQs26x/kI8g777ezfPbkB/+4knPOCkv8c2bw2/8YIbzLMa3vP/AwDuGAne858BANcZBGv5lARr+TkEG/LpCDbkpxIM5FMRDOSnEATyaQgC+T3BcQzgDE8YGvMEkXwA+IvDMMACDwAnQUI+cIm92EfgFPeMBEn5FzgIvndegpz8lPMAGUGxfE6Covl8BMXzuQiq5PMQVMvnIKiab5+ger5tApF8uwRi+TYJRPPtEYjn2yJQybdDoJZvg0A1X59APV+XwES+HoGZfB0CU/nyBObyZQlM5ssRmM2XITCdX5/AfH5dAor8egQ0+XUIqPLLE9DllyWgzC9HQJtfhoA6fzoBff40Ahf54wnc5I8jcJWfT+AufxSBr/xsAn/5GQRf8ctlfjLBI16c5icT+M2fSOAhfwKBl/yRBJ7yRxB4y18huNvK/CWCb3gM5l9hXzZ/Z/pLZM2X7kPw8Y/dZ+F3JDNJ3/n7Ud+Aq5vvkSAz3xvBiHxPBCPzvRBMyPdAkJR/xfs7xRL5F9jHQn8Drl7+gcRGG+v5/giy830R5F/odkUw7jq/G4LxyxwuCKat8tATTF/koiYos8ZHS1BuiZOSoOwKLx1B+QVuKoI66/s0BPW2N1AQ1N3dYZ6g/uYW0wQye3vMEsjkmyWQyzdJIJtvjkA+3xSBTr4ZAr18EwS6+eoE+vmqBDby1Qjs5KsQ2MoXJ7CXL0pgM1+MwG6+CIHt/OoE9vOrEnDkVyPgya9CwJVfnIAvvygBZ34xAnToMGPMzyA4jQH84P0dXxLBLY7CAHPccOYnEpxjN/YPE8f4x5mfQPAHn4IFAQKK/AjBW37KeWCdgCY/QJCSP0BAlT9AkJq/gYAufwNBTv4KwTUuGfNXCG5xnpm/dPgh9jjzlxqOsBtq2Pq/3GzTpk2bNts8rx4kEpmZr3UgAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIzLTAzLTI4VDEzOjA5OjU3KzAwOjAwYArUCwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMy0wMy0yOFQxMzowOTo1NyswMDowMBFXbLcAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjMtMDMtMjhUMTM6MTA6MDErMDA6MDBQ6YI8AAAAAElFTkSuQmCC);     \n    background-color: rgba(0, 0, 0, 0.6);\n}\n.sm-ui-container .sm-controls.sm-label {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAPFBMVEUAAADf398AAACysrL9/f35+fnr6+v39/fNzc1/f39NTU3BwcH09PTl5eWcnJzY2Njv7+8AAAAAAAD///+0QK99AAAAE3RSTlMmkwBc8uWu13hBNGrJoU+FvBMKsepXMwAAAd9JREFUaN7tmuuOwiAQRkGgFEpbdd7/XZdLKlBaV1BMdjPnj5eaHKYfHTCBXCw30o+bE1jLnfTlbi39JFFjLaQ71nEj3bEOBEEQBEEQBPlvMOpg5AWopdEiwSHJC4ClTbJAYOlqGSAwdLVwCPCelhEsvp6xo8W4MnxBpp9F+VJCOKqbZfbTK0y0uZtFAICIr6dP7bq8YZl8DVtNEynQM4eAYc2Wq89jy+dazkAOkbXRomJvkUf5j5BB2yyrH2L6NmMCDzfGRFVb9qBiWSLPhPtSWbx3TRbmw0gjYsUsHx5O2Wh5NJbYavalmOSzaLJocOjs/uhd9KyIqa1RFpWln2UZY9MiOeVDlfllWrajlkWS71eaJWtarCy+JXtJI7624YmFNVg4HME/axnhmPGjFnNiMZ+0KHDQHHCoxDK9aZmPtnoyXTJlsXzSaovYMiiyEskcFOUgqhdJ0Ic9Z0p+woqbXL1IXp9/zV0xer+hrs5+OilRJTHITaMH8NQukvzsUV3T7PgY/AICtdkPZ21H7P4OGGO4F9ZZGDjY8ytlf5gqLHHEv1e5iKz3VFk0nG9Y53yKa7p5zELqLIo61IvX2PrYwVILQRAEQRAEQZC/z3fOKV1If75zfuxLZ+G+c67vB3fdN7CN6+nmAAAAAElFTkSuQmCC');\n    top: 2%;\n    right: 1.5%;\n    height: 10%;\n    width: 0;\n    padding-right: 8%;\n    min-width: 25px;\n    min-height: 25px;\n    max-width: 40px;\n    max-height: 40px;\n}\n.sm-ui-container .sm-controls.sm-volume {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAvVBMVEUAAAD9/f38/Pz+/v7s7OwaGhr+/v739/cAAAD39/f9/f0wMDD8/Pz9/f37+/vNzc3Q0ND7+/vV1dX8/Pz5+fnw8PC9vb3Ly8uMjIxnZ2ff39/4+Pju7u7S0tL5+fnCwsL39/f19fXy8vLz8/NVVVVFRUX////v7+/Y2Njr6+usrKybm5t9fX0AAAAAAAAAAAD8/Pz19fXx8fHIyMg7Ozvn5+dycnLp6enb29u3t7elpaXi4uKxsbGXl5fk5ORvx7c5AAAAP3RSTlMm9uz4sir61gDY8i7t9Od4e+mC8eS+ZnRGOZPctn7ga9rTxso1Mf27hq1YTkAhEwrvzcFxL6I9p4thU5pcS5yLjhx7AAAEGElEQVRo3u2aaXPaMBCGtV5LrmXZxhcYbMx9kzaQkLPt//9ZNR3S8dE41MiZ6QzvJ5gxPKxWu6zeEfmS6usNaUo3X4+AlPKNNKtvKaUMkY9JKaRxpYyvpHGljBvSuFLGVVddddVV0kUHgzZpWtR1vNHpdWi/Hnr9dZdKp3S0+Vw5vW5PFM49YWnxcmNIZBh9Hedz7w9FcG4Cgun5C/tBGqWlITL2FkvYf1yMR77jpSRTGT115eTEHiLqAEo+vo0b6w5HFCN3KgFyjETvKCmlqO4gTkyGlrq+eCfYGqDukhOlqBfVB+TacnZZ4t0hotYy3qMQ2l44iP6qe1kkiHqLkAylqG5PA+aswvqRtHTEoWvkKGWtJx5T4vCSxGsdQj6gkE0smIi3Nbewjqi79GMKCVXBnMN93eXSbErOoJBt7LGkX7Pi9fSDZ1FIOAYcrf85EvsYSd84l0IGQ8bj6i7Q7qkFBT6ibhNSooRqZEWT3rqYBNpTmNWqpAQCoSBEzaV/owQcATw/aBUKcboHGFe2aJ/NixQ+6pwgxVgS4XFAcPYDI78gCTpuFUVBUAvqtclR5bzQWdg+7BwTQevRXCpVDpNSpyl/x/lPTAcLC5n/mkv3s4/OnURKqpmtAUty0RgBmLFEyumvGXA4yPVWgclWMoWsdwj7bCK6EXq2bAqxfSZ6uYoAUKVT7leAo2wwS46adApZW0xkd9XmllmGdAoJTDO7RIbDxEY+peXhMLuZI/Q68imhgk62MifAe/Ip1MfcEgXAH+VTSAS3z5m3MZirBigJeFnKohEKtfD2R27FzAZWLBTozBrPfssDPZ8m70465X5h8mxVzhwUP6RT2j5a2d/+0kSHmcUmjLPd8qmBbkmXTn6eoAGYK9mUtoYQZEN5SKraGFEYlEaYjyj0eQJMH+R2nMBoWzWPsepxrEyZLnXAaJl96H4PXK2eLatGyzLF6IwVxKhHiztu8C9zcpCcxuQyhXZf7JWmIOOjp2mueGITJtNaI3+ZshwJjyNDK/5emPp9dPo1jy9ligUA3AruCuX3cJzGu3WOYnqHlij9caIHTy+0+PxPwfxOPWdEc+mZFXUXMa7O6phiv72R8yg/xoC7F1JDtPP7kGycQQkDziKb1FP/ZF18fBJPm/FPo7Z5cbJhqinfF4Ip6sOlllI15XnHmbXaXm6P0fcpD68RMuewlWD1ueIdCr3bK4jJYSrDttT43ynrhXVsaO69FAsWGZYpXXtvAQP/cSPJTsb5XBTc0eViqJiIyq4zk2WN6/O59WYf9R+D3dAS3AQwnZ1bn1HuApE1fiuOsTBNQATzNlEHMyJT7Xb7D0Xh3q2wNLUVUtKUtvbr4WkQGuSqq6666qr/6t7NzSfdU/pCmtfn3B/7pLtwn3Ov7xeYwU213Se1GAAAAABJRU5ErkJggg==');\n    right: 1.5%;\n    bottom: 1.5%;\n    height: 10%;\n    width: 0;\n    padding-right: 8%;\n    min-width: 30px;\n    min-height: 30px;\n    max-width: 40px;\n    max-height: 40px;\n}\n.sm-ui-container.sm-volume-off .sm-controls.sm-volume {\n    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAABlCAMAAABjot39AAAAXVBMVEUAAAD8/Pz+/v7+/v6KioqFhYX7+/vu7u5/f3/r6+sAAADv7+/s7Oz////p6enw8PDx8fH9/f10dHT39/fs7OwAAAAAAAAAAAAAAAC8vLz5+fn09PTt7e3o6Oi8vLw06Bc/AAAAH3RSTlMm7vz4RUTqtkGsALqx/qi9wfE+2bAkIRMKZeDNsqVm/TFS9QAAAgJJREFUaN7tmttu4jAURbft40tKEgIJ12n7/585ONLoTIG0qsiOFMnrkZcl42PvDTLebpyOYHE8ZcHNcj6AyeGcLWewOd8sB7A5vOEEPiccweeIQqFQKKwU6boINim65goyEk3T7MBlXwVLt6TO2OCcARNfGWuqHdciMVjT7Q3VItHYUCVQLak21kQPqsVvskRAtaS88bWAZdGVbBKoFhnyCHtQLVKHcSVUi2yMDYMH1ZLaMG78c4tcLoJf89GbO3bOho1gwnL501f+eUTEdtLS28beE1rBpKV3ZvtEI21w02lnGnu/lmtMmLRIPkitf9zLYMM3FmswiVoUvzX2YTVSGxva9LpFNW0+TPLloyGPvmAei64mRIFufB79WjCrBb4K+br+EnaDYFaLRo+uxGw8ZrZojP7beJONM1u0EkgOO13JrBatNzGNEVEnkCxjVTPbUSJgWHQEnNOI4FiQOtc0Lnqs3/L/N7bu3b+f5PWeymc3zDpvy6mbf30p9kIis9tFY78rSq83JW19j6Vv5tb30U8V2Ncb7M9lfMoin59C+GGhFsKPpK0nWyCDzhHLomeCatHzTbXoXUW16L1LtWiGUC2ah1SLZjvToj1lR7Ro53KWZ9ER4P/TixQD06LZ6OwVdPbv7y0KhUKhsG4WeduzzDulRd5cLfN+bKG3cMu86/sLjm0XKsolsPgAAAAASUVORK5CYII=');\n}\n.sm-ui-container .sm-controls.sm-counter {\n    border-radius: 100%;\n    z-index: 5;\n    bottom: 1%;\n    left: 2%;\n    width: 10%;\n    height: auto;\n    min-width: 32px;\n    min-height: 32px;\n    max-width: 40px;\n    max-height: 40px;\n}\n.sm-ui-container .sm-controls.sm-counter .${Or} {\n    font-family: 'Lato', sans-serif;\n    font-size: 10px;\n    fill: #ffffff;\n}\n`,Lr=`\n  <svg viewport="0 0 100 100" viewBox="0 0 34 34">\n    <defs>\n      <linearGradient id="gradient_bg" x1="0%" x2="100%" y1="100%" y2="0%">\n        <stop offset="0%" stop-color="#333" stop-opacity="0.3"></stop>\n        <stop offset="100%" stop-color="#333" stop-opacity="0"></stop>\n      </linearGradient>\n    </defs>\n    <circle r="12" cx="17" cy="17" stroke="url(#gradient_bg)" fill="#333" fill-opacity="0.2"></circle>\n    <circle r="12" cx="17" cy="17" stroke="#F49831" fill-opacity="0"></circle>\n    <text class="${Or}" style="" text-anchor="middle" y="21" x="17"> </text>\n  </svg>`,Ur=at(3,((t,e,i)=>i.replace(t,e))),Vr="sm-visible",Fr=t=>{Wi(t,"add",Vr)},Br=t=>{Wi(t,"remove",Vr)};class Gr extends Se{constructor(t){let{$adContainer:e,$videoSlot:i}=t;super(),this.$videoSlot=i,this.$adContainer=e,this.device=this.$adContainer.getAttribute("data-device"),Li("ui-styles",xr),this.$uiContainer=null,this.$mediaLayer=null,this.$video=null,this.controlElems={},this.isMuted=null,this.videoSlotSubscription=null,this.createUIElements()}getSlot(){return this.$mediaLayer}getVideoSlot(){return Fn(this.$videoSlot)?this.$videoSlot:this.$video}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setVideoSettings(t),this.createVideoControls(),this.isMuted&&Wi(this.$uiContainer,"add","sm-volume-off"),xi(this.$uiContainer,[this.$mediaLayer,...Object.values(this.controlElems)]),xi(this.$adContainer,this.$uiContainer),this.$counterNumber=this.$adContainer.querySelector(`.${Or}`)}setVideoSettings(t){let{muted:e,autoplay:i}=t;this.isMuted=e,this.$video.muted=this.isMuted,this.$video.autoplay=i}createUIElements(){this.$uiContainer=Oi({name:"ui-container"});this.$video=Oi({type:"video",name:"video",attributes:{width:"100%",playsinline:"","webkit-playsinline":""}}),this.videoSlotSubscription=zn.createObservable(this.$video).subscribe((()=>{const t=this.$video.getAttribute("src");if(t){if(t===window?.location?.href)return;this.displayVideo()}else this.hideVideo()}));const t={name:"media",children:[this.$video]};this.$mediaLayer=Oi(t)}createVideoControls(){const t={class:"sm-controls"},e={name:"play",attributes:t,events:{click:()=>{this.hidePlayControl(),this.emit(Yn)}}};this.controlElems.$play=Oi(e);const i={name:"skip",attributes:t,events:{click:()=>this.emit(Qn)}};this.controlElems.$skip=Oi(i);const n={name:"label",attributes:t};this.controlElems.$label=Oi(n);const r={name:"volume",attributes:t,events:{click:()=>this.onVolumeChange()}};this.controlElems.$volume=Oi(r);const s={name:"counter",attributes:t,content:Lr};this.controlElems.$counter=Oi(s)}onStateChange(t,e){return Wi(this.$uiContainer,t?"remove":"add",e),!t}onVolumeChange(){this.isMuted=this.onStateChange(this.isMuted,"sm-volume-off"),this.$video.muted=this.isMuted,this.emit(Hn,{muted:this.isMuted})}updateVideoPlayer(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={...Wn(Ur("$",""),this.controlElems),videoPlayer:this.$video},i=e=>{const i={enable:!0,disable:!1};return n=>t[n]===i[e]||t[n]?.enabled===i[e]};d(e,((e,n)=>{i("disable")(n)?wi(e,{display:"none"}):i("enable")(n)&&(t=>{t.style.removeProperty("display")})(e),t[n]?.style&&wi(e,t[n]?.style),t[n]?.class&&Wi(e,"add",t[n]?.class)}))}resetVideoPlayer(t){this.$video.removeAttribute("style"),d(this.controlElems,(t=>{t.removeAttribute("style")})),Wi(this.controlElems.$skip,"remove",Zn),t&&this.updateVideoPlayer(t)}displayVideo(){wi(this.$video,{visibility:"visible"})}resetVideoElement(){this.$video.setAttribute("src",""),this.$video.muted=!0,this.$video.volume=0}displayInitialControls(){const t=["$play","$skip"];d(this.controlElems,((e,i)=>{t.includes(i)||Fr(e)}))}hideControls(){d(this.controlElems,(t=>{Br(t)}))}displaySkipControl(){Fr(this.controlElems.$skip)}hideSkipControl(){Br(this.controlElems.$skip)}hideVideo(){wi(this.$video,{visibility:"hidden"})}displayPlayControl(){Fr(this.controlElems.$play)}hidePlayControl(){Br(this.controlElems.$play)}displayMediaLayer(){Fr(this.$mediaLayer)}hideMediaLayer(){Br(this.$mediaLayer)}updateRemainingTime(t){if(t<=0)return clearTimeout(this.counterLastSecondTimeout),Br(this.controlElems.$counter),void(this.$counterNumber.textContent="");Number(this.$counterNumber.textContent)!==t&&(this.$counterNumber.textContent=Pt(t)?t:0,1===t&&(this.counterLastSecondTimeout=setTimeout((()=>{this.updateRemainingTime(0)}),1e3)))}destroy(){clearTimeout(this.counterLastSecondTimeout),this.videoSlotSubscription.unsubscribe?.(),this.$adContainer=null,this.$uiContainer=null,this.$mediaLayer=null,this.$video=null,this.controlElems=null,this.$counterNumber=null}static create(t){return new Gr(t)}}const zr={playerUIFactory:t=>Gr.create(t)},Wr="impression",Yr="clickTracking",Qr="error",Hr="viewable",jr="notViewable",_r="viewabilityUndetermined",qr="creativeView",Kr="start",$r="firstQuartile",Zr="midpoint",Xr="thirdQuartile",Jr="complete",ts="mute",es="unmute",is="pause",ns="resume",rs="skip",ss="close",as="collapse",os="acceptInvitation",ds="userInteract";function cs(t){const{children:e,attributes:i}=t,n=ke(((t,e)=>{const{tagName:i}=e;return{...t,[i]:[...t[i]||[],cs(e)]}}),{});return{$:ke(((t,e)=>{let{name:i,value:n}=e;return{...t,[i]:n}}),{},i),...e.length?n(e):{_:t.textContent.trim()}}}function ls(t){const e=new DOMParser,{firstChild:i}=e.parseFromString(t,"text/xml");return{[i.tagName]:cs(i)}}function us(t){new Image(1,1).src=t}function hs(t){tt(o(t))||d(t,us)}function As(t,e){if(tt(Ti(t))||tt(t.isConnected)||tt(o(e)))return;d(e,(e=>{xi(t,{type:"script",attributes:{src:e,async:!0}})}))}function ms(){let{images:t,scripts:e,$scriptContainer:i=document.body}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hs(t),As(i,e)}const ps=(t,e)=>i=>i.replace(t,e);function gs(t,e){const i={[Fe.RANDOM]:be(),...e},n=mt(ke(((e,i,n)=>[...e,ps(t[n],i)]),[]),Wt(r))(i);return mt(lt,...n)}class fs extends Error{constructor(){super(),this.name="EmptyVastError",this.message="Empty VAST response."}}class vs extends Error{constructor(t){let{code:e,message:i}=t;super(),this.name="VastError",this.code=e,this.message=i}toString(){return`[${this.code}] ${this.message}`}}class Es extends Error{constructor(){super(),this.name="WaterfallError",this.message="Waterfall error."}}const bs={code:100,message:"XML parsing error."},Is={code:101,message:"VAST schema validation error."},ys={code:200,message:"Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display."},Ts={code:300,message:"General Wrapper error."},Cs={code:403,message:"Couldn't find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."},Ss={code:901,message:"General VPAID error."};function ws(t){return tt(n(t))}const Rs=at(2,((t,e)=>r(e)?void 0:e[t]));function ks(t){const e=mt(St,Rs("url"));return mt(ke(((t,e)=>{let{event:i,url:n}=e;const r=t[i]?.images||[],s=t[i]?.scripts||[];return(n.includes(".js")?s:r).push(n),{...t,[i]:{images:r,scripts:s}}}),{}),zt(e))(t)}const Ps=st.wrapWithName("VIDEOPLAZA MANAGER"),Ds=t=>{if(et(t)){const e=t.indexOf("&amp;")>-1?t.replace(/&amp;/g,"&"):t;return e.indexOf("videoplaza")>-1&&e.indexOf("s=")>-1?e.replace(/%2F/g,"/"):e}return null},Ms=t=>{let{event:e,fromList:i,adTrackingEvents:n}=t;i.length>0&&d(i,(t=>{const i=Ds(t?.value||t);et(i)&&n.push({event:e,url:i})}))},Ns=t=>{const e=[],i=[];let n=[],s=[],a={},c=null;const{error:l,impression:u,creatives:h,extensions:A}=t;if(ws(l)){d(o(l)?l:[l],(t=>{const n=Ds(t?.value||t);n.includes(_n)?i.push(n):e.push({event:Qr,url:n})}))}if(ws(u)){const t=o(u)?u:[u];Ms({event:Wr,fromList:t,adTrackingEvents:e})}if(ws(h)){const{creative:t=[]}=h,{linear:i}=t.shift();if(ws(i)){const{trackingEvents:t={},videoClicks:r={}}=i;({mediaFiles:n,adParameters:s}=i),((t,e)=>{t.tracking.length>0&&d(t.tracking,(t=>{let{event:i,value:n}=t;const r=Ds(n);et(r)&&e.push({event:i,url:r})}))})(t,e);const{clickTracking:o=[],customClick:c=[]}=r;({clickThrough:a}=r),Ms({event:Yr,fromList:[...Yt((t=>{let{value:e}=t;return e}),o),...Yt((t=>{let{value:e}=t;return e}),c)],adTrackingEvents:e});const l=new RegExp(`\\be=${qn}\\b`,"g");Ms({event:ds,fromList:o.filter((t=>{let{value:e}=t;return e.includes(_n)&&!!e.match(l)})).map((t=>{let{value:e}=t;return e.replace(l,`e=${Kn}`)})),adTrackingEvents:e})}}try{d(A?.extension,(function(){let{viewableImpression:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(t))return;const{viewable:i,notViewable:n,viewUndetermined:s}=t;Ms({event:Hr,fromList:i,adTrackingEvents:e}),Ms({event:jr,fromList:n,adTrackingEvents:e}),Ms({event:_r,fromList:s,adTrackingEvents:e})}))}catch(t){Ps.error("STORE viewableImpression trackers",t)}try{const{adInfo:t}=A?.extension?.find((t=>t?.adInfo))||{};c=t?.cid}catch(t){Ps.error("Obtain campaign Id from videoplaza item",t)}return{adTrackingEvents:e,videoplazaErrors:i,mediaFiles:n,adParameters:s,clickThrough:a,campaignId:c}},Os=(t,e)=>{const i=JSON.parse(t),{slot:r=[]}=i.insertionPoint.shift(),{vast:s}=r.shift(),{inLine:a}=s.ad.shift(),{linear:o}=a.creatives.creative.shift(),{value:c}=o.adParameters,l=JSON.parse(c),{ad:u}=l;return((t,e)=>{let{isSunmedia:i,trafficType:r}=e;const s=[];let a=[];return d(t,(t=>{const{wrapper:e,inLine:o}=t;if(n(o)&&n(e))throw new vs(Is);let d,c=!1;if(ws(e))c=!0,d=e;else{d=o;const{creatives:t,impression:e}=d;!t&&e&&(d.error=e,delete d.impression)}const{adTrackingEvents:l,videoplazaErrors:u,clickThrough:h,mediaFiles:A,adParameters:m,campaignId:p}=Ns(d);if(a=[...a,...u],c){const{vastadTagURI:t}=d;if(et(t)){const e={url:t.replace(/&amp;/g,"&"),isSunmedia:i,trafficType:r};s.push({isWrapper:c,campaignId:p,ad:{tag:e,trackingEvents:l}})}}else try{let t=[];A?.mediaFile?.length&&(t=A.mediaFile.map((t=>{const e={$:{},_:null};return Object.entries(t).forEach((t=>{let[i,n]=t;"value"===i?e._=n:e.$[i]=n})),e})),s.push({isWrapper:c,campaignId:p,ad:{mediaFile:t,parameters:m,trackingEvents:l,clickThroughUrl:h?.value||h}}))}catch(t){st.error("Adding a videoplaza inline to the adPod",t)}})),a=Ve(a),{adPod:s,podErrors:a}})(u,e)},xs=t=>{ms(ks(zt((t=>t.event===Qr),t))[Qr])};class Ls{constructor(t){let{adData:e,platformData:i,fromAdTag:n,adParametersData:r,vastManager:s,options:a}=t;const{adPod:o,podErrors:d}=Os(r,n);this.adPod=o,this.podErrors=d,this.vastManager=s,this.currentIndex=0,this.videoplazaTag=n,this.adData=e,this.platformData=i,this.options=a,this.emptyWaterfallErrorFired=!1}hasNext(){return this.currentIndex<this.adPod.length}nextAdFromPod(){try{const t=this.adPod[this.currentIndex];return this.currentIndex+=1,t}catch(t){return!1}}async loadAds(){for(;this.hasNext();){let t=null;const{ad:e,campaignId:i,isWrapper:n}=this.nextAdFromPod();try{if(n){const{tag:i,trackingEvents:n}=e;this.vastManager.init([i],this.options),t=await this.vastManager.loadAds(),t.adTrackingEvents=[...t.adTrackingEvents,...n]}else{const{mediaFile:i,parameters:n,trackingEvents:r,clickThroughUrl:s}=e;t=await this.vastManager.setLinearMediaFile({linear:{MediaFiles:[{MediaFile:i}],AdParameters:n},companionAds:[],trackingEvents:r,clickThroughUrl:s,adData:this.adData,platformData:this.platformData})}}catch(t){}if(t)return t.initialAdTag=this.videoplazaTag,t.videoplazaWaterfall={campaignId:i},t;xs(e.trackingEvents)}return this.fireEmptyWaterfallError(),null}fireEmptyWaterfallError(){if(!this.emptyWaterfallErrorFired){this.emptyWaterfallErrorFired=!0,Ps.info("FIRE WATERFALL VAST_ERRORS",this.podErrors);const t=[];d(this.podErrors,(e=>{t.push({event:Qr,url:e})})),xs(t)}}}const Us={CONCURRENT:"concurrent",ENDCARD:"end-card"};function Vs(t){const{$:e}=t,{adSlotId:i=(e.id?.toLowerCase()===Jn.REMEMBER?Jn.AVA:Jn.MAIN),renderingMode:n=Us.ENDCARD}=e,r=parseInt(e.width,10),s=parseInt(e.height,10),a=_e(e.scalable||"")??["720x720","640x480"].includes(`${r}x${s}`);return{...t,width:r,height:s,adSlotId:i,renderingMode:n,scalable:a}}class Fs extends Se{constructor(t){let{url:e}=t;super(),this.adMediaUrl=e,this.quartiles=null,this.firstQuartileEventFired=!1,this.midpointEventFired=!1,this.thirdQuartileEventFired=!1,this.videoCompleteEventFired=!1,this.slot=null,this.videoSlot=null,this.adLinear=!0,this.adWidth=null,this.adHeight=null,this.adExpanded=null,this.adSkippableState=null,this.adRemainingTime=null,this.adCurrentTime=0,this.adDuration=null,this.adVolume=null,this.adCompanions=null,this.adIcons=null}getAdQuartiles(){if(null==this.quartiles){const t=Math.round(this.adDuration/4);this.quartiles=[t,2*t,3*t]}return this.quartiles}getAdLinear(){return this.adLinear}getAdWidth(){return this.adWidth}getAdHeight(){return this.adHeight}getAdExpanded(){return this.adExpanded}getAdSkippableState(){return this.adSkippableState}getAdRemainingTime(){return this.adRemainingTime=this.adDuration-this.adCurrentTime,this.adRemainingTime}getAdCurrentTime(){return this.adCurrentTime}getAdDuration(){return this.adDuration}getAdCompanions(){return this.adCompanions}getAdIcons(){return this.adIcons}getAdVolume(){return this.adVolume}setAdVolume(t){this.adVolume!==t&&(this.adVolume=t,this.emit(un))}handshakeVersion(){this.emit(Sn,{method:"handshakeVersion",crea:this})}initAd(t,e,i,n,r,s){const{slot:a,videoSlot:o}=s;this.slot=a,this.videoSlot=o,this.emit(en)}startAd(){this.emit(nn)}stopAd(){this.emit(rn)}resizeAd(t,e,i){this.emit(Sn,{method:"resizeAd",args:[t,e,i],crea:this})}pauseAd(){this.emit(Tn)}resumeAd(){this.emit(Cn)}expandAd(){this.emit(Sn,{method:"expandAd",crea:this})}collapseAd(){this.emit(Sn,{method:"collapseAd",crea:this})}skipAd(){this.emit(sn)}subscribe(t,e,i){this.on(e,t.bind(i))}unsubscribe(t,e){this.off(e,t)}emitAdVideoComplete(){this.videoCompleteEventFired=!0,this.emit(fn)}tick(t){if(t>0&&this.adDuration>0&&t<=this.adDuration){const e=Math.round(t);e>this.adCurrentTime&&(this.adCurrentTime=e);const[i,n,r]=this.getAdQuartiles();this.adCurrentTime>=i&&!this.firstQuartileEventFired?(this.firstQuartileEventFired=!0,this.emit(mn)):this.adCurrentTime>=n&&!this.midpointEventFired?(this.midpointEventFired=!0,this.emit(pn)):this.adCurrentTime>=r&&!this.thirdQuartileEventFired?(this.thirdQuartileEventFired=!0,this.emit(gn)):this.adCurrentTime>=this.adDuration&&!this.videoCompleteEventFired&&this.emitAdVideoComplete()}}}function Bs(t,e){if(tt(ce(t)&&Ti(e)))throw new Error("Channel id must be a string and $target an HTMLElement");let i=[];return{sendMessage(i,n){const r=new CustomEvent(i,{detail:{channelId:t,message:n}});e.dispatchEvent(r)},addListener(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rt,{once:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=i=>{i.detail?.channelId===t&&(s&&e.removeEventListener(n,a),r(i.detail.message))};e.addEventListener(n,a),i.push({messageType:n,handler:a})},close(){d(i,(t=>{let{messageType:i,handler:n}=t;e.removeEventListener(i,n)})),i=[],this.sendMessage=Rt,this.addListener=Rt}}}class Gs extends Fs{initAd(){try{const t=(arguments.length<=5?void 0:arguments[5]).slot;Bs(t.dataset.smSlotId,t).sendMessage(f.INITIAL,{type:p.TYPES.NO_VIDEO_REMINDER}),this.emit(en)}catch(t){this.emit(wn,t)}}startAd(){this.emit(nn),this.emit(hn),this.emit(An),this.emit(rn)}}function zs(t){return Ti(t)&&"IFRAME"===t?.tagName}function Ws(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"<html><head></head><body></body></html>",{removeMargin:n=!0}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Promise((r=>{if(tt(e.isConnected))throw new Error("Cannot append iframe if the container is not connected to the DOM");if(tt(zs(t)))throw new Error("Cannot append iframe if it is not an iframe element");xi(e,t),Un(t,"load",(()=>r(t.contentWindow))),t.contentWindow.document.open().write(i),t.contentWindow.document.close(),n&&wi(t.contentDocument.body,{margin:0})}))}async function Ys(t){let{args:e=[],attempts:i=5,delay:n=500}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await t(...e)}catch(r){if(i-1)return await Ln(n),Ys(t,{args:e,attempts:i-1,delay:n});throw new Error(`Max attempts reached. ${r}`)}}function Qs(t){return new Promise(((e,i)=>{const{getIMASdk:n}=t.contentWindow;J(n)?e(n):i()}))}async function Hs(){const t=`${y}-ima-iframe`;let e=document.getElementById(t);if(tt(e)){const i='\n      <!doctype html>\n      <html style="height:100%;">\n      <head>\n        <meta charset=utf-8></meta>\n        <meta content="width=device-width,minimum-scale=1,initial-scale=1" name=viewport>\n      </head>\n      <body style="height:100%;">\n        <script>var inDapIF = true;<\/script>\n        <script async \n          src="//imasdk.googleapis.com/js/sdkloader/ima3.js" \n          onload="(function(e){ window.getIMASdk = () => google.ima;})(this)"><\/script>\n      </body>\n      </html>';e=function(t){return Oi({id:t,prefix:null,type:"iframe",style:{position:"absolute",left:"0",bottom:"0",width:"0",height:"0",border:"0"},attributes:{scrolling:"no",title:"ima-iframe"}})}(t),await Ws(e,document.body,i)}return(await Ys(Qs,{args:[e],attemps:5,delay:200}))()}function js(t){return t?Hs():new Promise(((t,e)=>{const i=`${y}-imasdk`;if(document.getElementById(i))return void t(google.ima);const n=Oi({id:i,prefix:null,type:"script",attributes:{type:"text/javascript",src:"//imasdk.googleapis.com/js/sdkloader/ima3.js",async:!0},events:{load:()=>t(google.ima),error:e}});xi(document.body,n)}))}const _s=(t=>{const e=Yt((t=>e=>e?.includes(t)||e?.includes(Ze.encode(t))),t);return t=>e.some((e=>e(t)))})(["https://ad.doubleclick.net/ddm"]);class qs extends Fs{constructor(t){let{url:e,adTagUrl:i,encapsulateIMA:n}=t;super({url:e}),this.adTagUrl=i,this.encapsulateIMA=n,this.$imaAdContainer=null,this.googleIMA=null,this.adDisplayContainer=null,this.adsLoader=null,this.adsManager=null,this.onAdsManagerLoaded=this.onAdsManagerLoaded.bind(this),this.onAdLoaded=this.onAdLoaded.bind(this),this.onAdProgress=this.onAdProgress.bind(this),this.onAdError=this.onAdError.bind(this)}async initAd(t,e,i,n,r,s){this.adWidth=t,this.adHeight=e,this.googleIMA=await js(this.encapsulateIMA),super.initAd(t,e,i,n,r,s)}async startAd(){const{AdDisplayContainer:t,AdsLoader:e,AdsManagerLoadedEvent:i,AdErrorEvent:n}=this.googleIMA;this.$imaAdContainer=Oi({name:`ima-ad-container-${be()}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),xi(this.slot,this.$imaAdContainer),this.adDisplayContainer=new t(this.$imaAdContainer,this.videoSlot),this.adsLoader=new e(this.adDisplayContainer),this.adsLoader.addEventListener(i.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded,!1),this.adsLoader.addEventListener(n.Type.AD_ERROR,this.onAdError,!1);const{AdsRequest:r}=this.googleIMA,s=new r;St(this.adTagUrl)?s.adTagUrl=this.adTagUrl:s.adsResponse=this.adTagUrl,s.linearAdSlotWidth=this.adWidth,s.linearAdSlotHeight=this.adHeight,s.setAdWillAutoPlay(!0),s.setAdWillPlayMuted(!0),this.adsLoader.requestAds(s)}onAdsManagerLoaded(t){const{AdsRenderingSettings:e}=this.googleIMA,i=new e;this.adsManager=t.getAdsManager(this.videoSlot,i),this.adsManager.setVolume(0),this.subscribeToAdsManagerEvents(),this.playAds()}subscribeToAdsManagerEvents(){const{AdErrorEvent:t,AdEvent:e}=this.googleIMA,i={[e.Type.ALL_ADS_COMPLETED]:rn,[e.Type.LOADED]:nn,[e.Type.STARTED]:An,[e.Type.IMPRESSION]:hn,[e.Type.FIRST_QUARTILE]:mn,[e.Type.MIDPOINT]:pn,[e.Type.THIRD_QUARTILE]:gn,[e.Type.COMPLETE]:fn,[e.Type.SKIPPED]:sn,[e.Type.PAUSED]:Tn,[e.Type.RESUMED]:Cn,[e.Type.VOLUME_CHANGED]:un,[e.Type.VOLUME_MUTED]:un,[e.Type.CLICK]:vn,[e.Type.LOG]:Sn};this.adsManager.addEventListener(t.Type.AD_ERROR,this.onAdError),this.adsManager.addEventListener(e.Type.ALL_ADS_COMPLETED,Rt),this.adsManager.addEventListener(e.Type.LOADED,this.onAdLoaded),this.adsManager.addEventListener(e.Type.AD_PROGRESS,this.onAdProgress),Object.entries(i).forEach((t=>{let[e,i]=t;this.adsManager.addEventListener(e,(()=>this.emit(i)))}))}onAdLoaded(t){const e=t.getAd();this.adMediaUrl=e?.getMediaUrl(),this.adDuration=e?.getDuration()}onAdProgress(t){const e=t.getAdData();this.adCurrentTime=e?.currentTime}onAdError(t){const e=t.getError();this.destroy(),this.emit(wn,e)}playAds(){const{ViewMode:t}=this.googleIMA;try{this.adDisplayContainer.initialize(),this.adsManager.init(this.adWidth,this.adHeight,t.NORMAL),this.adsManager.start()}catch(t){this.onAdError(t)}}destroy(){try{this.adsManager?.destroy(),this.adsLoader.destroy(),this.adDisplayContainer.destroy()}catch(t){}Ci(this.$imaAdContainer)}getAdSkippableState(){return this.adsManager?.getAdSkippableState()}getAdRemainingTime(){return this.adsManager?.getRemainingTime()}getAdVolume(){return this.adsManager?.getVolume()}setAdVolume(t){this.adsManager?.setVolume(t)}skipAd(){this.adsManager?.skip()}stopAd(){this.adsManager?.stop()}resizeAd(t,e,i){this.adWidth=t,this.adHeight=e,this.adsManager?.resize(t,e,i)}pauseAd(){this.adsManager.pause()}resumeAd(){this.adsManager?.resume()}expandAd(){this.adsManager?.expand()}collapseAd(){this.adsManager?.collapse()}}const Ks=["https://s1.adform.net/banners/scripts/video/VPAIDWrapper.min.js"];function $s(t){return new Promise(((e,i)=>{const{getVPAIDAd:n}=t.contentWindow;J(n)?e(n):i()}))}async function Zs(t){let{slot:e,adParameters:i,adMediaUrl:n}=t;const r=function(t){let{adMediaUrl:e,adParameters:i}=t;const n=e?.toLowerCase(),r=i?.toLowerCase();return tt(Ks.some((t=>{const e=t.toLowerCase();return n?.includes(e)||r?.includes(e)})))}({adMediaUrl:n,adParameters:i}),s=`\n    <!doctype html>\n    <html style="height:100%;"><head>\n      <meta charset=utf-8></meta>\n      <meta content="width=device-width,minimum-scale=1,initial-scale=1" name=viewport>\n    </head><body style="height:100%;">\n      <script>var inDapIF = ${r};<\/script>\n      <script src="${n}"><\/script>\n    </body></html>`,a=Oi({type:"iframe",name:"vpaid-iframe",style:{display:"block",position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",border:"0px"},attributes:{scrolling:"no",width:"100%",title:"vpaid-iframe"}}),o=await Ws(a,e,s);return{creative:(await Ys($s,{args:[a],attemps:5,delay:200}))(),vpaidSlot:o.document.body}}const Xs={isVPAID:function(t){let{apiFramework:e}=t;return e&&jn.VPAID.test(e)},isJavascript:function(t){let{type:e}=t;return jn.JS.test(e)},isFlash:function(t){let{type:e}=t;return jn.FLASH.test(e)},isVideoplaza:function(t){let{url:e}=t;return e.indexOf("passback_vpaid/passback_vpaid")>-1},isNoVideoReminder:function(t){let{url:e}=t;return e.indexOf("https://novideoreminder.com/")>-1},isImage:function(t){return jn.IMAGE.test(t)}};const Js={ERROR:"error",DURATION_CHANGE:"durationchange",LOAD_METADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",ENDED:"ended",VOLUME_CHANGE:"volumechange",TIME_UPDATE:"timeupdate"};class ta extends Fs{constructor(t){let{url:e}=t;super({url:e}),this.adSkippableState=!0,this.onClick=this.onClick.bind(this),this.callbacks={},this.callbacks[Js.ERROR]=this.onPlaybackError.bind(this),this.callbacks[Js.DURATION_CHANGE]=this.onDurationChange.bind(this),this.callbacks[Js.LOAD_METADATA]=this.onLoadedmetadataPlay.bind(this),this.callbacks[Js.PAUSE]=this.onPause.bind(this),this.callbacks[Js.PLAY]=this.onPlay.bind(this),this.callbacks[Js.PLAYING]=this.onPlaying.bind(this),this.callbacks[Js.ENDED]=this.onEnded.bind(this),this.callbacks[Js.VOLUME_CHANGE]=this.onVolumeChange.bind(this),this.callbacks[Js.TIME_UPDATE]=this.onTimeupdate.bind(this)}setAdVolume(t){this.adVolume!==t&&(r(this.adVolume)&&(this.adVolume=t),this.videoSlot.muted=0===t,this.videoSlot.volume=t)}destroyAd(){this.slot.removeEventListener("click",this.onClick,!1),d(this.callbacks,((t,e)=>{this.videoSlot.removeEventListener(e,t)})),this.videoSlot.removeAttribute("src"),this.videoSlot.load()}initAd(t,e,i,n,r,s){const{slot:a,videoSlot:o}=s;a.addEventListener("click",this.onClick,!1),d(this.callbacks,((t,e)=>{o.addEventListener(e,t,!1)})),super.initAd(t,e,i,n,r,s)}startAd(){!0!==function(t,e){let i=t.split(".").pop();const n=i.indexOf("?");if(i=n>-1?i.substr(0,n):i,e.canPlayType)return""!==e.canPlayType(`video/${i}`);return!0}(this.adMediaUrl,this.videoSlot)?this.emit(wn,{message:"Video can not play"}):(this.videoSlot.src=this.adMediaUrl,this.videoSlot.load())}stopAd(){this.destroyAd(),super.stopAd()}skipAd(){this.destroyAd(),super.skipAd()}pauseAd(){this.videoSlot.pause()}async resumeAd(){try{await this.videoSlot.play(),this.emit(Sn,{method:"resumeAd",message:"Automatic playback started!",crea:this})}catch(t){this.emit(Sn,{method:"resumeAd",message:`Automatic playback with volume (${this.adVolume}) failed!`,error:t,crea:this}),Dt(this.adVolume)&&(this.setAdVolume(0),this.resumeAd())}}onClick(){this.emit(vn),this.pauseAd()}removeEventListener(t){this.videoSlot.removeEventListener(t,this.callbacks[t])}onPlaybackError(t){this.emit(wn,{DOMEvent:t}),this.stopAd()}onDurationChange(){this.removeEventListener(Js.DURATION_CHANGE),this.adDuration=Math.round(this.videoSlot.duration)}onLoadedmetadataPlay(){this.removeEventListener(Js.LOAD_METADATA),this.resumeAd()}onPause(){this.vastPlayerPaused||(this.vastPlayerPaused=!0,super.pauseAd())}onPlay(){this.vastPlayerPaused&&(this.vastPlayerPaused=!1,super.resumeAd())}onPlaying(){this.removeEventListener(Js.PLAYING),super.startAd(),this.emit(hn),this.emit(An)}onEnded(){this.emitAdVideoComplete(),this.stopAd()}onVolumeChange(){super.setAdVolume(this.videoSlot.volume)}onTimeupdate(){const t=this.videoSlot.currentTime;this.tick(t)}}const ea=t=>{if(null!=t&&!(J((e=t).handshakeVersion)&&J(e.initAd)&&J(e.startAd)&&J(e.stopAd)&&J(e.skipAd)&&J(e.resizeAd)&&J(e.pauseAd)&&J(e.resumeAd)&&J(e.expandAd)&&J(e.collapseAd)&&J(e.subscribe)&&J(e.unsubscribe)))throw new vs(Ss);var e};class ia{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ea(t),this._creative=t,this.vpaidSlot=e,this.adMedia=i}getAdLinear(){return this._creative.getAdLinear()}getAdWidth(){return this._creative.getAdWidth()}getAdHeight(){return this._creative.getAdHeight()}getAdExpanded(){return this._creative.getAdExpanded()}getAdSkippableState(){return!0}getAdRemainingTime(){let t=this._creative.getAdRemainingTime();return t=t!==1/0?parseInt(t,10):0,t>0&&(this.remainingTime=Math.round(t)),this.remainingTime}getAdDuration(){let t=this._creative.getAdDuration();return t=t!==1/0?parseInt(t,10):0,t>0&&(this.duration=Math.round(t)),this.duration}getAdCurrentTime(){return this.getAdDuration()-this.getAdRemainingTime()}getAdCompanions(){return this._creative.getAdCompanions?.()}getAdIcons(){return this._creative.getAdIcons()}getAdVolume(){return this._creative.getAdVolume()}setAdVolume(t){this._creative.setAdVolume?.(t)}getAdSecondsForViewable(){return this.adMedia.type&&this.adMedia.type.includes("video")?2:1}handshakeVersion(){return this._creative.handshakeVersion()}initAd(t,e,i,n,r,s){this._creative.initAd(t,e,i,n,r,s)}startAd(){this._creative.startAd()}stopAd(){this._creative.stopAd()}resizeAd(t,e,i){this._creative.resizeAd(t,e,i)}pauseAd(){this._creative.pauseAd()}resumeAd(){this._creative.resumeAd()}expandAd(){this._creative.expandAd()}collapseAd(){this._creative.collapseAd()}skipAd(){this._creative.skipAd()}subscribe(t,e,i){this._creative.subscribe(e,t,i)}unsubscribe(t,e){this._creative.unsubscribe(e,t)}adFactoryInitialize(t){try{this._creative.SMInitialize(t)}catch(t){}}static async create(t){let{adMedia:e,slot:i,adParameters:n,loadingModuleTime:r=3e4}=t,s=null,a=null;if(Xs.isVPAID(e)){if(!Xs.isJavascript(e))throw Xs.isFlash(e),new vs(Cs);try{({creative:s,vpaidSlot:a}=await De(Zs({adMediaUrl:e.url,adParameters:n,slot:i}),r))}catch(t){throw new vs(Ss)}}else s=new ta(e);return new ia(s,a,e)}}const na={vpaidWrapperFactory:t=>ia.create(t),imaWrapperFactory(t,e){const i=new qs({adTagUrl:t,encapsulateIMA:e});return new ia(i,null,{type:"video"})},reminderWrapperFactory(t){const e=new Gs(t);return new ia(e,null,t)}};function ra(t){try{return(t._??t).trim()}catch{return null}}function sa(t){d(Array.from(t.children).filter((t=>tt(Fn(t))&&tt(t.dataset.deleting))),(t=>{tt(t.className.includes(`${y}-vpaid-iframe`))?Ci(t):(wi(t,{height:0,margin:0,visibility:"hidden"}),t.setAttribute("data-deleting",!0),function(t){setTimeout((()=>{Ci(t)}),5e3)}(t))}))}const{CATEGORY:aa}=Fe;function oa(t){let e,{adTagUrl:i,macroValues:n={}}=t,r=i;if(i.includes("spotxchange")&&tt(i.includes("&ad_volume"))&&(r+="&ad_volume=0"),r=gs(Be,n[aa]?{...n,[aa]:Ze.encode(n[aa])}:n)(r),r.includes("vast.sunmedia.tv/creatives"))try{({url:r,params:e}=function(t){const[,e,i,n,r]=t.match(/^(http|https):\/\/vast.sunmedia.tv\/creatives\/(ss\/)?([a-zA-Z0-9_.-]+\/)?([a-zA-Z0-9_.-]+)/)||[];return tt(e&&oe(r))||i&&tt(n)?{url:t}:{url:`${e}://creatives.sunmedia.tv/${i?`ss/sunstudio/${n}${r}/vast`:`${r}/${r}`}.xml`,params:{rnd:Math.abs(Math.floor(1e9*Math.random())),...We(t)}}}(r))}catch(t){st.error(`replacing ${r} with direct xml VAST`,t)}return{url:r,tagMacros:e}}function da(t){const{vpaidMediaFile:e,mediaFileItems:i}=function(t){const e=[];let i=null,n=null;try{d(t,(t=>{const r={},s=ra(t);if(tt(St(s,!0)))return;const{width:a,height:o,scalable:d,type:c="",codec:l="",bitrate:u="",apiFramework:h=""}=t.$;if(""===c)return;const A=s.split(".").pop().toLowerCase();if(r.url=s,r.type=c,""!==l&&(r.codec=l),r.width=a?parseInt(a,10):null,r.height=o?parseInt(o,10):null,r.scalable=_e(d||""),r.apiFramework=h,Xs.isVPAID(r))return Xs.isJavascript(r)?void(i=r):Xs.isFlash(r)?void(n=r):void 0;r.bitrate=""===u||u<10?0:parseInt(u,10),ee()?A.indexOf("mp4")>-1&&e.push(r):(A.indexOf("mp4")>-1||A.indexOf("ogg")>-1||A.indexOf("webm")>-1||A.indexOf("mov")>-1&&ae())&&e.push(r)}))}catch{}return{vpaidMediaFile:i||n,mediaFileItems:e}}(t);let n=null;if(null!=e)n=e;else if(i.length>0){i.sort(((t,e)=>t.bitrate-e.bitrate));const[t,e,...r]=i;n=t,Xt()&&ws(e)?n=e:d(i,(t=>{t.bitrate>=512&&t.bitrate<720&&t.width>400&&t.width<800&&n.bitrate<t.bitrate&&(n=t)}))}return n}const ca={errorCode:/\[ERRORCODE\]/g},la=Lt({transformResponse:t=>({...t,data:ls(t.data)})}),ua="VAST MANAGER",ha=st.wrapWithName(ua);let Aa=0;const ma=(t,e,i)=>{const n=na.imaWrapperFactory(t,e),{trackingEvents:r,clickThroughUrl:s,companionAds:a,initialAdTag:o}=i;return{adCompanions:a,adClickThroughUrl:s,adData:{fromTag:t},initialAdTag:o,linearCreative:n,adTrackingEvents:r||[]}},pa=(t,e)=>parseInt(t.$.sequence,10)-parseInt(e.$.sequence,10),ga=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return mt(zt((t=>{let{url:e}=t;return St(e,!0)})),Yt((e=>({event:t,url:ra(e)}))))(e)},fa=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return mt(zt((t=>{let{event:e,url:i}=t;return ce(e)&&St(i,!0)})),Yt((t=>({event:t?.$?.event,url:ra(t)}))))(t)},va=t=>{let{Companion:e=[]}=t;const i=t=>({$:t.$,content:ra(t)});return function(t){let{companionList:e=[]}=t;const i=t=>{let{renderingMode:e}=t;return e===Us.ENDCARD},n=t=>{let{renderingMode:e}=t;return e===Us.CONCURRENT};return{...mt(ke(((t,e)=>({...t,...n(e)&&{concurrent:{...e,isConcurrent:!0}},...i(e)&&{endcards:{...t.endcards||{},[e.adSlotId]:e}}})),{}),Yt(Vs))(e)}}({companionList:mt(Wt((t=>{let{htmlResource:e,staticResource:i,iframeResource:n}=t;return tt(ce(e?.content))&&tt(St(i?.content,!0))&&tt(St(n?.content,!0))})),Yt((t=>{const[e]=t.AltText||[],[n]=t.CompanionClickThrough||[],[r]=t.HTMLResource||[],[s]=t.StaticResource||[],[a]=t.IFrameResource||[],[o]=t.TrackingEvents||[],d=[...ga(Yr,t.CompanionClickTracking),...fa(o?.Tracking)];return{$:t.$,trackingEvents:d,adTrackingEventStore:ks(d),...e&&{altText:ra(e)},...n&&{clickThroughUrl:ra(n)},...r&&{htmlResource:i(r)},...s&&{staticResource:i(s)},...a&&{iframeResource:i(a)}}})))(e)})};function Ea(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=t=>{let{event:e}=t;return e===Qr},n=e=>{let{event:i,url:n}=e;return{event:i,url:gs(ca,kt(t?.code)?{errorCode:t.code}:{})(n)}},r=mt(Yt(n),zt(i))(e),s=ks(r);throw ms(s[Qr]),t}class ba extends Se{constructor(t){let{slot:e,macroValues:i={}}=t;super(),this.slot=e,this.macroValues=i,this.shouldStopExecution=!1}init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.adTagFeed=t,this.options=e,this.currentIndex=0,this.videoplazaWaterfallManager=null;const{requestTimeout:i,googleIMA:n}=e;this.googleIMA=n,this.requestTimeout=t=>{const e=J(i)?i(t):i;return Dt(e)?e:0}}stopExecution(){this.shouldStopExecution=!0}validateExecution(){if(this.shouldStopExecution)throw new Error("Load ads canceled")}nextAdTag(){try{const t=this.adTagFeed[this.currentIndex],{url:e,VAST:i,isPrebid:n}=t;return this.currentIndex+=1,e?.startsWith("https")||ce(i)||n?t:this.nextAdTag()}catch(t){return!1}}async loadAds(){if(this.validateExecution(),sa(this.slot),null!=this.videoplazaWaterfallManager)if(this.videoplazaWaterfallManager.hasNext()){const t=await this.videoplazaWaterfallManager.loadAds();if(t)return t;this.videoplazaWaterfallManager=null}else this.videoplazaWaterfallManager.fireEmptyWaterfallError();const t=this.nextAdTag();return!1===t?(this.emit(_i),null):(this.adTag=t,this.emit(qi,this.adTag),this.adTag.isPrebid?this.loadPrebidInLine():this.adTag.VAST?this.processAdVastResponse():this.fetchAds(this.adTag.url))}async loadPrebidInLine(){try{const t=[],{adParameters:e,mediafile:i}=this.adTag;return{linearCreative:await na.vpaidWrapperFactory({adMedia:i,adParameters:e,slot:this.slot}),adParametersData:e,adTrackingEvents:t,initialAdTag:this.adTag,adData:{fromTag:JSON.stringify(this.adTag)},adClickThroughUrl:null,adCompanions:{},tagMacros:{schain:this.macroValues[Fe.SUPPLY_CHAIN],referrerurl:this.macroValues[Fe.REFERRER_URL],gdpr:this.macroValues[Fe.GDPR_APPLIES],gdpr_consent:this.macroValues[Fe.CONSENT_STRING],t:this.macroValues[Fe.TARGETING]}}}catch(t){return ha.error(t),this.loadAds()}}processAdVastResponse(){const{VAST:t,useIMA:e}=this.adTag;if(e)return ma(t,this.googleIMA?.encapsulateIMA,{initialAdTag:this.adTag});try{const e=ls(t);return e.parsererror&&Ea(new vs(bs)),this.setVast(t,e)}catch(t){return ha.error(t),this.emit(tn,t),this.loadAds()}}async fetchAds(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.validateExecution(),Aa+=1,Aa>5e3)throw new Error($n);const{url:i,tagMacros:n}=oa({macroValues:this.macroValues,adTagUrl:t});if(this.adTag.useIMA||this.googleIMA?.enabled&&_s(i))return ha.info("Using google IMA",i),ma(i,this.googleIMA?.encapsulateIMA,{...e,initialAdTag:this.adTag});let r;try{const t=this.requestTimeout(i);try{r=await la.get(i,{withCredentials:!0,timeout:t})}catch(e){ha.error(Ki,e),r=await la.get(i,{withCredentials:!1,timeout:t})}}catch(t){return this.emit(Ki,this.adTag),ha.error(Ki,t),this.loadAds()}this.validateExecution();try{const t=await this.setVast(i,r.data,e);return Tt(t)&&n&&Object.assign(t,{tagMacros:n}),t}catch(t){return ha.warning(t.message,t),this.emit(tn,t),this.loadAds()}}setVast(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ha.info("VAST tag",t),ha.info("VAST response",e);const{companionAds:r={},trackingEvents:s=[],clickThroughUrl:a,platformData:o}=i,{VAST:d}=e;n(d)&&Ea(new vs(Is),s);const{Ad:c,Error:l=[]}=d,u=[...s,...ga(Qr,l)];return n(c)&&Ea(new fs,u),this.filterAdPod(t,c,{trackingEvents:u,clickThroughUrl:a,companionAds:r,platformData:o})}filterAdPod(t,e,i){const n=[],s=[];let a=null;return d(e,(t=>{const{sequence:e=""}=t.$;""===e?s.push(t):n.push(t)})),0===n.length&&s.length>0?[a]=s:n.length>0&&(n.sort(pa),[a]=n),r(a)&&Ea(new vs(ys),i.trackingEvents),this.setAd(t,a,i)}setAd(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{companionAds:r={},clickThroughUrl:s,trackingEvents:a,platformData:o={}}=i,{InLine:d,Wrapper:c,$:l={}}=e,u=Boolean(c?.length),[h]=c||d;n(h)&&Ea(new vs(Is),a);const[A]=h.AdSystem||[],[m]=h.AdTitle||[],[p]=h.AdServingId||[],[g]=h.Advertiser||[],[f]=h.Category||[],[v]=h.Description||[],[E]=h.Expires||[],[b]=h.Pricing||[],[I]=h.VASTAdTagURI||[],[y]=h.ViewableImpression||[],[T]=h.Extensions||[],{id:C}=l,S={fromTag:t,adId:C,...A&&{adSystem:ra(A)},...m&&{adTitle:ra(m)},...p&&{adServingId:ra(p)},...f&&{category:ra(f)},...v&&{description:ra(v)},...g&&{advertiser:ra(g)},...b&&{pricing:ra(b)},...E&&{expires:ra(E)},...I&&{vastAdTagURI:ra(I)},raw:{...e}};S.adSystem&&tt(o.adSystem)&&(o.adSystem=S.adSystem),a.push(...ga(Qr,h.Error),...ga(Wr,h.Impression));[y,...(T?.Extension||[]).filter((t=>"Videoplaza"===t.$?.name)).flatMap((t=>t.ViewableImpression?.[0]))].forEach((t=>{tt(t)||a.push(...ga(Hr,t.Viewable),...ga(jr,t.NotViewable),...ga(_r,t.ViewUndetermined))})),u&&tt(S.vastAdTagURI)&&Ea(new vs(Ts),a);const[w]=h.Creatives||[],R=w?.Creative||[];return tt(u)&&0===R.length&&Ea(new vs(Is),a),this.setCreatives({parentWrapper:{companionAds:r,trackingEvents:a,clickThroughUrl:s,platformData:o},creativeList:R,isWrapper:u,adData:S})}async setCreatives(t){let{creativeList:e,parentWrapper:i={},isWrapper:r,adData:s}=t;const{platformData:a}=i;let{companionAds:c={},clickThroughUrl:l,trackingEvents:u}=i,h=null;const A=t=>{let{ClickThrough:e,ClickTracking:i=[]}=t;if(o(e)){const[t]=e;l=ra(t)}const n=new RegExp(`\\be=${qn}\\b`,"g"),r=i.filter((t=>t._.includes(_n)&&!!t._.match(n))).map((t=>({...t,_:t._.replace(n,`e=${Kn}`)})));u=[...u,...ga(Yr,i),...ga(ds,r)]};if(d(e,(t=>{const[e]=t.CompanionAds||[];if(e&&(c=va(e)),n(t.Linear))return;[h]=t.Linear;const[i]=h.TrackingEvents||[];u=[...u,...fa(i?.Tracking)],d(h.VideoClicks,A)})),r){const{vastAdTagURI:t}=s,e={url:t};if(Xs.isNoVideoReminder(e)){const t=await na.reminderWrapperFactory(e);return{isNoVideoReminder:!0,initialAdTag:this.adTag,linearCreative:t,adClickThroughUrl:l,adTrackingEvents:u,adCompanions:c,adData:s,platformData:a}}if(null!==t){const e={clickThroughUrl:l,trackingEvents:u,companionAds:c,platformData:a},i=this.fetchAds(t,e);return i.initialAdTag=this.adTag,i}Ea(new vs(Ts),u)}return this.setLinearMediaFile({linear:h,companionAds:c,trackingEvents:u,clickThroughUrl:l,adData:s,platformData:a})}async setLinearMediaFile(t){let{linear:e,companionAds:i,trackingEvents:n,clickThroughUrl:s,adData:a,platformData:o}=t;this.validateExecution();const[d]=e.AdParameters||[],c=ra(d);let l,u;try{const[t]=e.MediaFiles||[],[i]=t?.InteractiveCreativeFile||[];if(l=i?(t=>{const{apiFramework:e,type:i}=t.$;return{apiFramework:e,type:i,url:ra(t)}})(i):da(t?.MediaFile),r(l))throw new Error}catch(t){Ea(new vs(Cs),n)}if(ha.info("mediafile",l),Xs.isVideoplaza(l)){ha.info("DETECTED Videoplaza Waterfall");const t=ba.create({macroValues:this.macroValues,slot:this.slot}),e={[Ki]:Rt};xn(this)(t,{logWrapper:ua,propagate:!0}).subscribe(e),this.videoplazaWaterfallManager=new Ls({adData:a,platformData:o,fromAdTag:this.adTag,options:this.options,adParametersData:c,vastManager:t}),u=await this.videoplazaWaterfallManager.loadAds(),this.validateExecution(),t.offAll(),u||Ea(new Es,n);u=((t,e)=>{const{clickThroughUrl:i,companionAds:n,adData:r,trackingEvents:s}=e,a=t;return a.adClickThroughUrl=!t.adClickThroughUrl&&i?i:t.adClickThroughUrl,a.adCompanions=0===t.adCompanions.length&&n?n:t.adCompanions,a.adData=!t.adData&&r?r:t.adData,a.adTrackingEvents=[...t.adTrackingEvents,...s],a})(u,{clickThroughUrl:s,companionAds:i,adData:a,trackingEvents:n})}else{let t;try{t=await na.vpaidWrapperFactory({adMedia:l,adParameters:c,slot:this.slot})}catch(t){Ea(t||new vs(Is),n)}this.validateExecution(),u={linearCreative:t,adClickThroughUrl:s,adTrackingEvents:n,adCompanions:i,adData:a,platformData:o,initialAdTag:this.adTag,...c&&{adParametersData:c}}}return u}static create(t){let{slot:e,macroValues:i}=t;return new ba({slot:e,macroValues:i})}}const Ia={vastManagerFactory:t=>ba.create(t)},ya=1e3,Ta=0,Ca=1,Sa=2,wa=3,Ra=-1;function ka(t){return et(t)?parseInt(t,10):t}function Pa(t){return/^\d+\:\d+$/gm.test(t)}const Da={width:function(t,e){const i=ka(t);if(!Pt(i)||!Pa(e))return null;const[n,r]=e.split(":");return i*n/r},height:function(t,e){const i=ka(t);if(!Pt(i)||!Pa(e))return null;const[n,r]=e.split(":");return i*r/n},ratio:function(t,e){let i=ka(t),n=ka(e);if(!Pt(i)||!Pt(n))return null;const r=t=>ka(t.toFixed(3)),s=t=>1e3*t;i=s(r(i)),n=s(r(n));const a=function t(e,i){return 0===i?e:t(i,e%i)}(i,n);return`${i/a}:${n/a}`}},Ma=t=>Da[t]||(()=>null),Na=[{hiddenProperty:"hidden",visibilityEvent:"visibilitychange"},{hiddenProperty:"msHidden",visibilityEvent:"msvisibilitychange"},{hiddenProperty:"mozHidden",visibilityEvent:"mozvisibilitychange"},{hiddenProperty:"webkitHidden",visibilityEvent:"webkitvisibilitychange"}],Oa=["onfocusin","onfocusout","onpageshow","onpagehide","onfocus","onblur"],xa=()=>"visible"===document.visibilityState;function La(t){const e=()=>{xa()&&(Oa.forEach((t=>{document[t]=null})),t())};Oa.forEach((t=>{document[t]=e}))}class Ua extends Bn{hasNativeSupport(){return!0}createObserver(t){const{timeRequirement:e}=this.options,i=this.getTarget(),n=new IntersectionObserver((i=>{i.forEach((i=>{i.intersectionRatio<.5?this.timer=clearTimeout(this.timer):this.timer||(this.timer=setTimeout(t,e))}))}),{threshold:[0,.5,1]});return n.observe(i),n}static createObservable(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Ua(...e)}}class Va extends Error{constructor(t){super(),this.name="AdSizeError",this.message=`The ad dimensions are not allowed. ${t}`}}const Fa=[p.TYPES.SCROLLER,p.TYPES.IMAGE,p.TYPES.DISPLAY],Ba=[p.TYPES.SOCIAL,p.TYPES.SCROLLER,p.TYPES.DISPLAY,p.TYPES.PROGRAMMATIC_DISPLAY,p.TYPES.SURVEY,g.TYPES.BRANDLIFT,g.TYPES.HEADER_BIDDING,g.TYPES.INDISPLAY,g.TYPES.INSTORIES],Ga=["counter","label","play","skip","videoPlayer","volume"];function za(t){let{type:e,ava:i,transparentBackground:n,controls:r={}}=t;const s={},a=t=>t.includes(e);Le(i)&&(s.ava=i),(n||a(Fa))&&(s.referenceBackground="transparent");const o=e===p.TYPES.VIDEO;return Ga.forEach((t=>{s[t]=o})),o&&(s.skip={enabled:!0,style:{left:"8.5%"}},s.label={enabled:!0,style:{left:"1.5%"}}),a(Ba)&&(s.skip={enabled:!0,class:Zn}),{...s,...r}}const Wa=st.wrapWithName("CONTROLLER"),Ya=st.wrapWithName("AD"),Qa=st.wrapWithName("UI"),Ha="data-sm-slot-id",ja="data-position";class _a extends Se{constructor(t){let{slotId:e,macroValues:i,vastManager:n,playerUI:r}=t;super(),this.slotId=e,this.macroValues=i,this.vastManager=n,this.playerUI=r,this.options={},this.bannedSizes=[],this.onVideoElemPlaying=this.onVideoElmPlaying.bind(this),this.eventSubscriberFactory=xn(this),this.currentAdSubscriber=null,this.viewabilitySubscription=null,this.cmpValues=pe.getState(T)||{}}resetAdState(t){this.options=t||this.options,this.adRatio=this.options.defaultAdRatio,this.currentAd=null,this.adStarted=!1,this.adImpression=!1,this.adViewableImpression=!1,this.videoStarted=!1,this.firstQuartileFired=!1,this.midpointFired=!1,this.thirdQuartileFired=!1,this.videoCompleted=!1,this.adStopped=!1,this.skipBtnDisplayed=!1,this.adTimeCounter=function(t){let{period:e=ya,context:i,args:n=[],wind:r=window}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(tt(J(t)))return null;let s=null,a=null,o=0,c=null,l=e,u=Rt;function h(){c=Date.now(),t.apply(i,n)}function A(){o+=e,h()}function m(){r.clearInterval(s),r.clearTimeout(a),u()}function p(t){return new Promise(((e,i)=>{a=r.setTimeout(e,t),u=i}))}return{state:Ta,getCurrentTime:()=>o,set(){this.state!==Ca&&(s=r.setInterval(A,e),l=e,c=Date.now(),this.state=Ca)},start(){this.state!==Ca&&(h(),this.set())},pause(){this.state!==Ca&&this.state!==wa||(l-=Date.now()-c,m(),this.state=Sa)},async resume(){if(this.state===Sa){this.state=wa,c=Date.now();try{await p(l),A(),this.set()}catch{}}},reset(){m(),this.state=Ta,o=0,this.set()},restart(){m(),this.state=Ta,o=0,this.start()},cancel(){m(),this.state=Ra,d(this,((t,e)=>{J(this[e])&&(this[e]=Rt)}))}}}(this.setRemainingTime,{period:1e3,context:this}),this.emitAdSkippedTimeout=null,this.emitVideoCompleteTimeout=null,this.emitAdStoppedTimeout=null}start(t){let{adTagFeed:e,options:i={},bannedSizes:n=[],geoTarget:r={}}=t;return this.resetAdState(i),this.bannedSizes=n,this.geo={country:r?.city?.country,group:r?.city?.geoGroup},this.geoGroup=r?.city?.geoGroup,this.playerUI.init(i),this.subscribeToUIEvents(),this.subscribeToVastManagerEvents(),this.vastManager.init(e,this.options),this.loadAds()}continueLoadingAds(){return this.clearAd(),this.resetAdState(),this.loadAds()}loadAds(){return this.playerUI.resetVideoPlayer(this.options),this.playerUI.displayMediaLayer(),this.vastManager.loadAds().then((t=>{if(this.currentAd=t,null!=this.currentAd){this.subscribeToCurrentAdEvents(),this.currentAd.adTrackingEventStore=ks(this.currentAd.adTrackingEvents);const t={AdParameters:this.currentAd.adParametersData,macros:this.currentAd.tagMacros,...this.cmpValues?.vendor&&this.cmpValues.purpose&&{tcData:{purpose:this.cmpValues.purpose,vendor:this.cmpValues.vendor}}},e={slot:this.currentAd.linearCreative.vpaidSlot||this.playerUI.getSlot(),videoSlot:this.playerUI.getVideoSlot(),bannedSizes:this.bannedSizes,extraData:{geo:this.geo,geoGroup:this.geoGroup}};this.slotId&&(this.currentAd.linearCreative.vpaidSlot||this.currentAd.isNoVideoReminder)&&(e.slot.setAttribute(Ha,this.slotId),this.currentAd.channel=Bs(this.slotId,e.slot),this.listenToCurrentAdMessages());try{const{width:i,height:n}=this.macroValues;this.currentAd.linearCreative.vpaidSlot?.setAttribute(ja,"normal"),this.currentAd.linearCreative.initAd(i,n,"normal",500,t,e)}catch(t){return Wa.warning(t.message,t),this.continueLoadingAds()}}return t})).catch((t=>{Wa.error("Loading ads",t),t?.message===$n&&this.emit($i)}))}obtainPlayerDimensions(){const t=this.playerUI.$adContainer.clientWidth;return{width:t,height:Ma("height")(t,this.adRatio)}}subscribeToUIEvents(){const t={debugLog:Qa.info.bind(Qa),propagate:!0},e=this.eventSubscriberFactory(this.playerUI,t),i={[Yn]:this.onUIPlayClicked,[Hn]:this.onUIVolumeChanged};e.subscribe(i);const n={[Qn]:this.onUISkipClicked};e.subscribeOnce(n)}subscribeToVastManagerEvents(){const t=this.eventSubscriberFactory(this.vastManager,{propagate:!0}),e={[qi]:Rt,[Ki]:Rt,[_i]:Rt,[tn]:Rt};t.subscribe(e)}subscribeToCurrentAdEvents(){const t={debugLog:Ya.info.bind(Ya),propagate:!0};this.currentAdSubscriber=this.eventSubscriberFactory(this.currentAd.linearCreative,t);const e={[Tn]:this.onAdPaused,[Cn]:this.onAdPlaying,[un]:this.onAdVolumeChange,[an]:this.onAdSkippableStateChange,[cn]:this.onAdDurationChange,[vn]:this.onAdClickThru,[ln]:this.onAdExpandedChange,[En]:this.onAdInteraction,[dn]:Rt,[on]:Rt,[bn]:this.onAdUserAcceptInvitation,[In]:this.onAdUserMinimize,[yn]:this.onAdUserClose,[Sn]:this.onAdLog};this.currentAdSubscriber.subscribe(e);const i={[wn]:this.onAdError,[en]:this.onAdLoaded,[nn]:this.onAdStarted,[hn]:this.onAdImpression,[An]:this.onAdVideoStart,[rn]:this.onAdStopped,[sn]:this.onAdSkipped,[mn]:this.onAdVideoFirstQuartile,[pn]:this.onAdVideoMidpoint,[gn]:this.onAdVideoThirdQuartile,[fn]:this.onAdVideoComplete,[Qi]:this.onAdFactory,[Hi]:this.onAdFactoryProgrammaticDisplay};this.currentAdSubscriber.subscribeOnce(i)}listenToCurrentAdMessages(){this.currentAd.channel.addListener(f.INITIAL,(t=>{Ya.info(f.INITIAL,t),this.onSunmediaAd(t)}),{once:!0}),this.currentAd.channel.addListener(f.PROGRAMMATIC_DISPLAY_AD_SIZE,(t=>{Ya.info(f.PROGRAMMATIC_DISPLAY_AD_SIZE,t),this.onProgrammaticDisplay(t)}),{once:!0})}hasActuallyStarted(){return this.adStarted&&(this.adImpression||this.videoStarted)}startAd(){this.adStarted||tt(this.currentAd?.linearCreative)||(this.adStarted=!0,this.currentAd.linearCreative.startAd())}resizeAd(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";kt(t)&&kt(e)&&this.currentAd&&this.currentAd.linearCreative&&(this.currentAd.linearCreative.vpaidSlot?.setAttribute(ja,i),this.currentAd.linearCreative.resizeAd(t,e,i))}setSkipDivVisibility(){if(tt(this.currentAd?.linearCreative))return;this.currentAd.linearCreative.getAdSkippableState()?(this.playerUI.displaySkipControl(),this.skipBtnDisplayed=!0):this.playerUI.hideSkipControl()}trySetAdDuration(){tt(this.currentAd?.linearCreative)||this.currentAd.duration||(this.currentAd.duration=this.currentAd.linearCreative.getAdDuration()||this.currentAd.linearCreative.getAdRemainingTime()||null)}shouldTryDisplaySkipBtn(t){const e=this.currentAd.duration-this.options.skipTime;return this.options.skip&&!this.skipBtnDisplayed&&Pt(t)&&Pt(e)&&t<=e}setRemainingTime(){if(this.trySetAdDuration(),tt(this.currentAd?.linearCreative)||!this.currentAd.duration)return;const t=this.currentAd.linearCreative.getAdRemainingTime();this.playerUI.updateRemainingTime(t),this.shouldTryDisplaySkipBtn(t)&&this.setSkipDivVisibility(),t<=1&&!this.emitVideoCompleteTimeout&&(this.emitVideoCompleteTimeout=setTimeout((()=>{this.currentAdSubscriber.emitEvent(fn)}),3500))}fireTrackingEvent(t){const e=this.currentAd?.adTrackingEventStore?.[t];ms(e)}fireErrorTrackingEvent(t){const e=this.currentAd?.adTrackingEventStore?.[Qr];if(tt(e))return;ms({...e,images:Yt((e=>{const i=Ze.encode(t??"unknown");return e.replace("ev=sdk-errormsg",`ev=sdk-${i}`)}),e.images)})}fireNotViewableTrackingEvent(){this.viewabilitySubscription?.unsubscribe(),this.adViewableImpression||this.fireTrackingEvent(jr)}onVideoElmPlaying(){this.currentAd&&null!=this.currentAd.linearCreative&&!this.adStarted&&this.currentAd.linearCreative.pauseAd()}onUIPlayClicked(){this.currentAd&&null!=this.currentAd.linearCreative&&this.currentAd.linearCreative.resumeAd()}onUISkipClicked(){this.skipAd()}onUIVolumeChanged(t){let{muted:e}=t;this.currentAd&&this.currentAd.linearCreative&&(this.lastVolume=this.currentAd.linearCreative.getAdVolume(),this.currentAd.linearCreative.setAdVolume(e?0:1))}onSunmediaAd(t){try{if(tt(t))throw new Error("Wrong payload received on sunmediaAd");const e=[p.TYPES.PROGRAMMATIC_DISPLAY,g.TYPES.HEADER_BIDDING,g.TYPES.INDISPLAY];if(this.currentAd.isAdFactory=!0,this.currentAd.linearCreative.isAdFactory=!0,this.currentAd.isProgrammaticDisplay=e.includes(t.type),this.currentAd.adFactory=t,tt(t.width&&t.height)){tt([p.TYPES.VIDEO,p.TYPES.PROGRAMMATIC_DISPLAY,g.TYPES.HEADER_BIDDING,g.TYPES.INDISPLAY,p.TYPES.NO_VIDEO_REMINDER].includes(t.type))&&({width:this.currentAd.adFactory.width,height:this.currentAd.adFactory.height}=this.currentAd.linearCreative.adMedia||{})}this.validateAdFactoryDimensions();const{scalable:i}=this.currentAd.linearCreative.adMedia||{};this.currentAd.scalable=i??["720x720","640x480"].includes(`${this.currentAd.adFactory.width}x${this.currentAd.adFactory.height}`),this.currentAd.linearCreative.adFactoryInitialize({SMContainer:this.playerUI.$mediaLayer,plugin:!0}),mt(this.updateOptions.bind(this),za)(this.currentAd.adFactory)}catch(t){this.currentAdSubscriber.emitEvent(wn,t)}}onProgrammaticDisplay(t){try{const{width:e,height:i,bid:n}=t||{},r=Ma("ratio")(e,i)||this.options.programmaticDisplayRatio;this.currentAd.dimensions={width:e,height:i,ratio:r},this.currentAd.bid=n,this.emit(ji)}catch(t){Wa.error(t)}}onAdFactory(t){this.onSunmediaAd(t)}onAdFactoryProgrammaticDisplay(t){const{w:e,h:i}=t;this.onProgrammaticDisplay({width:e,height:i})}validateAdFactoryDimensions(){const{adFactory:t={},isProgrammaticDisplay:e,isNoVideoReminder:i,adCompanions:n}=this.currentAd;if(t.type===p.TYPES.VIDEO||e)return;const r=t=>{let{width:e,height:i}=t;return e&&i&&this.bannedSizes?.includes(`${e}x${i}`)};if(i){const{main:t,ava:e}=n.endcards||{};if(n.endcards={...t&&tt(r(t))&&{main:t},...e&&tt(r(e))&&{ava:e}},Ue(n.endcards))throw new Va("noVideoReminder")}else if(r(t))throw new Va(`${t.width}x${t.height}`)}setAdDimensions(){let t,e;({width:t,height:e}=this.currentAd.isAdFactory?this.currentAd.adFactory:this.currentAd.linearCreative.adMedia||{});t&&e&&(this.currentAd.isAdFactory||e>t)?this.adRatio=Ma("ratio")(t,e):(t=null,e=null),this.currentAd.dimensions={width:t,height:e,ratio:this.adRatio}}onAdLoaded(){Ya.info("currentAd",this.currentAd);const{isProgrammaticDisplay:t,isNoVideoReminder:e}=this.currentAd;tt(t||e)&&this.setAdDimensions(),this.emit(Yi),this.playerUI.$video.addEventListener("playing",this.onVideoElemPlaying)}onAdStarted(){this.adStarted=!0,this.fireTrackingEvent(qr);const{$adContainer:t}=this.playerUI,e={timeRequirement:2e3};this.viewabilitySubscription=Ua.createObservable(t,e).subscribeOnce((()=>{this.fireTrackingEvent(Hr),this.adViewableImpression=!0})),this.currentAd.isNoVideoReminder||(this.adTimeCounter.start(),this.playerUI.displayInitialControls())}onAdStopped(){this.adStopped||(tt(this.videoCompleted)&&tt(this.currentAd.isNoVideoReminder)&&this.currentAdSubscriber.emitEvent(fn,{close:!1}),this.clearAd(),this.adStopped=!0)}onAdSkipped(){this.fireTrackingEvent(rs),this.fireNotViewableTrackingEvent(),this.clearAd()}onAdVolumeChange(){const t=this.currentAd.linearCreative.getAdVolume();let e=null;0===t&&this.lastVolume>0&&(e=ts,this.emit(Xi,{adVolume:t})),t>0&&0===this.lastVolume&&(e=es,this.emit(Ji,{adVolume:t})),e&&this.fireTrackingEvent(e)}onAdSkippableStateChange(){tt(this.adStarted)||this.skipBtnDisplayed||this.setSkipDivVisibility()}onAdDurationChange(){this.adTimeCounter.restart(),this.currentAd.duration=this.currentAd.linearCreative.getAdDuration()}onAdImpression(){this.adImpression||(this.fireTrackingEvent(Wr),this.adImpression=!0)}async onAdClickThru(t){this.fireTrackingEvent(Yr),this.adPausedByClick=!0,this.currentAd.linearCreative.pauseAd();if(!1!==t?.playerHandles){const e=n(t)||Tt(t)?t?.url||this.currentAd.adClickThroughUrl:t;ot(St,window.open)(e)}await new Promise((t=>{const e=()=>t(),{visibilityEvent:i}=Na.find((t=>t.hiddenProperty in document))||{};i?Un(document,i,e,xa):La(e)})),this.onUIPlayClicked()}onAdExpandedChange(){this.currentAd.isAdFactory&&(this.currentAd.expanded=this.currentAd.linearCreative.getAdExpanded())}onAdInteraction(){this.fireTrackingEvent(ds)}onAdUserAcceptInvitation(){this.fireTrackingEvent(os)}onAdUserMinimize(){this.fireTrackingEvent(as)}onAdUserClose(){this.fireTrackingEvent(ss)}onAdVideoStart(){this.videoStarted||(this.fireTrackingEvent(Kr),this.videoStarted=!0)}onAdVideoFirstQuartile(){this.firstQuartileFired||(this.onAdVideoStart(),this.fireTrackingEvent($r),this.firstQuartileFired=!0)}onAdVideoMidpoint(){this.midpointFired||(this.onAdVideoFirstQuartile(),this.fireTrackingEvent(Zr),this.midpointFired=!0)}onAdVideoThirdQuartile(){this.thirdQuartileFired||(this.onAdVideoMidpoint(),this.fireTrackingEvent(Xr),this.thirdQuartileFired=!0)}onAdVideoComplete(t){this.videoCompleted||(clearTimeout(this.emitVideoCompleteTimeout),this.adTimeCounter.pause(),this.currentAdSubscriber.unsubscribe(Tn),this.onAdVideoThirdQuartile(),this.fireTrackingEvent(Jr),this.videoCompleted=!0,!1!==t?.close&&(this.fireNotViewableTrackingEvent(),this.emitAdStoppedTimeout=setTimeout((()=>{this.currentAdSubscriber.emitEvent(rn)}),1e3)))}onAdPaused(){this.fireTrackingEvent(is),this.adPausedByClick&&this.playerUI.displayPlayControl(),this.adTimeCounter.pause()}onAdPlaying(){this.fireTrackingEvent(ns),this.playerUI.hidePlayControl(),this.adPausedByClick=null,this.adTimeCounter.resume()}onAdError(t){this.fireErrorTrackingEvent(t),this.hasActuallyStarted()&&(this.fireNotViewableTrackingEvent(),this.clearAd())}onAdLog(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];Wa.info(...e,this)}updateOptions(t){tt(Object.keys(t||{}).length)||(this.playerUI.updateVideoPlayer(t),this.emit(Zi,t))}skipAd(){this.currentAd?.linearCreative&&(this.emitAdSkippedTimeout=setTimeout((()=>{this.currentAdSubscriber.emitEvent(sn)}),1e3),this.currentAd.linearCreative.skipAd())}clearAd(){this.adTimeCounter.cancel(),clearTimeout(this.emitAdStoppedTimeout),clearTimeout(this.emitAdSkippedTimeout),clearTimeout(this.emitVideoCompleteTimeout),this.playerUI.hideControls(),this.playerUI.hideMediaLayer(),this.playerUI.resetVideoElement(),this.playerUI.getSlot()?.removeAttribute(Ha),this.currentAd?.channel?.close(),this.playerUI.$video.removeEventListener("playing",this.onVideoElemPlaying),this.viewabilitySubscription?.unsubscribe(),this.currentAdSubscriber?.unsubscribeAll()}destroy(){this.vastManager.stopExecution(),this.clearAd(),this.currentAd=null,this.playerUI.destroy()}}const qa=t=>{let{slotId:e,$adContainer:i,$videoSlot:n,macroValues:r={}}=t;const s=zr.playerUIFactory({$adContainer:i,$videoSlot:n}),a=Ia.vastManagerFactory({slot:s.getSlot(),macroValues:r});return new _a({slotId:e,playerUI:s,vastManager:a,macroValues:r})};function Ka(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{tagName:i,attributes:n=[],childNodes:r=[]}=t,s=document.createElement(i);return Array.from(n).forEach((t=>{let{name:e,value:i}=t;return s.setAttribute(e,i)})),e&&Array.from(r).forEach((t=>{const i=t.nodeType===Node.TEXT_NODE?t.cloneNode(e):Ka(t,e);s.appendChild(i)})),s}function $a(t,e){const i=Oi({content:e}),{children:n}=Ka(i,!0);xi(t,Array.from(n))}class Za extends Bn{hasNativeSupport(){const{ResizeObserver:t}=window;return ws(t)}getElementDimensions(){return Ui(this.getTarget())}createInterval(t){return setInterval((()=>t(this.getElementDimensions())),arguments.length>1&&void 0!==arguments[1]?arguments[1]:100)}createObserver(t){const e=this.getTarget(),i=new ResizeObserver((e=>{const{width:i,height:n}=e[0]?.contentRect??this.getElementDimensions()??{};t({width:i,height:n})}));return i.observe(e),i}static createObservable(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new Za(...e)}}const Xa="always",Ja="empty",to="ava",eo="AlternativeMounted",io="AlternativeContentLoaded",no="AlternativeEnded",ro="AlternativeError",so={publisher:/\${publisherId}/g},ao={FIXED:{NO_IFRAME:{MAIN:{display:"block",overflow:"hidden",position:"relative",top:"50%",transform:"translateY(-50%)","margin-left":"auto","margin-right":"auto","text-align":"center"},CONTAINER_ADAPTS:{top:"unset",transform:"unset"}},IN_IFRAME:{MAIN:{display:"block",overflow:"hidden",position:"relative",top:"50%","margin-left":"50%",transform:"translate(-50%, -50%)"},CONTAINER_ADAPTS:{top:"unset",transform:"translateX(-50%)"}},CONTENT_LOADED:{"max-height":"100%"}},AVA:{display:"block",overflow:"hidden",position:"fixed","z-index":"99999"},IFRAME:{display:"block",position:"absolute",top:"0px",left:"0px",height:"100%",border:"0px"},CLOSE:{display:"none",position:"absolute",top:"10px",right:"10px",width:"20px",height:"20px","background-image":`url(${rr})`,"background-color":"rgba(0, 0, 0, 0.06)","background-repeat":"no-repeat","background-position":"50%","background-size":"10px 10px","border-radius":"2px","z-index":5e4,cursor:"pointer"}};class oo extends Se{constructor(t){super(),({api:this.api,config:this.config,instanceIndex:this.instanceIndex,availablePositions:this.availablePositions,wind:this.wind,macroValues:this.macroValues,device:this.device,playedAdCount:this.playedAdCount}=t);const{mainPosition:e,avaPosition:i}=this.availablePositions;this.position=i?{$container:i.$container,getStyles:i.getPositionStyles,closeButton:ao.CLOSE,containerAdpatsToContent:!1,isAva:!0}:{$container:e.$container,getStyles:e.getPositionStyles,closeButton:e.closeButton?{...ao.CLOSE,...e.closeButton}:null,containerAdpatsToContent:Boolean(e.containerAdpatsToContent),isMain:!0},this.alternativeConfig=this.config.alternative,this.$alternative=null,this.$iframe=null,this.$close=null,this.onIframeLoaded=this.onIframeLoaded.bind(this),this.closeAlternative=this.closeAlternative.bind(this),this.getIframeDimensions=this.getIframeDimensions.bind(this)}replaceContentMacros(t){const e={publisher:this.config.publisher};return mt(gs(Be,this.macroValues),gs(so,e))(t)}init(){try{if(tt(oo.hasAlternativeToDisplay(this.config,this.playedAdCount)))throw new Error("It has no alternative to display");this.build()}catch(t){this.emit(ro,t)}}build(){this.$alternative=this.createAlternativeElement(),xi(this.position.$container,this.$alternative),this.emit(eo,this.position),this.alternativeConfig.iframe?this.loadAlternativeInFrame():this.loadAlternative()}createAlternativeElement(){if(this.position.closeButton){const t={name:"close",style:this.position.closeButton,events:{click:this.closeAlternative}};this.$close=Oi(t)}return Oi({name:"alternative",id:this.api,style:this.getAlternativeStyles(),attributes:{data:{it:this.config.it,index:this.instanceIndex,device:this.device}},children:this.$close})}getAlternativeStyles(){const{getStyles:t,isAva:e,containerAdpatsToContent:i}=this.position,{position:n,margin:r,bottom:s,iframe:a}=this.alternativeConfig;if(J(t))return t();const o=a?"IN_IFRAME":"NO_IFRAME";return e?{...ao.AVA,[n]:r,bottom:s}:{...ao.FIXED[o].MAIN,...i&&ao.FIXED[o].CONTAINER_ADAPTS}}loadAlternative(){const t=this.replaceContentMacros(this.alternativeConfig.content);$a(this.$alternative,t),this.alternativeResizeSubscription=Za.createObservable(this.$alternative).subscribe((t=>{t?.height&&(this.alternativeResizeSubscription.unsubscribe(),this.onContentLoaded(t))}))}async loadAlternativeInFrame(){const t=`\n      <script>var inDapIF = true;<\/script>\n      ${this.replaceContentMacros(this.alternativeConfig.content)}\n    `;this.$iframe=Oi({type:"iframe",style:ao.IFRAME,attributes:{scrolling:"no"}}),xi(this.$alternative,this.$iframe);try{this.$iframe.contentWindow.__tcfapi=window.top.__tcfapi}catch{}await this.loadIFrame(t),this.onIframeLoaded()}async loadIFrame(t){const e=t=>new Promise((e=>{Un(this.$iframe,"load",(()=>e()));const i=(this.$iframe.contentDocument||this.$iframe.contentWindow.document).open();t&&i.write(`<body>${t}</body>`),i.close()}));try{await De(e(),1e3);$a((this.$iframe.contentDocument||this.$iframe.contentWindow.document)?.body,t)}catch{await e(t)}}async onIframeLoaded(){try{wi((this.$iframe.contentDocument||this.$iframe.contentWindow.document)?.body,{margin:0});const t=await Ys(this.getIframeDimensions,{attempts:121});this.onContentLoaded(t)}catch(t){st.info("Failed to get alternative iframe dimensions")}}getIframeDimensions(){return new Promise(((t,e)=>{const{width:i,height:n}=function(t){if(tt(zs(t)))return null;const{scrollHeight:e=0,scrollWidth:i=0}=t.contentDocument.body||{};return{height:e,width:i}}(this.$iframe);tt(i)||tt(n)?e():t({width:i,height:n})}))}onContentLoaded(t){let{width:e,height:i}=t;wi(this.$alternative,{width:e,height:i,...this.position.isMain&&ao.FIXED.CONTENT_LOADED}),this.alternativeConfig.iframe&&wi(this.$iframe,{width:"100%"}),this.$close&&wi(this.$close,{display:"block"}),this.emit(io,this.position)}closeAlternative(){Ci(this.$alternative),this.emit(no,{userInteraction:!0})}static hasAlternativeToDisplay(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Boolean(t.alternative?.content)&&(t.alternative.schedule===Xa||t.alternative.schedule===Ja&&0===e)}static isDisplayAva(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})?.alternative?.display===to}}const co={create:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new oo(t)},hasAlternativeToDisplay:oo.hasAlternativeToDisplay,isDisplayAva:oo.isDisplayAva},lo=()=>0,uo=mt(tt,Dt);class ho{constructor(t,i){({api:this.api,macroValues:this.macroValues,integrationScript:this.integrationScript,instanceIndex:this.instanceIndex,config:this.config}=t),this.hooksManager=new Re(this,{modules:{deviceDetector:e,globalObject:pe}}),this.plugin=i()(this),this.environmentVars=null,this.freezedOriginalConfig=null,this.state=sr,this.wind=window,this.device=ie,this.adPosition=null,this.adControllerInstance=null,this.adCtrlSubscriber=null,this.eventSubscriberFactory=xn(this),this.movingTimeout=null,this.$adContainer=null,this.adContainerCurrentStyles=null,this.sunmediaRequestCount=0,this.clientRequestCount=0,this.sunmediaAdCount=0,this.clientAdCount=0,this.adEnded=!1,this.loopIntents=1,this.start=this.start.bind(this),this.restart=this.restart.bind(this),this.windowHeight=Bi(),pe.register(this),X({type:S.REGISTER_INSTANCE,payload:{it:this.config.it,instanceIndex:this.instanceIndex,api:this.api}})}updateMacroValues(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.macroValues={...this.macroValues,...t}}setDefaultDimensionMacroValues(){const{[Fe.WIDTH]:t,[Fe.HEIGHT]:e}=this.macroValues,{defaultAdRatio:i}=this.config.options,n=tr[this.device],{width:r,height:s}=function(t,e){let{macroWidth:i,macroHeight:n,defaultAdRatio:r,minDimensions:s}=e;if(i&&n)return{width:Math.max(i,s.width),height:Math.max(n,s.height)};const a=Ui(t)?.width,o=Math.max(ot(uo,lo)(a),s.width);return{width:o,height:Math.max(Ma("height")(o,r),s.height)}}(this.$adContainer,{macroWidth:t,macroHeight:e,defaultAdRatio:i,minDimensions:n});this.macroValues={...this.macroValues,width:Vn(r),height:Vn(s)}}reset(){this.config=Ie(this.freezedOriginalConfig),this.adEnded=!1,this.adPosition=null,this.plugin.reset()}async init(t){try{this.environmentVars=t,this.hooksManager.beforeInit(),await this.build(),await this.start()}catch(t){t.extra?st.info("Plugin stopped by extra"):st.error("Initializing outstream plugin",t),this.close({err:t})}}async build(){this.hooksManager.beforeBuild(),await this.plugin.build(),this.hooksManager.beforeMount(),this.mountComponent(),this.hooksManager.mounted()}async start(){try{this.setDefaultDimensionMacroValues(),this.initAdController(),this.state=ar,this.plugin.createObservables(),this.freezedOriginalConfig=Object.freeze(Ie(this.config)),this.startAdController()}catch(t){st.error("Starting outstream plugin",t),this.close({err:t})}}async restart(){try{this.loopIntents+=1,this.mountAdContainer(),this.initAdController(),this.state=ar,this.startAdController()}catch(t){st.error("Start outstream plugin",t),this.close({err:t})}}mountComponent(){const{it:t,options:e}=this.config;Li(`styles-${t}`,e.css),Li(fr,er.AD_CONTAINER),this.plugin.mount(),this.mountAdContainer()}mountAdContainer(){this.$adContainer=this.createAdContainer(),this.insertAdContainer(),this.plugin.adContainerMounted()}unmountAdContainer(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(tt(r(this.$adContainer))){let e=this.$adContainer;this.$adContainer=null,this.adContainerCurrentStyles=null;wi(e,{height:0,margin:0,visibility:"hidden"}),this.plugin.adContainerUnmounted();Ln(t?0:this.config.options.removeMs).then((()=>{Ci(e),e=null}))}}createAdContainer(){return Oi({name:"ad-container",id:`${this.api}-${this.loopIntents}`,attributes:{data:{it:this.config.it,index:this.instanceIndex,device:this.device}}})}insertAdContainer(){xi(this.plugin.getAdContainerParent(),this.$adContainer),this.plugin.updateAdPosition(mr)}moveAdContainer(t){clearTimeout(this.movingTimeout),Wi(this.$adContainer,"add","sm-moving");try{t()}catch(t){st.warning(t)}this.movingTimeout=setTimeout((()=>{Wi(this.$adContainer,"remove","sm-moving")}),200)}batchMoveAdChanges(t,e){kn(this.adContainerCurrentStyles,t)||(this.moveAdContainer(e),this.adContainerCurrentStyles=t)}getPlayedAdCount(){return this.sunmediaAdCount+this.clientAdCount}disableAva(){this.config.ava.enabled=!1,this.config.ava.forceStart=!1}restoreAva(){this.config.ava=Ie(this.freezedOriginalConfig.ava)}stopLoop(){this.loopIntents=this.config.loop.times}itShouldLoop(t){const{enabled:e,times:i,onlyOneVideo:n}=this.config.loop;return e&&(0===i||this.loopIntents<i)&&tt(t&&n)}initAdController(){this.adControllerInstance=qa({slotId:`${this.api}-${this.loopIntents}`,$adContainer:this.$adContainer,macroValues:this.macroValues,$videoSlot:this.environmentVars?.videoSlot}),this.subscribeToAdControllerEvents(),this.plugin.initAdController()}async startAdController(){const{adTags:t,options:e,bannedSizes:i,geoTarget:n}=this.config;await this.adControllerInstance.start({adTagFeed:t,options:e,bannedSizes:i,geoTarget:n})}subscribeToAdControllerEvents(){this.adCtrlSubscriber?.unsubscribeAll(),this.adCtrlSubscriber=this.eventSubscriberFactory(this.adControllerInstance,{emitHooks:!0});const t={[qi]:this.onAdRequest,[Ki]:Rt,[_i]:this.onSDKNoMoreTags,[Zi]:this.onSDKUpdateOptions,[Yi]:this.onAdPreload,[ji]:this.onResizeProgrammaticDisplay,[Xi]:Rt,[Ji]:Rt,[tn]:Rt,[en]:this.onAdLoaded,[nn]:this.onAdStarted,[Tn]:this.onAdPaused,[Cn]:this.onAdPlaying,[vn]:Rt,[hn]:Rt,[An]:Rt,[mn]:Rt,[pn]:Rt,[gn]:Rt,[fn]:this.onAdVideoComplete,[sn]:this.onAdSkipped,[rn]:this.onAdStopped,[wn]:this.onAdError,[ln]:this.onAdExpandedChange};this.adCtrlSubscriber.subscribe(t);const e={[$i]:this.onSMMaxRequestsReached};this.adCtrlSubscriber.subscribeOnce(e)}onAdRequest(t){r(t?.isSunmedia)||(t.isSunmedia?this.sunmediaRequestCount+=1:this.clientRequestCount+=1)}onSMMaxRequestsReached(){this.stopLoop(),this.endAd()}onSDKNoMoreTags(){this.adControllerInstance.currentAd=null,this.endAd()}onSDKUpdateOptions(t){this.plugin.updateConfigOptions(t)}onAdPreload(){this.plugin.adPreload()}onAdLoaded(){this.state=or;const{currentAd:t}=this.adControllerInstance,{lazy:e}=this.config.options;t.isProgrammaticDisplay&&tt(e.startProgrammaticDisplay)?this.startAd():this.plugin.startAd()}startAd(){this.state>=dr||(this.state=dr,this.adControllerInstance.startAd())}onAdStarted(){this.state=cr,this.adControllerInstance.currentAd.initialAdTag.isSunmedia?this.sunmediaAdCount+=1:this.clientAdCount+=1,this.plugin.adStarted()}onAdPaused(){this.state=ur}onAdPlaying(){this.state=lr}onAdVideoComplete(){this.state=hr}onAdSkipped(){this.plugin.adSkipped(),this.endAdByUserInteraction()}endAdByUserInteraction(){this.stopLoop(),this.endAd({userInteraction:!0})}onAdStopped(){if(this.plugin.manageAdStopped()){const{isNoVideoReminder:t}=this.adControllerInstance.currentAd||{};this.unmountAdContainer(t)}else this.endAd()}onAdError(){const t=this.adControllerInstance.hasActuallyStarted();this.plugin.adError(t),t?this.endAd():(this.reset(),this.adControllerInstance.continueLoadingAds())}onAdExpandedChange(){this.plugin.adExpandedChange()}onResizeProgrammaticDisplay(){this.plugin.programmaticDisplayLoaded()}endAd(){let{userInteraction:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.adEnded)return;this.hooksManager.beforeEndAd({userInteraction:t}),this.adEnded=!0;const{currentAd:e}=this.adControllerInstance||{},i=tt(r(e));if(this.itShouldLoop(i))return this.reset(),this.unmountAdContainer(),void(!i||this.config.loop.autoStart?this.restart():Un(this.wind,"scroll",this.restart));const n=this.getPlayedAdCount();if(co.hasAlternativeToDisplay(this.config,n))return this.unmountAdContainer(),void this.displayAlternative(i);this.plugin.manageAdEnded()||this.close({adHasBeenPlayed:i,userInteraction:t})}close(){let{adHasBeenPlayed:t,userInteraction:e,err:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state!==Ar&&(this.hooksManager.beforeClose({adHasBeenPlayed:t,err:i}),this.state=Ar,this.adControllerInstance?.destroy(),this.unmountAdContainer(),this.removeElements(e),this.unregister(),this.hooksManager.afterClose())}displayAlternative(t){var e=this;const i=this.getPlayedAdCount(),n=co.isDisplayAva(this.config),r=this.plugin.getAvailablePositions({hasAva:n,isAlternative:!0}),s=function(){let{userInteraction:i,err:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n&&st.error("Creating Alternative",n),delete e.config.alternative,e.state<Ar?e.close({adHasBeenPlayed:t}):e.removeElements(i)},a=co.create({api:this.api,wind:this.wind,config:this.config,instanceIndex:this.instanceIndex,device:this.device,macroValues:this.macroValues,playedAdCount:i,availablePositions:r});this.eventSubscriberFactory(a,{emitHooks:!0}).subscribeOnce({[eo]:()=>{this.close({adHasBeenPlayed:t})},[io]:Rt,[no]:function(){s(...arguments)},[ro]:t=>{s({err:t})}}),a.init()}removeElements(t){this.plugin.removeElements(t),this.noMoreContentAvailable()&&Ln(this.config.options.removeMs).then((()=>{this.hooksManager.noMoreContentAvailable()}))}noMoreContentAvailable(){const t=this.getPlayedAdCount();return tt(co.hasAlternativeToDisplay(this.config,t))&&this.plugin.noMoreContentAvailable()}unregister(){try{pe.removeByApi(this.api),st.info("Instance closed",this),X({type:S.UNREGISTER_INSTANCE,payload:{it:this.config.it,api:this.api}})}catch(t){st.error("On instance close",t)}}}const Ao=function(t){return{create:e=>new ho(e,t)}},mo={get:t=>Promise.resolve(ut.get(t)),save(t,e){ut.save(t,e)},remove(t){ut.remove(t)}};const po=new Error("Ad blocker detected!"),go=new Error("Ad blocker request error!"),fo=new Error("Blacklisted!");function vo(){return new Promise(((t,e)=>{const i=Oi({type:"script",id:"adblocker-detector",attributes:{src:wt("https://static.sunmedia.tv/AdBlockDetection/adblockDetector.min.js",{abf:["-adserver-","-doubleclick.js","-google-ad.","-google-adsense."].join("|"),ref:window.location.href})},events:{error:()=>e(go),load:()=>{n(window.adblockDetector)?e(fo):window.adblockDetector.init({debug:!1,fireNow:!0,complete:i=>i?e(po):t()})}}});xi(document.head,i)}))}function Eo(t){if(t.options.allowDuplicates)return;if(pe.fetchInstancesOfIntegration(t.it).some((function(t){return t.wind===window})))throw new Error("Integration canceled since it is duplicated")}const bo=["safeframe.googlesyndication.com"],{REFERRER_URL:Io}=Fe,yo={hooks:{beforeInit(t){const e=window.location.href,i=t.macroValues[Io]||e;var n;if(n=i,bo.some((t=>n.includes(t))))throw new Error(`The referrer ${i} is not allowed`)}}},To={JUST_COMPLETED:"useractioncomplete",PREVIOUSLY_COMPLETED:"tcloaded"},{CONSENT_STRING:Co,GDPR_APPLIES:So}=Fe,wo=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;try{if(J(e[t]))return e[t]}catch{return null}return e===e.top?null:wo(t,e.parent)},Ro=function(){let{cmpFunctionState:t,gdprApplies:e,consentString:i,completed:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{cmpFunctionState:t,...ws(e)&&{[So]:e?E:b},...ws(i)&&{[Co]:i},...ws(n)&&{completed:n}}},ko=t=>{mt(at(2,pe.setState.bind(pe))(T),Ro)(t)},Po=(t,e)=>{if(st.info(`[CMP]: ${vr}`),tt(e&&t))return void ko({cmpFunctionState:I.FOUND});const{gdprApplies:i,tcString:n,eventStatus:r}=t,s=[To.JUST_COMPLETED,To.PREVIOUSLY_COMPLETED].includes(r);ko({cmpFunctionState:I.FOUND,gdprApplies:i,consentString:n,completed:s})};const Do={hooks:{async beforeCreate(t){const{timeToFindCmpFunction:e}=t.userConsentSettings;if(!Boolean(pe.getState(T))){st.info(`[CMP]: ${br}`),ko({cmpFunctionState:I.SEARCHING});try{await async function(t,e){await Ys((()=>new Promise(((e,i)=>{const n=wo("__tcfapi");tt(J(n))?i(new Error("No consent data function found")):(n("addEventListener",2,t),e())}))),{...e})}(Po,e)}catch{const{attempts:t,delay:i}=e,n=(t-1)*i/1e3;st.info(`[CMP]: ${Er} in ${n} second(s)`),ko({cmpFunctionState:I.NOT_FOUND})}}}}},Mo=[];const No={hooks:{beforeAdLoaded(t){if("mobile"===t.device){const{it:e}=t.config,{adData:i={}}=t.adControllerInstance?.currentAd||{},{fromTag:n}=i;Mo.filter((t=>n.indexOf(t)>-1)).length>0&&(function(t){const e=`div[data-id="${t}"], div[class*="${t}"], script[src*="${t}"]`;[...document.querySelectorAll('div[id^="google_ads_"], div[aria-roledescription="Publicidad"]')].forEach((t=>{const i=t.querySelectorAll(e);t&&t.parentNode&&0===i.length&&t.parentNode.removeChild(t)}))}(e),function(t){[...document.querySelectorAll('div[id*="_frame_"][data-device="mobile"], div[class*="-reference-"]')].forEach((e=>{let i=!1;const n=e.getAttribute("data-id");i=n?n===t:e.getAttribute("class").indexOf(t)>-1,e.parentNode&&!i&&e.parentNode.removeChild(e)}))}(e))}}}};async function Oo(t){return Ct(t,await mo.get(C.CONFIG))}const xo=at(2,((t,e)=>{const i=["desktop","mobile"];if(!i.includes(t))throw Error("The provided device does not exist");return function e(n){let r;return r=o(n)?Yt((t=>e(t)),n):J(n)?void 0:yt(n)?function(n){let r=n.constructor?new n.constructor:{};return d(n,((n,s)=>{const a=s?.toLowerCase();a===t?r=e(n):i.includes(a)||(r[s]=e(n))})),r}(n):n,r}(e)}));function Lo(t){const{inblock:e,options:i}=t,n=i.inblock||e.enabled;return{...t,inblock:{...e,enabled:n}}}const Uo=t=>{let{css:e}=t;return et(e)?e.replace(/\r?\n|\r/g,""):e},Vo=t=>{let{margin:e}=t;return Pt(e)&&e>0?e:0},Fo=t=>{let{class:e}=t;return et(e)?e.trim().split(","):e},Bo=t=>{let{reminder:e,skipReminder:i,skipReminderTime:n}=t;const r=i&&kt(n)?n:e.displayCloseBtnTime;return{...e,displayCloseBtnTime:r}};function Go(t){const{options:e}=t,i={...e,css:Uo(e),muted:!!e.autoplay||e.muted,..."margin"in e&&{margin:Vo(e)},..."class"in e&&{classList:Fo(e)},..."reminder"in e&&{reminder:Bo(e)}};return delete i.skipReminder,delete i.skipReminderTime,{...t,options:i}}const{SPAIN:zo}=Dr;function Wo(t){let{id:e}=t;return"807baefc2c178768822289db651c4834"===e}function Yo(t){if(r(t.defaultTrackers))return t;const e=mt(ot((()=>t.geoTarget.country!==zo),Wt(Wo)),zt((t=>{let{data:e}=t;return ce(e)})))(t.defaultTrackers);return{...t,defaultTrackers:e}}const Qo=t=>o(t)?t:[t],Ho=t=>{let e=null;return ce(t?.content)?e=t.content:ce(t)&&(e=t),{content:e,iframe:t?.iframe??!1}},jo=t=>({...t,content:t?.content?Ze.decode(t.content):t?.content}),_o=t=>{const e=t.length;let i=0;return e>1&&(i=Math.floor(Math.random()*e)),t[i]};function qo(t){const e=(t=>{let{alternative:e,banner:i={}}=t;return Ct(e,i)})(t),i=mt(jo,Ho,_o,Qo)(e.tag);return{...t,alternative:{...e,tag:void 0,...i}}}function Ko(t){const{sizes:e}=t,i=o(e)?mt(Wt((t=>e.includes(t))),Object.keys)(Xn):[];return{...t,bannedSizes:i}}const $o=Yt((t=>({url:t,isSunmedia:!1})));function Zo(t,e,i){let[n]=i;return Yt(((i,r)=>{const{type:s,trafficType:a,position:o=r+1}=i,[d]=a.toLowerCase(),c=s||`${t}${e}${n}${o}`;return{...i,pbt:d,pbid:c,isSunmedia:!0}}))}const Xo=at(2,((t,e)=>{const{tags:i,options:n,priority:r=h.SUNMEDIA,bannedSizes:s=[]}=e,a=n?.ignoreDefaultTags?null:e.defaultTags,o=Zo(A.DEFAULT,m.VAST,t)(a?.VAST||[]),d=Zo(A.INTEGRATION,m.VAST,t)(i?.sm||[]),c=Zo(A.DEFAULT,m.BANNER,t)(a?.BANNER||[]),l=$o(i?.client||[]),u={[h.SUNMEDIA]:[...o,...d,...c],[h.CLIENT]:[...l]},g=r!==h.SUNMEDIA?h.SUNMEDIA:h.CLIENT,f=zt((t=>ce(t.VAST)||function(t,e){return St(e,!0)&&tt(function(){const{SIZE:i}=p.TAG_PARAMS,n=We(e),r=e.startsWith("https://vast.sunmedia.tv/creatives"),s=n[i];return Boolean(r&&s&&t.includes(n[i]))}())}(s,t.url)||function(t){let{isPrebid:e,mediafile:i,adParameters:n}=t;return e&&i&&n}(t)),[...u[r],...n?.pod?u[g]:[]]);return{...e,adTags:f}}));function Jo(t){return{adTags:[{url:t,trafficType:"DIRECT",isSunmedia:!0}],loop:{enabled:!1}}}const td=at(2,((t,e)=>{const i=t?.split("#")[1]||"";let n={};i.split("&").forEach((t=>{const[e,i]=t.split("="),r=decodeURIComponent(i?.trim());n={...n,...u.TAGS.includes(e)&&{...Jo(r)},...u.DEBUG.includes(e)&&{DEBUG:!0}}}));const{adTags:r,loop:s,DEBUG:a}=n;return{...e,...a&&{DEBUG:a},...r&&{adTags:r},...s&&{loop:s}}}));function ed(t){return Boolean(t.inblock&&!0===t.inblock.enabled&&!t.inblock.exceptCountries.includes(t.geoTarget.country))}function id(t,e){return`\n    div.sm-ad-container[data-it="${t}"],\n    div.sm-it-main-container[data-it="${t}"] .sm-reference,\n    sun-reminder[data-it="${t}"] {\n      opacity: 0;\n    }\n    div.sm-ad-container[data-it="${t}"],\n    sun-reminder[data-it="${t}"] {\n      z-index: ${e} !important;\n    }`}function nd(t){if(tt(ed(t)))return t;const e=Ma("height")(t.ava.width,t.options.slotRatio);let i=id(t.it,-5e4);const n=t.integrationInstances.map(((n,r)=>{if(0===r)return{...n};const s=e*r+t.inblock.avaMargin;return i+=n.css||"",{...n,config:{...n.config,ava:{bottom:s},silentTrackers:!0,alternative:{content:null},options:{autoplayWithAudio:!1}}}}));return{...t,integrationInstances:n,options:{...t.options,css:`${t.options?.css||""} ${i}`},ava:{...t.ava,enabled:!0,forceStart:!0,position:"bottom_left"}}}const{SPAIN:rd}=Dr;const sd=at(3,((t,e,i)=>{const{ava:n,options:r,geoTarget:s}=i,a=n.enabled&&r.up,o=function(t){return["left","right"].includes(t)?`bottom_${t}`:t}(n.position),d=0!==n.bottom?n.bottom:e[t].bottom,c=function(t){let{ava:e,geoTarget:i}=t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;const{width:s,margin:a,position:o,widthCoefficient:d}=e;if(Dt(s))return s;if("desktop"===n)return 0;const c=r.screen.width,[,l]=o?.split("_")||[];let u;u=l?c*(i?.country===rd?d.spain:d.generic):c-2*a;return Vn(u)}({ava:n,geoTarget:s},t,de());return{...i,ava:{...n,forceStart:a,position:o,bottom:d,maxWidth:c}}})),ad=at(3,((t,e,i)=>{const{ava:n}=sd(t,e,i);return{...i,options:{...i.options,up:!0},ava:{...i.ava,...n,enabled:!0,forceStart:!0}}}));function od(t){return{...t,alternative:{...t.alternative,display:to}}}const{COLOMBIA:dd,MEXICO:cd,SPAIN:ld}=Dr,ud={DEBUG:!1,geoTarget:{},integrationInstances:null,userConsentSettings:{timeToWaitForUserConsent:{attempts:5,delay:500},timeToFindCmpFunction:{attempts:11,delay:200}},publisherIntegration:0,videoFormat:M,silentExteTracking:!1,skipExteService:!1,allowPlayerContent:!0,it:null,client:null,publisher:null,category:null,gfkCategory:null,sdkType:null,defaultTrackers:null,defaultTrackersPath:null,defaultTags:null,defaultTagsPath:null,options:{skip:!0,skipTime:20,skipReminder:!1,skipReminderTime:0,ignoreDefaultTags:!1,pod:!1,restart:!1,inblock:!1,audio:!1,genericExtras:[],extra:null,callback:"",css:"",slotRatio:"1:1",defaultAdRatio:"4:3",programmaticDisplayRatio:"16:9",reminder:{mainRatio:"16:9",displayCloseBtnTime:10},lazy:{startProgrammaticDisplay:!1},autoplayWithAudio:!0,autoplay:!0,muted:!0,up:!0,removeMs:8e3,adContainerParent:null,delay:null,allowDuplicates:!1,googleIMA:{enabled:!0,encapsulateIMA:!0}},inblock:{enabled:!1,items:3,exceptCountries:[dd,cd,ld],avaMargin:10},sizes:null,tags:{client:{desktop:[],mobile:[]},sm:{desktop:[],mobile:[]}},priority:{desktop:"",mobile:""},ava:{desktop:{enabled:!0,forceSize:!1,width:420,position:"bottom_right",margin:20,bottom:60},mobile:{enabled:!0,forceSize:!1,position:"bottom_right",margin:20,bottom:60,widthCoefficient:{generic:.5,spain:.73}}},loop:{desktop:{enabled:!1,times:3,autoStart:!0,onlyOneVideo:!1},mobile:{enabled:!1,times:3,autoStart:!0,onlyOneVideo:!1}},alternative:{desktop:{tag:[],schedule:"empty",display:"ava",position:"right",margin:20,bottom:20},mobile:{tag:[],schedule:"empty",display:"ava",position:"right",margin:20,bottom:20}}},hd=at(2,((t,e)=>{const i=Number(e);if(i<0||tt(Pt(i)))throw new RangeError("n must be a non-negative number");const n=new Array(i);for(let e=0;e<i;e+=1)n[e]=t(e);return n}));function Ad(t){const{inblock:e}=t,i=ed(t)?e.items:1,n=pe.nextInstanceIndex(t.it),r=hd((t=>({index:n+t,config:{}})),i);return{...t,integrationInstances:r}}const md={hooks:{async beforeCreate(defaultConfig){const{location:{href:t}}=document,{ava:e}=ud,i=await function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return function(){const e=t(...arguments);return i.reduce((async(t,e)=>e(await t)),e)}}(Oo,xo(ie),Lo,Go,Ad,Yo,ad(ie,e),qo,od,Ko,(n=Pr,t=>{const e={position:0,trafficType:"DIRECT",isPrebid:!0,...n},{BANNER:i=[],VAST:r=[]}=t.defaultTags||{};return{...t,defaultTags:{BANNER:i,VAST:[e,...r]}}}),Xo(ie),td(t),nd)(defaultConfig);var n;Object.assign(defaultConfig,i),delete defaultConfig.tags,delete defaultConfig.defaultTags,delete defaultConfig.priority}}},pd=["https://creatives.sunmedia.tv/4bb1abdf-2900-44ba-aff8-fc19bc118f4c/4bb1abdf-2900-44ba-aff8-fc19bc118f4c.xml","https://vast.sunmedia.tv/creatives/4bb1abdf-2900-44ba-aff8-fc19bc118f4c","https://creatives.sunmedia.tv/377fe620-b364-4b06-a489-77924d04e3f2/377fe620-b364-4b06-a489-77924d04e3f2.xml","https://vast.sunmedia.tv/creatives/377fe620-b364-4b06-a489-77924d04e3f2"],gd=30,fd="custom-skip-button-styles",vd=`${y}-custom-skip-button`,Ed=`\n  .${vd} .${y}-ui-container .${y}-controls.${y}-skip {\n    ${`\n  background-color: #efefef;\n  background-image: url('${"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAzCAMAAAANf8AYAAAAkFBMVEUAAAAAAAD+/v4rKyv8/Pz39/f8/Pz39/eLi4vR0dH+/v7V1dWKioqFhYV/f3/////Nzc0AAAD+/v78/Pz9/f3u7u7s7Ozr6+vp6ekSEhL+/v7w8PB0dHT39/fS0tKnp6f19fXu7u7z8/Pv7+/MzMzJyckAAADy8vLi4uL4+Pjv7+8AAADZ2dnDw8OdnZ1fX18QcjD1AAAAMHRSTlMmEvgt7tbr2EZ7/IJFREH9eAH77fS1saynKfnAPtp/Vs+2yLl1cx/DmN66CoZtUDim/7c5AAABu0lEQVRIx+2V126DMBiFARtjhg0OEGYYCWlWx/u/XX9HbRSIw1CvWtVXCPTpyGcITejaovMihAbIUkhbfvR/5qcMorTsf+x/UzE03qb0CWMftq6S2UYkVkIo2EREyZQpWeGYKRDbzA3zTekBjbFDEv7ABKZhWK7aN4BAqSiHKhvDMG30zGuWYD9MvN67SqrYI/nwInRIy+9UOsvILReNZVomxAnbm1LmSpX9RA+8FpSS7zvtLbiLm011h7dkFRZcPiIXEKtD033zktDHCZPpS5VqVkfLAnKKKURp5Bsbzes1ByNwfJQqwewtMGhEFOUyyvn7oW3k+/4pQEs29wqM0/AFO0WVmfuOH57ZfKaC65+a0MFrbyaDgmst6RmvyJrOYrJr+kGmsTVMY+fNYfam3EsmG7GGcFM+ySB3AypfudAdKB34FBOY9+l7KfZx6o0yyLagY3cT4wcwYkdHmMyWKr2J8ZQMLdd7SCAdG0zM20nLmZqR14daPnSMSssLpmY6GeVwYjfLmZI54siqkGoaRRg1tZpptp265SxtCjXzXtegoobq+uO3/Rv/CPOymLloYimkC00IfdG5CPEJRJcY90Ps4pAAAAAASUVORK5CYII="}');\n  width: ${gd}px;\n  height: ${gd}px;\n  min-width: ${gd}px;\n  min-height: ${gd}px;\n  max-width: ${gd}px;\n  max-height: ${gd}px;\n  top: -${gd}px;\n  right: 0;\n  left: unset;\n  cursor: pointer;`}\n  }\n\n  .${vd} .${y}-ui-container {\n    overflow: initial;\n  }`;function bd(t){let{adControllerInstance:e}=t;const{fromTag:i}=e?.currentAd?.adData||{};return pd.some((t=>i?.includes(t)))}function Id(t){if(bd(t)){const{$adContainer:e,config:{options:i},freezedOriginalConfig:{options:{skipTime:n}}}=t;Wi(e,"remove",vd);Ci(document.querySelector(`#${y}-${fd}`)),i.skipTime=n}}const yd={hooks:{beforeAdStarted(t){if(bd(t)){Li(fd,Ed);const{config:{options:e},$adContainer:i}=t;e.skipTime=2,Wi(i,"add",vd)}},beforeEndAd(t){Id(t)},beforeAdError(t){Id(t)}}},Td={hooks:{beforeCreate(t){const{options:e}=t||{};e.allowDuplicates=!0}}},Cd={hooks:{beforeCreate(t){Object.assign(t.options,{inblock:!1}),Object.assign(t,{allowPlayerContent:!0})}}},Sd={hooks:{beforeCreate(t){const{options:e}=t||{};e.autoplayWithAudio=!1}}},wd={hooks:{beforeCreate(t){const{region:e}=t.geoTarget?.city||{};if("FL"===e)throw new Error("Integration blocked for all traffic comming from Florida")}}},Rd={hooks:{beforeCreate(){if(ae())throw new Error("Integration blocked for iOs")}}},kd={hooks:{beforeCreate(){if("mobile"===ie)throw new Error("Integration blocked for mobile")}}},{SPAIN:Pd}=Dr,Dd=[Pd],Md={hooks:{beforeCreate(t){const{country:e}=t.geoTarget||{};if(Dd.includes(e))throw new Error(`Integration blocked for the country ${e}`)}}},{BARCELONA:Nd,MADRID:Od,MIAMI:xd}=Nr,Ld=[Nd,Od,xd];function Ud(){return tt(Math.floor(3*Math.random()))}function Vd(t,e){let{zIndex:i,forceAva:n=!1}=e;const{it:r,ava:s,options:a,geoTarget:o}=t;var d;d=o?.city?.findname,ce(d)&&tt(Ld.includes(d))&&(n&&(s.enabled=!0,s.forceStart=!0,s.position="bottom_right",a.up=!0),a.autoplayWithAudio=!1,a.css+=id(r,i))}const Fd="sm-es",Bd={CERRAR:"data:image/png;base64,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",PUBLICIDAD:"data:image/png;base64,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"},Gd=`${y}-controls.${y}-skip:not(.${`${y}-skip-cross`})`,zd={bigCloseButton:{hooks:{beforeCreate(t){const{options:e,it:i}=t;e.css+=`\n        .${y}-ad-container[data-it='${i}'] .${y}-ui-container .${y}-controls.${y}-skip,       \n        .${y}-alternative[data-it='${i}'] .${y}-close {\n          background-image: url('data:image/png;base64,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') !important;\n          width: 30px !important;\n          max-width: 30px;\n          min-width: 30px;\n          height: 30px !important;\n          max-height: 30px;\n          min-height: 30px;\n          background-color: initial !important;\n          background-position: initial !important;\n          background-size: contain !important;\n          border-radius: initial !important;\n        }\n      `}}},allowDuplicates:Td,allowPlayerContent:Cd,autoplayWithoutAudio:Sd,blockFlorida:wd,blockIOS:Rd,blockMobile:kd,blockSpain:Md,dixen1:{hooks:{beforeCreate(t){Vd(t,{zIndex:-1})}}},dixen50k:{hooks:{beforeCreate(t){Vd(t,{zIndex:-5e4})}}},dixen50kR:{hooks:{beforeCreate(t){Ud()&&Vd(t,{zIndex:-5e4})}}},esControls:{hooks:{beforeCreate(t){const{options:e}=t;e.css+=`\n            .${Fd} .${y}-ui-container .${Gd} {\n              background-image: url('${Bd.CERRAR}');\n            }\n            .${Fd} .${y}-ui-container .${y}-controls.${y}-label {\n              background-image: url('${Bd.PUBLICIDAD}');\n              padding-right: 0;\n              width: 16%;\n              min-width: 56px;\n              min-height: 26px;\n              max-width: 85px;\n              max-height: 40px;\n            }`},beforeAdStarted(t){const{currentAd:e}=t.adControllerInstance,i=e.adFactory?.type===p.TYPES.VIDEO;if(Wi(t.$adContainer,"add",Fd),i){wi(document.querySelector(`.${Fd} .${y}-ui-container .${Gd}`),{left:"16.5%"})}}}},forceAvaSize:{hooks:{beforeCreate(t){const{ava:e}=t;e.forceSize=!0}}},silentExteTracking:{hooks:{beforeCreate(t){Object.assign(t,{silentExteTracking:!0})}}}},Wd={OPPORTUNITY:{key:"opportunity",val:"op"},REQUEST:{key:"request",val:"req"},REQUEST_ERROR:{key:"requestError",val:"reqe"},MAX_REQUESTS_REACHED:{key:"maxRequestsReached",val:"maxreq"},EFFECTIVE:{key:"effective",val:"ef"},INVENTORY:{key:"inventory",val:"inv"},UNFILLED:{key:"unfilled",val:"unf"},START:{key:"start",val:"st"},IMPRESSION:{key:"impression",val:"imp"},FIRST_QUARTILE:{key:"firstQuartile",val:"fq"},MIDPOINT:{key:"midpoint",val:"mp"},THIRD_QUARTILE:{key:"thirdQuartile",val:"tq"},COMPLETE:{key:"complete",val:"co"},SKIP:{key:"skip",val:"sk"},CLICK:{key:"click",val:"clk"},MUTE:{key:"mute",val:"mu"},UNMUTE:{key:"unmute",val:"um"},PAUSE:{key:"pause",val:"pa"},REWIND:{key:"rewind",val:"rw"},PLAYER_EXPAND:{key:"playerExpand",val:"pe"},PLAYER_COLLAPSE:{key:"playerCollapse",val:"pc"},ACCEPT_INVITATION_LINEAR:{key:"acceptInvitationLinear",val:"ai"},TIME_SPENT_VIEWING:{key:"timeSpentViewing",val:"ts"},OTHER_AD_INTERACTION:{key:"otherAdInteraction",val:"oa"},PROGRESS:{key:"progress",val:"pr"},CREATIVE_VIEW:{key:"creativeView",val:"cv"},ACCEPT_INVITATION:{key:"acceptInvitation",val:"ac"},MINIMIZE:{key:"minimize",val:"mi"},CLOSE:{key:"close",val:"cl"},OVERLAY_VIEW_DURATION:{key:"overlayViewDuration",val:"ov"},VIEWABILITY:{key:"viewability",val:"vw"},ERROR:{key:"error",val:"err"},RESUMED:{key:"resumed",val:"rs"},CLOSE_MODE:{key:"closeMode",val:"mc"},NOVIEWABILITY:{key:"noviewability",val:"nvw"},AD_LOADED:{key:"adLoaded",val:"adl"},AD_STARTED:{key:"AdStarted",val:"adt"},AD_RESUMED:{key:"adResumed",val:"adr"},AD_STOPPED:{key:"adStopped",val:"ads"},AD_PLAYING:{key:"adPlaying",val:"adp"},AD_EXPAND:{key:"adExpand",val:"ad"},AD_COLLAPSE:{key:"adCollapse",val:"ao"},AD_SIZE_CHANGE:{key:"adSizeChange",val:"asz"},AD_EXPANDED_CHANGE:{key:"adExpandedChange",val:"aec"},AD_VIDEO_START:{key:"adVideoStart",val:"avs"},AD_VIDEO_COMPLETE:{key:"adVideoComplete",val:"avc"},AD_VOLUME_CHANGE:{key:"adVolumeChange",val:"avh"},AD_SECOND_CREATIVE_OPENED:{key:"AdSecondCreativeOpened",val:"asco"},AD_ELAPSED_TIME:{key:"AdElapsedTime",val:"aet"},NATIVE_REQUEST:{key:"nativeRequest",val:"nreq"},NATIVE_IMPRESSION:{key:"nativeImpression",val:"nimp"},NATIVE_UNFILLED:{key:"nativeUnfilled",val:"nunf"},NATIVE_CREATIVE_IMPRESSION:{key:"nativeCreativeImpression",val:"ncimp"},NATIVE_CREATIVE_UNFILLED:{key:"nativeCreativeUnfilled",val:"ncunf"},NATIVE_CREATIVE_CLICK:{key:"nativeCreativeClick",val:"ncclk"},PLAYER_IMPRESSION:{key:"playerImpression",val:"vimp"},CONTAINER_SIZE_ERROR:{key:"sizerr",val:"sizerr"},ALTERNATIVE:{key:"alternative",val:"alt"},REMINDER:{key:"reminder",val:"rem"}},Yd={},Qd={};Object.keys(Wd).forEach((t=>{const e=Wd[t],{key:i,val:n}=e;Yd[t]=i,Qd[i]=n}));const Hd=Object.assign({},Yd);class jd extends Bn{hasNativeSupport(){return!0}createObserver(t){const e=this.getTarget(),i=new IntersectionObserver((i=>{i.forEach((i=>{let{isIntersecting:n}=i;const{isBelow:r}=function(t){if(tt(Ti(t)))return null;const e=(t,i)=>{let n;try{n=t.defaultView.frameElement}catch{n=null}if(tt(n))return i;const{top:r}=n.getBoundingClientRect();return e(n.ownerDocument,i+r)},i=t.getBoundingClientRect(),n=e(ki.document,i.top),r=i.height+n,s=Bi(de());return{isIntersecting:n>=0&&n<=s||r>=0&&r<=s,isInViewport:n>=0&&r<=s,isAbove:n>s,isBelow:r<0}}(e);(n||r)&&t()}))}),{threshold:0});return i.observe(e),i}static createObservable(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new jd(...e)}}const _d={adSystem:/\[ad.system\]/gi,adTitle:/\[ad.title\]/gi,category:/\[ad.category\]/gi,advertiser:/\[ad.advertiser\]/gi,pricing:/\[ad.pricing\]/gi,adServingId:/\[ad.servingid\]/gi};function qd(t){let{data:e,macroValues:i,adDataValues:n}=t;return mt(gs(Be,i),gs(_d,n))(e)}function Kd(t){let{type:e,data:i}=t;"image"!==e?$a(document.body,i):us(i)}const $d=(Zd=Qd,t=>Zd[t]);var Zd;const Xd={init(){this.effectiveListener=this.effectiveListener.bind(this)},props:{opportunityFired:!1,requestFired:!1,skipFired:!1,fireUnfilledTried:!1,unfilledSMFired:!1,unfilledClientFired:!1,effectiveFired:!1,$effectiveTarget:null},methods:{isAdCountEqualTo(t){return this.outstreamInstance.getPlayedAdCount()===t},isLookingForFirstAd(){return this.isAdCountEqualTo(0)},isPlayingFirstAd(){return this.isAdCountEqualTo(1)},fireTrackers(t,e,i){const{adControllerInstance:n,config:s,instanceIndex:a,loopIntents:o,macroValues:c}=this.outstreamInstance;if(!s.silentTrackers)try{const{adData:l}=n?.currentAd||{},{pbt:u,pbid:h,isSunmedia:A}=n?.currentAd?.initialAdTag||{},m=$d(t),p=e??A?kr:Rr;!function(t){us(wt("https://track.sunmedia.tv",t))}({ap:"smptf",it:s.it,tp:m,pb:p,pos:a,loop:o,...u&&{pbt:u},...h&&{pbid:h},...i&&{err:i},...t===Hd.OPPORTUNITY&&{dnt:1}}),function(t,e,i,n){if(r(e))return;d(mt(Yt((t=>{let{type:e,data:r}=t;return{type:e,data:qd({data:r,macroValues:i,adDataValues:n})}})),zt((e=>t===e.event)))(e),Kd)}(t,s.defaultTrackers,c,l)}catch(e){st.error(`Firing the tracker ${t}`,e)}},tryToFireSkip(){this.skipFired||(this.skipFired=!0,this.fireTrackers(Hd.SKIP))},tryToFireUnfilled(){this.fireUnfilledTried||(this.fireUnfilledTried=!0,this.tryToFireUnfilledForClient(),this.tryToFireUnfilledForSunMedia())},tryToFireUnfilledForClient(){const{clientAdCount:t,clientRequestCount:e}=this.outstreamInstance;t>0||0===e||this.unfilledClientFired||(this.unfilledClientFired=!0,this.fireTrackers(Hd.UNFILLED,Rr))},tryToFireUnfilledForSunMedia(){const{sunmediaAdCount:t,sunmediaRequestCount:e}=this.outstreamInstance;t>0||0===e||this.unfilledSMFired||(this.unfilledSMFired=!0,this.fireTrackers(Hd.UNFILLED,kr))},tryToFireEffective(){this.effectiveFired||(this.effectiveFired=!0,this.fireTrackers(Hd.EFFECTIVE,kr))},effectiveListener(){const{state:t}=this.outstreamInstance;this.tryToFireEffective(),t===Ar&&(this.tryToFireUnfilled(),this.outstreamInstance.removeElements())},createEffectiveObservable(){tt(Ti(this.$effectiveTarget))?st.error("Trying to create EFFECTIVE observe without setting the $effectiveTarget element first"):jd.createObservable(this.$effectiveTarget).subscribeOnce(this.effectiveListener)},setEffectiveTarget(t){this.$effectiveTarget=t},setEffectiveTrackerAsFired(){this.effectiveFired=!0},hasEffectiveTrackerBeenFired(){return this.effectiveFired}},hooks:{beforeBuild(){this.opportunityFired||(this.opportunityFired=!0,this.fireTrackers(Hd.OPPORTUNITY,kr))},mounted(){const{config:t}=this.outstreamInstance;t.ava?.forceStart?this.tryToFireEffective():this.createEffectiveObservable()},beforeSMRequest(){this.requestFired||(this.requestFired=!0,this.fireTrackers(Hd.REQUEST,kr))},beforeSMRequestError(t,e,i){let{isSunmedia:n}=i;if(this.isLookingForFirstAd()){const t=n?kr:Rr;this.fireTrackers(Hd.REQUEST_ERROR,t)}},beforeAdImpression(){this.fireTrackers(Hd.IMPRESSION)},beforeAdVideoStart(){this.isPlayingFirstAd()&&this.fireTrackers(Hd.START)},beforeAdVideoFirstQuartile(){this.isPlayingFirstAd()&&this.fireTrackers(Hd.FIRST_QUARTILE)},beforeAdVideoMidpoint(){this.isPlayingFirstAd()&&this.fireTrackers(Hd.MIDPOINT)},beforeAdVideoThirdQuartile(){this.isPlayingFirstAd()&&this.fireTrackers(Hd.THIRD_QUARTILE)},beforeAdVideoComplete(){this.isPlayingFirstAd()&&this.fireTrackers(Hd.COMPLETE)},beforeAdClickThru(){this.fireTrackers(Hd.CLICK)},beforeAdSkipped(){this.tryToFireSkip()},beforeClose(t,e){const i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).err;if(i){const t=Ze.encode(i?.message||i);this.fireTrackers(Hd.ERROR,kr,t)}else this.hasEffectiveTrackerBeenFired()&&this.tryToFireUnfilled()},beforeReminderClickThru(){this.fireTrackers(Hd.CLICK)},beforeReminderSkipped(){this.tryToFireSkip()}}};function Jd(t){const{hostname:e}=new URL(t),[i,n]=[...e.split(".")].reverse();return`${n}.${i}`}const tc={methods:{adjustAdVolumeForAudioAutoplay(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.referrer;const{config:e,macroValues:i,adControllerInstance:n}=this.outstreamInstance,{fromTag:r}=n.currentAd?.adData||{};e.options.autoplayWithAudio&&function(t,e,i,n){try{const r=Jd(Ze.decode(t))===Jd(e),{country:s,region:a,findname:o}=i||{},d=s===Dr.SPAIN&&tt(a===Mr||o===Nr.MADRID),c=["spotxchange",wr.TREMOR].some((t=>n?.includes(t)));return r&&d&&c}catch(t){return!1}}(i[Fe.REFERRER_URL],t,e.geoTarget?.city,r)&&n.currentAd.linearCreative.setAdVolume(.1)}}};function ec(t){let{dimensions:e={},maxWidth:i,maxHeight:n}=t;const{ratio:r}=e,s={...e};return tt(r)||(Dt(i)&&s.width>i&&(s.width=i,s.height=Ma("height")(i,r)),Dt(n)&&s.height>n&&(s.width=Ma("width")(n,r),s.height=n)),s}function ic(t,e){let{maxWidth:i,slotRatio:n,forceSize:r,device:s}=e;const a={...t},o=Ma("height")(i,n),d=Xn[`${a.width}x${a.height}`];if(tt(d))return tt(a.width&&a.height)&&(a.width=i,a.height=Ma("height")(i,a.ratio)),ec({dimensions:a,maxWidth:i,maxHeight:o});const c=d?.reduceAvaWidth?.[s];if(c){const t=Pt(c)?i*c:.5*a.width;a.width=Vn(t),a.height=Ma("height")(a.width,a.ratio)}return ec({dimensions:a,maxWidth:i,...r&&{maxHeight:o}})}const nc="99999",rc=`\n  .${y}-ad-container.ava {\n    position: fixed;\n    z-index: ${nc};\n  }\n`,sc={props:{hasAvaPosition:!0},methods:{mountAvaPosition(){Li(fr,rc,{concat:!0})},obtainAdAvaPosition(){const{config:t,device:e,adControllerInstance:i}=this.outstreamInstance,{slotRatio:n}=t.options;let r={...i?.currentAd?.dimensions};const{bottom:s,position:a,margin:o,forceSize:d,maxWidth:c}=t.ava,[l,u]=a.split("_");r=ic(r,{maxWidth:c,forceSize:d,slotRatio:n,device:e});const h=tt(u)?{left:"50%",transform:"translateX(-50%)"}:{[u]:o};return{width:r.width,height:r.height,[l]:s,...h,visibility:"visible"}},obtainDefaultAvaPosition(){const{config:t}=this.outstreamInstance,{slotRatio:e}=t.options,{bottom:i,position:n,margin:r,maxWidth:s}=t.ava,[a,o="left"]=n.split("_");return{width:s,height:Ma("height")(s,e),[a]:i,[o]:r}},obtainReminderAvaDimensions(t){const{config:e,device:i}=this.outstreamInstance,{slotRatio:n,reminder:r}=e.options;let{width:s,height:a}=t;const{maxWidth:o,forceSize:d}=e.ava;if(tt(Dt(s)&&Dt(a))){const{mainRatio:t}=r;s=o,a=Ma("height")(o,t)}const c=ic({width:s,height:a,ratio:Ma("ratio")(s,a)},{maxWidth:o,forceSize:d,slotRatio:n,device:i}),{bottom:l,position:u,margin:h}=e.ava,[A,m]=u.split("_");return{position:"fixed","z-index":nc,width:c.width,height:c.height,[A]:l,[m]:h}}}},ac=`\n  .${y}-ad-container.expanded {\n    position: fixed;\n    top: 0;\n    left: 0;\n    background-color: #000000;\n    z-index: 2147483647;\n  }\n`,oc={props:{hasExpandedPosition:!0},methods:{mountExpandedPosition(){Li(fr,ac,{concat:!0})},obtainAdExpandedPosition:t=>({width:Fi(t),height:Bi(t),visibility:"visible"})}},dc=t=>{const e=(t=>t?.ownerDocument?.defaultView?.frameElement)(t);return r(e)?0:1+dc(e)};const cc={1:"Request Payload error - Json Schema",10:"Generic purpouses are not validated in GDPR consent",11:"Requester Vendor is not validated in GDPR consent",12:"Vendor RA is not validated in GDPR consent",13:"This requests needs GPDR to be processed",14:"The CMP in the consentString is invalid"};class lc extends Error{constructor(){let{e:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.name="ExteServiceError",this.message=cc[t]||"Unknown error on Exte service."}}const uc="q",hc="s",Ac={[hc]:{IMPRESSION:{name:"imp",value:1},START:{name:"start",value:2},FIRST_QUARTILE:{name:"quartile_1",value:3},MIDPOINT:{name:"quartile_2",value:4},THIRD_QUARTILE:{name:"quartile_3",value:5},COMPLETE:{name:"complete",value:6},SKIP:{name:"close",value:7},CLICK:{name:"click",value:8},MUTE:{name:"mute",value:12},UNMUTE:{name:"unmute",value:13},RESUME:{name:"resume",value:14},PAUSE:{name:"pause",value:15},FULLSCREEN:{name:"fullscreen",value:17},EXIT_FULLSCREEN:{name:"exit_fullscreen",value:18},ENGAGEMENT:{name:"engagement",value:19},REQUEST:{name:"request",value:20},GROSS_REQUEST:{name:"gross_request",value:23},PASSBACK:{name:"passback",value:24},BLANK:{name:"blank",value:25},REQUESTS_AVAILABLE_PREMIUM:{name:"requests_available_premium",value:31},REQUEST_AVAILABLE_OPEN:{name:"request_available_open",value:32},LOAD_IMPRESSION:{name:"load_impression",value:40},VISUAL_ENGAGEMENT:{name:"visual_engagement",value:41},VAST_ERROR:{name:"vast_error",value:42},EXEC_ERROR:{name:"exec_error",value:43}},[uc]:{MEASURABLE:{name:"measurable",value:1},VIEWABLE:{name:"viewable",value:2}}};function mc(t){const e=Ac[t];return Object.entries(e).reduce(((t,e)=>{let[i,{name:n,value:r}]=e;return{eventNames:{...t.eventNames,[i]:n},eventValues:{...t.eventValues,[n]:r}}}),{eventNames:{},eventValues:{}})}const{eventNames:pc,eventValues:gc}=mc(hc),{eventNames:fc,eventValues:vc}=mc(uc),Ec={...pc,...fc},bc={ethernet:1,wifi:2,"slow-2g":4,"2g":4,"3g":5,"4g":6};function Ic(t){let{burl:e,t:i}=t;const{[hc]:{endpoint:n},[uc]:{endpoint:r}}=i,s=(t,e)=>t.replace("[EVENT_ID]",e.toString()),a=(t,i)=>ke(((t,n)=>{let[r,a]=n;return{...t,[r]:`${i}${s(e,a)}&rnd=[RANDOM]`}}),{},Object.entries(t));return{...a(gc,n),...a(vc,r)}}async function yc(t){let{platform:e,siteId:i,publisherId:n,placementId:r,instance:s,sdkType:a,sdkExtra:o,inblock:d,demand:c,publisherIntegration:l,supportedFormats:u,referer:h,numIframes:A,gdprConsent:m,gdpr:p}=t;const g=function(){const t=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,{effectiveType:e,type:i}=t||{};return bc[i]??bc[e]??0}(),f=window.navigator.hardwareConcurrency,{gpu:v,webgl:E}=function(){const t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");let i="";if(e){const t=e.getExtension("WEBGL_debug_renderer_info");i=e.getParameter(t.UNMASKED_RENDERER_WEBGL)}return{gpu:Boolean(i),webgl:Boolean(e)}}(),b=Number(function(){try{window.top.document}catch{return!0}return!1}()),I=function(){const{width:t,height:e}=window.screen;return`${t}x${e}`}(),{userAgent:y}=window.navigator,{data:T}=await xt({url:"https://s.richaudience.com/ex/",method:"POST",data:{plid:e,site_id:i,pub_id:n,pid:r,instance:s,sdk_type:a,sdk_extra:o,ib:d,demand:c,pub_int:l,sf:u,ref:(C=h,C&&tt(C.startsWith("http"))?`https://${C}`:C),num_iframes:A,safe_frame:b,...m&&{gdpr_consent:String(m)},gdpr:p,user_agent:y,scr_rsl:I,cpuc:f,gpu:Number(v),webgl:Number(E),connection:g}});var C;const S=JSON.parse(gt(T));if("e"in S)throw new lc(S);const{content:w}=S;return{...w&&{content:w},trackers:dt(Ic)(S)}}function Tc(t){return Xn[t]?.id||0}const Cc={init(){this.getRequestParams=this.getRequestParams.bind(this)},methods:{getRequestParams(t){const{config:e,instanceIndex:i,macroValues:n}=this.outstreamInstance;return{platform:"sm",siteId:e.site,publisherId:e.publisher,placementId:e.it,instance:i+1,sdkType:"inhome",sdkExtra:"tbd",inblock:mt(Number,ed)(e),demand:["display","video"],publisherIntegration:e.publisherIntegration,supportedFormats:(s=e.sizes,a=e.videoFormat,[a,...(s||[]).map(Tc)]),referer:Ze.decode(n[Fe.REFERRER_URL]),numIframes:(r=t,tt(Ti(r)&&r.isConnected)?-1:dc(r)),gdprConsent:n[Fe.CONSENT_STRING],gdpr:n[Fe.GDPR_APPLIES]};var r,s,a},fetchExtePlacementData(t){const{skipExteService:e}=this.outstreamInstance.config;return e?null:mt(yc,this.getRequestParams)(t)}}};const Sc="alt",wc="house",Rc="smartadserver",kc=20,Pc=21,Dc=22,Mc=ke(((t,e)=>({...t,...e.AD_SYSTEM.reduce(((t,i)=>({...t,[i]:{value:e.VALUE,campaignType:e.CAMPAIGN_TYPE}})),{})})),{},{AMAZON:{AD_SYSTEM:["MediaMind"],VALUE:"a9",CAMPAIGN_TYPE:Q},GOOGLE_AD_MANAGER:{AD_SYSTEM:["VPAIDIMA3"],VALUE:"gam",CAMPAIGN_TYPE:Q},MAGNITE:{AD_SYSTEM:["Tremor SSP"],VALUE:"magnite",CAMPAIGN_TYPE:H},RICH_AUDIENCE:{AD_SYSTEM:["RichAudience"],VALUE:"richaudience",CAMPAIGN_TYPE:Q},SPOTX:{AD_SYSTEM:["SpotXchange"],VALUE:"spotx",CAMPAIGN_TYPE:H},VIDEOPLAZA:{AD_SYSTEM:["Videoplaza Karbon","SunStudio","SM_AdFactory","SUNMEDIA TV Brand Reminder"],VALUE:"videoplaza",CAMPAIGN_TYPE:H}}),Nc="";function Oc(t,e){let{adFactory:i,dimensions:n}=t;if(tt(i)||i.type===p.TYPES.VIDEO)return e;if(tt(n?.width||n?.height))return Nc;const r=`${n.width}x${n.height}`;return Xn[r]?.id||0}function xc(t){let{adFactory:e,bid:i,initialAdTag:n,platformData:r}=t;return i?i.bidderName:e?.type===g.TYPES.INDISPLAY?Rc:!1===n?.isSunmedia?wc:Mc[r?.adSystem]?.value??Nc}function Lc(t){let{adFactory:e,bid:i,platformData:n}=t;return e?.type===g.TYPES.HEADER_BIDDING?i?i.dealId?j:Q:Nc:Mc[n?.adSystem]?.campaignType??H}function Uc(t){let{videoplazaWaterfall:e}=t;return e?.campaignId??Nc}function Vc(t){let{adFactory:e}=t;return e?.type===g.TYPES.HEADER_BIDDING?q:_}function Fc(t){let{adFactory:e}=t;return function(t){const{adFactory:e}=t;return tt(e)||e.type===p.TYPES.VIDEO}({adFactory:e})?K:[g.TYPES.HEADER_BIDDING,g.TYPES.INDISPLAY].includes(e?.type)?$:Z}const Bc={init(){this.queue=function(){let t=[];const e=[];return{emit(i){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];it(i,"event name"),e.push([i,...r]),d(t,(t=>t(i,...r)))},subscribe:i=>(ye(i,"queue listener"),t.push(i),d(e,(t=>i(...t))),{unsubscribe(){t=Wt((t=>t===i),t)}})}}(),this.unsubscribeFromUserLeaving=Rt},props:{adCount:0},methods:{fireExteTracker(t){let{sender:e=us,alt:i,error:n=Nc}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{silentExteTracking:r}=this.outstreamInstance.config,{trackers:s}=this.extePlacementData||{};if(r||tt(s?.[t]))return;const{adControllerInstance:a,config:o,macroValues:d}=this.outstreamInstance,c=a?.currentAd;let l;if(i||tt(c))l={...Yt((()=>Nc),Ge),[Fe.ROUND]:this.adCount,[Fe.GDPR_APPLIES]:d[Fe.GDPR_APPLIES],[Fe.CONSENT_STRING]:d[Fe.CONSENT_STRING],[Fe.BIDDER_NAME]:i?Sc:Nc,[Fe.ERROR_CODE]:n,[Fe.RANDOM]:be()};else{const t=function(t){let{adData:e,bid:i}=t;if(i)return{price:i.cpm??Nc,currency:i.currency??Nc};const n=t=>{const[{$:{currency:e},_:i}]=t;return{price:i,currency:e}};try{const[{Pricing:t,Extensions:i}]=e.raw.InLine;if(t)return n(t);if(i){const[{Extension:t}]=i,[{Price:e}]=t;if(e)return n(e)}}catch{}return{price:Nc,currency:Nc}}(c);l={[Fe.ROUND]:this.adCount,[Fe.SUBTYPE_ID]:Oc(c,o.videoFormat),[Fe.GDPR_APPLIES]:d[Fe.GDPR_APPLIES],[Fe.CONSENT_STRING]:d[Fe.CONSENT_STRING],[Fe.ADV_DOMAIN]:c.bid?.advDomain??Nc,[Fe.BIDDER_NAME]:xc(c),[Fe.AUCTION_ID]:c.bid?.auctionId??Nc,[Fe.DEAL_ID]:c.bid?.dealId??Nc,[Fe.REVENUE]:t.price,[Fe.CURRENCY]:t.currency,[Fe.CREATIVE_ID]:Uc(c),[Fe.CAMPAIGN_TYPE]:Lc(c),[Fe.DEMAND_INTEGRATION]:Vc(c),[Fe.DEMAND_TYPE]:Fc(c),[Fe.ERROR_CODE]:n}}mt(e,gs(Ge,l))(s?.[t])},startExteTracking(){this.unsubscribeFromUserLeaving=this.subscribeToUserLeaving()},subscribeToUserLeaving(){const t=this.onUserLeaving.bind(this);return window.addEventListener("beforeunload",t,{once:!0}),()=>{window.removeEventListener("beforeunload",t)}},onUserLeaving(){const t=navigator.sendBeacon.bind(navigator);this.adCount?this.fireExteTracker(Ec.EXEC_ERROR,{sender:t,error:Pc}):(this.fireExteTracker(Ec.EXEC_ERROR,{sender:t,error:kc}),this.fireExteTracker(Ec.BLANK,{sender:t}))},adObtained(t){this.adCount+=1,this.fireExteTracker(Ec.REQUEST,t)}},hooks:{beforeAdLoaded(){const{adControllerInstance:t}=this.outstreamInstance,{isProgrammaticDisplay:e}=t?.currentAd||{};e||this.adObtained()},beforeAdStarted(){const{adControllerInstance:t}=this.outstreamInstance,{isProgrammaticDisplay:e}=t?.currentAd||{};e&&this.adObtained()},beforeAdImpression(){this.unsubscribeFromUserLeaving(),this.fireExteTracker(Ec.IMPRESSION)},beforeAdVideoStart(){this.fireExteTracker(Ec.START)},beforeAdVideoFirstQuartile(){this.fireExteTracker(Ec.FIRST_QUARTILE)},beforeAdVideoMidpoint(){this.fireExteTracker(Ec.MIDPOINT)},beforeAdVideoThirdQuartile(){this.fireExteTracker(Ec.THIRD_QUARTILE)},beforeAdVideoComplete(){this.fireExteTracker(Ec.COMPLETE)},beforeAdClickThru(){this.fireExteTracker(Ec.CLICK)},beforeAdSkipped(){this.fireExteTracker(Ec.SKIP)},beforeAdPlaying(){this.fireExteTracker(Ec.RESUME)},beforeAdPaused(){this.fireExteTracker(Ec.PAUSE)},beforeSMAdMuted(){this.fireExteTracker(Ec.MUTE)},beforeSMAdUnmuted(){this.fireExteTracker(Ec.UNMUTE)},beforeSMVastError(t,e,i){tt(i instanceof vs)||this.fireExteTracker(Ec.VAST_ERROR,{error:i.code})},beforeAdError(t,e,i){tt(i instanceof Va)||this.fireExteTracker(Ec.EXEC_ERROR,{error:Dc})},beforeAlternativeMounted(){this.unsubscribeFromUserLeaving();const t={alt:!0};this.adObtained(t),this.fireExteTracker(Ec.IMPRESSION,t)},beforeClose(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.unsubscribeFromUserLeaving();i.err&&this.fireExteTracker(Ec.EXEC_ERROR),0===this.adCount&&this.fireExteTracker(Ec.BLANK)}}},Gc={init(){this.optionsCallbackFired={}},methods:{fireOptionsCallbackOnce(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i=t,mt(tt,ce)(i)||this.optionsCallbackFired[t])return;var i;this.optionsCallbackFired[t]=!0;const{options:n}=this.outstreamInstance.config;bi(n,{...e,status:t})}},hooks:{afterAdImpression(){this.fireOptionsCallbackOnce("SunMediaStart")},beforeClose(t,e){let{adControllerInstance:i}=t,{adHasBeenPlayed:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{mainPosition:r}=this.getAvailablePositions({hasAva:!1})||{};this.fireOptionsCallbackOnce("SunMediaEnd",{container:r?.$container?.parentElement,playerUI:i?.playerUI,ads:n?1:0})}}},zc={methods:{isPlayerContent(){const{config:{allowPlayerContent:t}}=this.outstreamInstance;return Boolean(t&&this.extePlacementData?.content?.tag)},normalizePlayerContentConfig(){const{config:t,device:e}=this.outstreamInstance,{content:{tag:i}}=this.extePlacementData,[n]=e;return{...t,adTags:[{isSunmedia:!0,pbid:`${A.INTEGRATION}${m.VAST}${[n]}1`,pbt:"d",trafficType:"DIRECT",url:i}],loop:{enabled:!1},alternative:{content:void 0},bannedSizes:[],options:{...t.options,...t.options.restart&&{restart:!1},skip:!1,autoplayWithAudio:!1}}},givesControlToPlayerContent(){const{adControllerInstance:t}=this.outstreamInstance;setTimeout((()=>{t.currentAd.linearCreative.pauseAd()}))}}};function Wc(t){customElements.get(t.name)||customElements.define(t.name,t)}function Yc(t){d(o(t)?t:[t],Wc)}const Qc={NUMBER:"number",BOOLEAN:"boolean"},Hc=Wn((t=>Qc[t]),Qc),jc=at(2,ct(d));function _c(t,e){return t===Qc.NUMBER?tt(Ue(e))&&(null===e||Pt(Number(e))):t!==Qc.BOOLEAN||(null===e||Ue(e)||Le(_e(e)))}function qc(t){let e=null;const{attributes:i=[]}=t,n=zt((t=>J(t.onConnect)),i),s=zt((t=>J(t.onChange)),i),a={};if(tt(Tt(t)))throw new Error("Element definition must be an object");if(tt(ce(o=t.tag)&&/(\w+)-(\w)([\w-]*)/.test(o)&&tt(o.includes("_"))))throw new Error("Element tag not valid. Must be a kebab-case string");var o;function c(t,e){const{type:n}=i[t];return n===Qc.BOOLEAN?function(t){return null===t?t:""===t||_e(t)}(e):n===Qc.NUMBER?function(t){return null===t?t:Number(t)}(e):e}class l extends HTMLElement{constructor(){super(),e=this.constructor.prototype,this.attachShadow({mode:t.mode||"open"}),this.connectedAttributes=Yt((t=>({...t,onConnect:t.onConnect.bind(this)})),n),this.attributesToObserve=Yt((t=>({...t,onChange:t.onChange.bind(this)})),s),d(t.methods,(t=>{this[t.name]=this[t.name].bind(this)})),J(t.setup)&&t.setup.call(this),this.mounted=!1}static get observedAttributes(){return Object.keys(s)}discardInvalidValues(){d(zt(Rs("type"),i),((t,e)=>{let{type:i}=t;if(tt(Hc[i]))throw new Error(`the type ${i} indicated for the attribute ${e} is invalid`);tt(this.attributes[e])||tt(_c(i,this.attributes[e].value))&&this.removeAttribute(e)}))}updateConnectedAttributes(){mt(jc((t=>{let{name:e,value:i}=t;this.connectedAttributes[e].onConnect(c(e,i))})),zt((t=>{let{name:e}=t;return n[e]})))(this.attributes)}updateObservedAttributes(){mt(jc(this.onAttributeChange.bind(this)),zt((t=>{let{name:e}=t;return s[e]})))(this.attributes)}onAttributeChange(t){let{name:e,value:n,oldValue:r=null}=t;const{type:s}=i[e],o=_c(s,n),d=o?c(e,n):n,l=_c(s,r)?c(e,r):r;if(d!==l){if(n!==a[e])return tt(o)?(a[e]=r,null===r?void this.removeAttribute(e):void this.setAttribute(e,r)):void this.attributesToObserve[e].onChange(d,l);delete a[e]}}connectedCallback(){if(!tt(this.isConnected))try{this.mounted&&(this.mounted=!1,this.shadowRoot.innerHTML=""),this.discardInvalidValues(),function(t,e){const i=Array.from(e||[]).reduce(((t,e)=>({...t,[e.name]:e.value})),{});d(t||{},((t,e)=>{let{required:n}=t;if(n&&r(i[e]))throw new Error(`the attribute ${e} is required`)})),d(t||{},((t,e)=>{let{validator:n}=t;if(J(n)&&tt(r(i[e])||n(i[e])))throw new Error(`the ${e} value ${i[e]} is not valid`)}))}(t.attributes,this.attributes);const e=function(t,e){const i=`\n    ${ce(t)?`<style>${Ri(t)}</style>`:""}\n    ${e||""}\n  `;return document.createRange().createContextualFragment(i)}(t.style,t.template);J(t.beforeMount)&&t.beforeMount.call(this,e),this.updateConnectedAttributes(),this.updateObservedAttributes(),this.shadowRoot.appendChild(e),this.mounted=!0,J(t.mounted)&&t.mounted.call(this)}catch{}}disconnectedCallback(){J(t.unmounted)&&t.unmounted.call(this)}adoptedCallback(){e&&this.constructor.prototype!==e&&Object.setPrototypeOf(this,e),J(t.documentChanged)&&t.documentChanged.call(this)}attributeChangedCallback(t,e,i){tt(this.isConnected&&this.mounted)||this.onAttributeChange({name:t,value:i,oldValue:e})}}return Object.defineProperty(l,"name",{value:t.tag}),d(t.methods,(t=>{l.prototype[t.name]=t})),d(t.attributes,((t,e)=>{Object.defineProperty(l.prototype,e,{get(){const t=this.getAttribute(e);return c(e,t)},set(t){this.setAttribute(e,t)}})})),l}const Kc=qc({tag:"sun-close",style:"\n  :host div {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    border-radius: 2px;\n    background-color: rgba(0, 0, 0, 0.06);\n  }\n\n  :host div:hover {\n    background-color: rgba(0, 0, 0, 0.6);\n  }\n\n  :host div:hover svg path {\n    fill: #FFFFFF;\n  }\n",template:'\n  <div>\n    \n  <svg width="40%" height="40%" viewBox="0 0 6 6" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path\n      fill-rule="evenodd"\n      clip-rule="evenodd"\n      d="M2.99431 3.34788L5.28993 5.6435L5.64348 5.28995L3.34787\n      2.99433L5.64353 0.698661L5.28998 0.345108L2.99431\n      2.64077L0.698646 0.345108L0.345093 0.698661L2.64076\n      2.99433L0.34514 5.28995L0.698694 5.6435L2.99431 3.34788Z"\n      fill="#141414"/>\n  </svg>\n\n  </div>\n'});function $c(t){return Oi({type:"iframe",style:{width:"100%",height:"100%"},attributes:{width:"100%",height:"100%",scrolling:"no",frameborder:"0",...t&&{src:t}}})}function Zc(t,e){return new Promise(((i,n)=>{const r=$c();r.onerror=t=>{n(t)},r.onload=async()=>{const{contentDocument:e}=r;e.body.style.margin="0 auto",$a(e.body,Ze.decode(t)),i(r)},xi(e,r)}))}function Xc(t,e){return new Promise(((i,n)=>{const r=Oi({type:"img",style:{width:"100%",height:"100%"},attributes:{src:t}});r.onerror=t=>{n(t)},r.onload=()=>{i(r)},xi(e,r)}))}function Jc(t,e){return new Promise(((i,n)=>{const r=$c(t);r.onerror=t=>{n(t)},r.onload=()=>{i(r)},xi(e,r)}))}const tl=qc({tag:"sun-reminder",style:"\n  :host {\n    margin: 0;\n    height: 100%;\n    width: 100%;\n  }\n\n  ::slotted(iframe) {\n    border: none;\n  }\n\n  :host .click-layer {\n    background: transparent;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    z-index: 10;\n    cursor: pointer;\n  }\n\n  :host .close {\n    position: absolute;\n    right: 5px;\n    top: 5px;\n    width: 20px;\n    height: 20px;\n    z-index: 12;\n  }\n",template:'\n    <slot></slot>\n    <sun-close class="close" part="close-button" style="display: none;"></sun-close>\n    <div class="click-layer" style="display: none;"></div>\n  ',attributes:{skipoffset:{}},setup(){this.eventEmitter=new Se,Yc([Kc])},async mounted(){const{htmlResource:t,iframeResource:e,staticResource:i,clickThroughUrl:n}=this.companion;try{await(async t=>{let{htmlResource:e,staticResource:i,iframeResource:n,resourceSlot:r}=t;const s=[{content:e?.content,load:Zc},{content:i?.content,load:Xc},{content:n?.content,load:Jc}],{content:a,load:o}=s.find((t=>Boolean(t.content)))||{};return tt(a)?Promise.reject(new Error("Unknown type of resource")):o(a,r)})({htmlResource:t,iframeResource:e,staticResource:i,resourceSlot:this})}catch(t){return void this.emit(ir.ERROR)}if(n){!function(t,e){t.addEventListener("click",e),wi(t,{display:"block"})}(this.shadowRoot.querySelector(".click-layer"),this.clickLayerListener)}if(this.skipoffset){const t=this.shadowRoot.querySelector(".close");this.mountCloseButtonTimeout=setTimeout((()=>{!function(t,e){t.addEventListener("click",e),wi(t,{display:"block"})}(t,this.closeButtonListener)}),1e3*this.skipoffset)}this.emit(ir.MOUNTED)},unmounted(){clearTimeout(this.mountCloseButtonTimeout)},methods:{clickLayerListener(){this.emit(ir.CLICK),window.open(this.companion.clickThroughUrl,"_blank")},closeButtonListener(){this.emit(ir.SKIPPED)},endAd(){this.emit(ir.ENDED)},emit(t,e){this.eventEmitter.emit(t,e)},subscribe(t,e){this.eventEmitter.on(t,e)},unsubscribe(t,e){this.eventEmitter.off(t,e)}}});const el={init(){this.reminderElements=[],this.reminderSubscribers=[],this.createConcurrentReminder=this.createConcurrentReminder.bind(this),this.createEndCardReminder=this.createEndCardReminder.bind(this),this.removeReminders=this.removeReminders.bind(this)},props:{reminderDurationTimeoutID:null},methods:{removeReminders(){d(this.reminderSubscribers,(t=>{t.unsubscribeAll()})),this.reminderSubscribers=[],clearTimeout(this.reminderDurationTimeoutID),this.reminderDurationTimeoutID=null,d(this.reminderElements,Ci),this.reminderElements=[]},createConcurrentReminder(t){let{oneTimeListeners:e,positionStyle:i,hidden:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skip:r,skipTime:s}=this.outstreamInstance.config.options;return this.createReminder(t,{attributes:{...r&&{skipoffset:s}},oneTimeListeners:e,positionStyle:i,hidden:n})},createEndCardReminder(t){let{oneTimeListeners:e,positionStyle:i,hidden:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{adControllerInstance:s,config:a}=this.outstreamInstance,{displayCloseBtnTime:o}=a.options?.reminder||{},d=Dt(o),c=s?.currentAd?.isNoVideoReminder?nr.NO_VIDEO_REMINDER:nr.VIDEO_REMINDER,l=this.createReminder(t,{attributes:{...d&&{skipoffset:o}},oneTimeListeners:e,positionStyle:i,hidden:n});return r(this.reminderDurationTimeoutID)&&(this.reminderDurationTimeoutID=setTimeout(l.endAd,c)),l},createReminder(t,e){let{attributes:i,oneTimeListeners:n,positionStyle:r,hidden:s=!1}=e;if(tt(t))return null;const{config:a,device:o,instanceIndex:d}=this.outstreamInstance,c=function(t){let{style:e={},attributes:i={}}=t;return Yc([tl]),Oi({type:"sun-reminder",style:e,attributes:i})}({attributes:{...i,data:{it:a.it,index:d,device:o}},style:{...r,...s&&{visibility:"hidden"}}});c.companion=t;const{adTrackingEventStore:l}=t;return this.subscribeToReminderEvents(c,l,n),this.reminderElements.push(c),c},subscribeToReminderEvents(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.outstreamInstance.eventSubscriberFactory(t);n.subscribe({[ir.CLICK]:()=>{this.outstreamInstance.hooksManager.beforeReminderClickThru();ms(e[Yr])}}),n.subscribeOnce({...i,[ir.MOUNTED]:()=>{ms(e[qr]),i?.[ir.MOUNTED]()},[ir.SKIPPED]:()=>{this.outstreamInstance.hooksManager.beforeReminderSkipped(),this.removeReminders(),i?.[ir.SKIPPED]()},[ir.ENDED]:At(this.removeReminders,i[ir.ENDED]||Rt),[ir.ERROR]:At(this.removeReminders,i[ir.ERROR]||Rt)}),this.reminderSubscribers.push(n)}}},il=new Error("No user consent"),{GDPR_APPLIES:nl,CONSENT_STRING:rl}=Fe,sl={[rl]:v,[nl]:b};function al(){const t=pe.getState(T)||{};return t.cmpFunctionState===I.NOT_FOUND?Promise.resolve(null):t.completed?Promise.resolve(t):Promise.reject(il)}async function ol(){let{isInEuCountry:t,gdprMacroValues:e={},settings:i={},debugLog:n=Rt}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{attempts:r,delay:s}=i,a=pe.getState(T)||{},o=e[nl]??a[nl]??Number(t);if(ws(e[rl]))return n(`[CMP]: ${Ir}`),{[rl]:e[rl],[nl]:o};const{cmpFunctionState:d}=a;if(d!==I.FOUND&&tt(o))return n(`[CMP]: ${Cr} of ${v}`),sl;let c=null;try{n(`[CMP]: ${Sr}${o?", integration will wait until response":""}`),c=await Ys(al,{attempts:o?-1:r,delay:s})}catch(t){if(o)throw n(`[CMP]: ${t}`),t;return n(`[CMP]: ${Tr} in ${(r-1)*s/1e3} second(s),\n    because ${Cr} of ${v}`),sl}if(tt(c))throw n(`[CMP]: ${Tr}`),il;const l=e[nl]??c[nl];n(`[CMP]: ${yr}`);const u={[rl]:c[rl],[nl]:l};return u}function dl(t){let{document:e}=t;return[t=>{const i=e.getElementById(t);return i?[i]:[]},t=>e.getElementsByClassName(t),t=>e.querySelectorAll(t),t=>[...e.querySelectorAll(`div[itemprop='${t}']`),...e.querySelectorAll(`article[itemprop='${t}']`)]]}function cl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=t;return t<0?(i=e.length-1+t,i<0&&(i=0)):t>=e.length&&(i=e.length>0?e.length-1:0),i}function ll(t,e){let i=[];return e.some((e=>(i=mt(function(t){return function(){let e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).some((i=>(e=dt(i)(t)||[],Boolean(e.length)))),e}}(e.trim()),dl)(t)||[],Boolean(i.length)))),i}function ul(t){const e=function(t){return function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];const r=Object.create(t.methods||null);return Object.assign(r,t.props),(t.init||[]).forEach((t=>{t.call(r,...i)})),r}}(t);return e.compose=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return Al.apply(this,e)},Object.assign(e.compose,t),e}function hl(t,e){const i=J(n=e)&&J(n.compose)?e.compose:e;var n;return tt((t=>Tt(t)||J(t))(i))||(t.props=Ct(t.props,i.props),t.methods=Object.assign(t.methods||{},i.methods),t.init=(t.init||[]).concat(i.init||[])),t}function Al(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];yt(this)&&e.unshift(this);const n=e.reduce(hl,{});return ul(n)}const ml=Al,pl={build:Rt,mount:Rt,adContainerMounted:Rt,adContainerUnmounted:Rt,initAdController:Rt,createObservables:Rt,getContainerWidth:()=>0,getAdContainerParent:Rt,updateAdPosition:Rt,adPreload:Rt,startAd:Rt,programmaticDisplayLoaded:Rt,adStarted:Rt,adSkipped:Rt,manageAdStopped:()=>!1,manageAdEnded:()=>!1,adError:Rt,updateConfigOptions:Rt,adExpandedChange:Rt,getAvailablePositions:Rt,reset:Rt,removeElements:Rt,noMoreContentAvailable:()=>!0};const{CONSENT_STRING:gl,GDPR_APPLIES:fl}=Fe,vl=()=>function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=[t,...t.mixins||[]];return ml({init(i){this.outstreamInstance=i,this.name=i?.config?.sdkType,this.pluginDefinition=t;const n=Ee(e,this);i.hooksManager.addMany(n)},methods:{...pl}}).compose(...e)}({mixins:[Xd,tc,sc,oc,Cc,Bc,Gc,zc,el],init(){const{config:t,instanceIndex:e}=this.outstreamInstance;this.outstreamInstance.config=function(t,e){const{integrationInstances:i}=t;return Ct(t,((i||[]).find((t=>t.index===e))||{}).config)}(t,e)},props:{extePlacementData:null},methods:{async build(){const{config:t,macroValues:e}=this.outstreamInstance,i=st.info.bind(st);t.options.delay&&await Ln(t.options.delay),this.outstreamInstance.updateMacroValues({...await ol({isInEuCountry:t.geoTarget.eu_country,gdprMacroValues:{[gl]:e[gl],[fl]:e[fl]},settings:t.userConsentSettings.timeToWaitForUserConsent,debugLog:i})});const n=this.getAdContainerParent();this.extePlacementData=await this.fetchExtePlacementData(n),this.isPlayerContent()&&(this.outstreamInstance.config=this.normalizePlayerContentConfig()),this.startExteTracking()},mount(){this.mountAvaPosition(),this.mountExpandedPosition()},adContainerMounted(){this.setEffectiveTarget(this.outstreamInstance.$adContainer)},getAdContainerParent(){const{config:{options:t},wind:e}=this.outstreamInstance,i=t.adContainerParent?function(){let t,{wind:e=window,selectors:i=[],position:n=0,strictPosition:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const s=ll(e,i||[]);ws(s)&&(t=s[r?n:cl(n,s)]);return t}({wind:e,selectors:[t.adContainerParent],position:0}):void 0;return i||e.document.body},createObservables(){},updateAdPosition(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{state:i,adControllerInstance:n,adEnded:r,adPosition:s,$adContainer:a}=this.outstreamInstance;if(tt(a))return;const o=n?.currentAd?.dimensions&&i>ar&&i<Ar&&tt(r);if(!tt(o)||t===mr)switch(t){case mr:{if(s===mr&&tt(e))break;const t=this.obtainDefaultAvaPosition();Wi(a,"remove","expanded"),Wi(a,"add","ava"),wi(a,t,!0),this.outstreamInstance.adPosition=mr;break}case pr:{if(s===pr&&tt(e))break;const t=this.obtainAdAvaPosition();this.outstreamInstance.batchMoveAdChanges(t,(()=>{Wi(a,"remove","expanded"),Wi(a,"add","ava"),wi(a,t,!0);const e=n.currentAd.isAdFactory?"ava":void 0;this.outstreamInstance.adControllerInstance.resizeAd(t.width,t.height,e)})),this.outstreamInstance.adPosition=pr;break}case gr:{if(s===gr&&tt(e))break;const t=this.obtainAdExpandedPosition();this.outstreamInstance.batchMoveAdChanges(t,(()=>{Wi(a,"remove","ava"),Wi(a,"add","expanded"),wi(a,t,!0),n.resizeAd(t.width,t.height,"fullscreen")})),this.outstreamInstance.adPosition=gr;break}}},displayReminders(t,e,i,n){if(tt(t))return;const r=e(t,{oneTimeListeners:i,positionStyle:this.obtainReminderAvaDimensions(t),hidden:n});r.dataset.ava=!0;this.getAdContainerParent().appendChild(r)},getAvailablePositions(){return{avaPosition:{$container:this.getAdContainerParent()}}},removeElements(){this.removeReminders()},programmaticDisplayLoaded(){this.updateAdPosition(pr)},startAd(){this.adjustAdVolumeForAudioAutoplay(),this.updateAdPosition(pr),this.outstreamInstance.startAd()},adStarted(){const{adControllerInstance:{currentAd:t}}=this.outstreamInstance;if(this.isPlayerContent())return void this.givesControlToPlayerContent();const{concurrent:e}=t?.adCompanions||{},i={[ir.ERROR]:()=>{this.outstreamInstance.endAd()},[ir.SKIPPED]:()=>{this.outstreamInstance?.adControllerInstance?.skipAd()}};this.displayReminders(e,this.createConcurrentReminder,i,!0)},adSkipped(){this.removeReminders()},manageAdStopped(){const{adControllerInstance:t}=this.outstreamInstance,{adCompanions:e}=t?.currentAd||{};this.removeReminders();const i=e?.endcards;if(i){const{main:t,ava:i}=e.endcards,n={[ir.ENDED]:()=>{this.outstreamInstance.endAd()},[ir.ERROR]:()=>{this.outstreamInstance.endAd()},[ir.SKIPPED]:()=>{this.outstreamInstance.endAdByUserInteraction()}};this.displayReminders(t,this.createEndCardReminder,n),this.displayReminders(i,this.createEndCardReminder,n,Boolean(t))}return i},adError(t){t?this.removeReminders():this.updateAdPosition(mr)},adExpandedChange(){const{adControllerInstance:t}=this.outstreamInstance,{currentAd:e}=t||{},i=e?.expanded?gr:pr;this.updateAdPosition(i,!0)},noMoreContentAvailable(){return this.hasEffectiveTrackerBeenFired()}}});!function(t,e){let{defineSlots:n}=e;if(r(window.sunmediatag))window.sunmediatag={[t]:c({defineSlots:n})};else if(r(window.sunmediatag[t]))window.sunmediatag[t]=c({defineSlots:n});else if(o(window.sunmediatag[t].cmd)){const{cmd:e}=window.sunmediatag[t];window.sunmediatag[t]=c({defineSlots:n}),d(e,i)}}("INHOME-1.34.4",{defineSlots:async function(t){let{defaultConfig,extraPackageName:e,currentScript:i}=t;try{X({type:S.NEW_INTEGRATION,payload:{config:defaultConfig}});const t=Ct(ud,defaultConfig);await async function(defaultConfig){const t=defaultConfig?.DEBUG||await mo.get(C.DEBUG);st.setMode(t),st.info("DEBUG",t)}(t),await vo();const n=await async function(t){let{components:e=[],config:i={},currentScript:n,extraPackageName:r,genericExtras:s={},locationUrl:a,pluginFactory:o,services:d=[],validateIntegration:c=Rt}=t,l=new Ii({components:e,config:i,currentScript:n,extraPackageName:r,genericExtras:s,locationUrl:a,pluginFactory:o,services:d,validateIntegration:c});try{await l.setup()}catch(t){l=null,bi(i.options,{status:"SunMediaEnd",ads:0}),st.error(t)}return l}({config:t,pluginFactory:Ao(vl),services:[{id:Gt.id,service:Gt.fetchGeolocation}],components:[md,yo,Do,No,yd],genericExtras:zd,extraPackageName:e,currentScript:i,validateIntegration:Eo});d(n?.createPluginInstances()||[],(t=>t.init()))}catch(t){st.error(t)}}})})();